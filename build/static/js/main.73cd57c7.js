/*! For license information please see main.73cd57c7.js.LICENSE.txt */
(()=>{var e={600:()=>{},784:(e,t,n)=>{"use strict";var r=n(184),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);h&&(o=o.concat(h(n)));for(var a=c(t),m=c(n),g=0;g<o.length;++g){var y=o[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=d(n,y);try{l(t,y,v)}catch(w){}}}}return t}},528:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(a[l]=s[l]);if(t){o=t(s);for(var u=0;u<o.length;u++)r.call(s,o[u])&&(a[o[u]]=s[o[u]])}}return a}},144:(e,t,n)=>{"use strict";var r=n(60),i=n(528),s=n(724);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function a(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var c=!1,l=null,u=!1,h=null,d={onError:function(e){c=!0,l=e}};function f(e,t,n,r,i,s,o,u,h){c=!1,l=null,a.apply(d,arguments)}var p=null,m=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,s,a,d,p){if(f.apply(this,arguments),c){if(!c)throw Error(o(198));var m=l;c=!1,l=null,u||(u=!0,h=m)}}(r,t,void 0,e),e.currentTarget=null}var v=null,w={};function b(){if(v)for(var e in w){var t=w[e],n=v.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!E[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,s=n[r],a=t,c=r;if(T.hasOwnProperty(c))throw Error(o(99,c));T[c]=s;var l=s.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],a,c);i=!0}else s.registrationName?(_(s.registrationName,a,c),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function _(e,t,n){if(S[e])throw Error(o(100,e));S[e]=t,I[e]=t.eventTypes[n].dependencies}var E=[],T={},S={},I={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!w.hasOwnProperty(t)||w[t]!==r){if(w[t])throw Error(o(102,t));w[t]=r,n=!0}}n&&b()}var x=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,N=null,A=null;function P(e){if(e=m(e)){if("function"!==typeof C)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function R(e){N?A?A.push(e):A=[e]:N=e}function D(){if(N){var e=N,t=A;if(A=N=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function O(e,t){return e(t)}function M(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=O,V=!1,U=!1;function j(){null===N&&null===A||(L(),D())}function z(e,t,n){if(U)return e(t,n);U=!0;try{return F(e,t,n)}finally{U=!1,j()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,K={},G={};function W(e,t,n,r,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){H[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];H[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){H[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){H[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){H[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){H[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){H[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){H[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){H[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,Y);H[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,Y);H[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,Y);H[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){H[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),H.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){H[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=H.hasOwnProperty(t)?H[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(G,e)||!q.call(K,e)&&(B.test(e)?G[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,se=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ae=Z?Symbol.for("react.concurrent_mode"):60111,ce=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ue=Z?Symbol.for("react.suspense_list"):60120,he=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,fe=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case se:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case fe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,s=ge(e.type);n=null,r&&(n=ge(r.type)),r=s,s="",i?s=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(s=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+s}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=we(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Ie(e,t){Se(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?xe(e,t.type,n):t.hasOwnProperty("defaultValue")&&xe(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function xe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Re(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Oe="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ve,Ue,je=(Ue=function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Ve=Ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ue(e,t)}))}:Ue);function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},Ke={},Ge={};function We(e){if(Ke[e])return Ke[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ke[e]=n[t];return e}x&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var He=We("animationend"),Qe=We("animationiteration"),Ye=We("animationstart"),Xe=We("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nt(i),e;if(s===r)return nt(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function st(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ct(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(st(e,at),ot)throw Error(o(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!x)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ht=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ht.length&&ht.push(e)}function ft(e,t,n,r){if(ht.length){var i=ht.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Dn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var s=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var a=null,c=0;c<E.length;c++){var l=E[c];l&&(l=l.extractEvents(r,t,s,i,o))&&(a=it(a,l))}ct(a)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var gt,yt,vt,wt=!1,bt=[],_t=null,Et=null,Tt=null,St=new Map,It=new Map,kt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Pt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=Nt(t,n,r,i,s),null!==t&&(null!==(t=On(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=Dn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void s.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=On(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Ot(e,t,n){Dt(e)&&n.delete(t)}function Mt(){for(wt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=On(e.blockedOn))&&gt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&Dt(_t)&&(_t=null),null!==Et&&Dt(Et)&&(Et=null),null!==Tt&&Dt(Tt)&&(Tt=null),St.forEach(Ot),It.forEach(Ot)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,wt||(wt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Mt)))}function Ft(e){function t(t){return Lt(t,e)}if(0<bt.length){Lt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Lt(_t,e),null!==Et&&Lt(Et,e),null!==Tt&&Lt(Tt,e),St.forEach(t),It.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Rt(n),null===n.blockedOn&&kt.shift()}var Vt={},Ut=new Map,jt=new Map,zt=["abort","abort",He,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],s="on"+(i[0].toUpperCase()+i.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[r],eventPriority:t},jt.set(r,t),Ut.set(r,s),Vt[i]=s}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(zt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<qt.length;Kt++)jt.set(qt[Kt],0);var Gt=s.unstable_UserBlockingPriority,Wt=s.unstable_runWithPriority,Ht=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=jt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){V||L();var i=Jt,s=V;V=!0;try{M(i,e,t,n,r)}finally{(V=s)||j()}}function $t(e,t,n,r){Wt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Ht)if(0<bt.length&&-1<xt.indexOf(e))e=Nt(null,e,t,n,r),bt.push(e);else{var i=Zt(e,t,n,r);if(null===i)At(e,r);else if(-1<xt.indexOf(e))e=Nt(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Pt(_t,e,t,n,r,i),!0;case"dragenter":return Et=Pt(Et,e,t,n,r,i),!0;case"mouseover":return Tt=Pt(Tt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return St.set(s,Pt(St.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,It.set(s,Pt(It.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=ft(e,r,null,t);try{z(pt,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=Dn(n=lt(r)))){var i=et(n);if(null===i)n=null;else{var s=i.tag;if(13===s){if(null!==(n=tt(i)))return n;n=null}else if(3===s){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{z(pt,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var sn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(sn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=Oe;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=I[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function un(){}function hn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=hn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=hn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$",vn="/$",wn="$?",bn="$!",_n=null,En=null;function Tn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var In="function"===typeof setTimeout?setTimeout:void 0,kn="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn||n===bn||n===wn){if(0===t)return e;t--}else n===vn&&t++}e=e.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+Nn,Pn="__reactEventHandlers$"+Nn,Rn="__reactContainere$"+Nn;function Dn(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[An]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[An])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function On(e){return!(e=e[An]||e[Rn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ln(e){return e[Pn]||null}function Fn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Vn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Un(e,t,n){(t=Vn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Fn(t);for(t=n.length;0<t--;)Un(n[t],"captured",e);for(t=0;t<n.length;t++)Un(n[t],"bubbled",e)}}function zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Vn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&zn(e._targetInst,null,e)}function qn(e){st(e,jn)}var Kn=null,Gn=null,Wn=null;function Hn(){if(Wn)return Wn;var e,t,n=Gn,r=n.length,i="value"in Kn?Kn.value:Kn.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Wn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Yn(){return!1}function Xn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Yn,this.isPropagationStopped=Yn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=$n,e.release=Jn}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var s=new t;return i(s,n.prototype),n.prototype=s,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Xn);var er=Xn.extend({data:null}),tr=Xn.extend({data:null}),nr=[9,13,27,32],rr=x&&"CompositionEvent"in window,ir=null;x&&"documentMode"in document&&(ir=document.documentMode);var sr=x&&"TextEvent"in window&&!ir,or=x&&(!rr||ir&&8<ir&&11>=ir),ar=String.fromCharCode(32),cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},lr=!1;function ur(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var dr=!1;var fr={eventTypes:cr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var s=cr.compositionStart;break e;case"compositionend":s=cr.compositionEnd;break e;case"compositionupdate":s=cr.compositionUpdate;break e}s=void 0}else dr?ur(e,n)&&(s=cr.compositionEnd):"keydown"===e&&229===n.keyCode&&(s=cr.compositionStart);return s?(or&&"ko"!==n.locale&&(dr||s!==cr.compositionStart?s===cr.compositionEnd&&dr&&(i=Hn()):(Gn="value"in(Kn=r)?Kn.value:Kn.textContent,dr=!0)),s=er.getPooled(s,t,n,r),i?s.data=i:null!==(i=hr(n))&&(s.data=i),qn(s),i=s):i=null,(e=sr?function(e,t){switch(e){case"compositionend":return hr(t);case"keypress":return 32!==t.which?null:(lr=!0,ar);case"textInput":return(e=t.data)===ar&&lr?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&ur(e,t)?(e=Hn(),Wn=Gn=Kn=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(cr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var gr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yr(e,t,n){return(e=Xn.getPooled(gr.change,e,t,n)).type="change",R(n),qn(e),e}var vr=null,wr=null;function br(e){ct(e)}function _r(e){if(_e(Mn(e)))return e}function Er(e,t){if("change"===e)return t}var Tr=!1;function Sr(){vr&&(vr.detachEvent("onpropertychange",Ir),wr=vr=null)}function Ir(e){if("value"===e.propertyName&&_r(wr))if(e=yr(wr,e,lt(e)),V)ct(e);else{V=!0;try{O(br,e)}finally{V=!1,j()}}}function kr(e,t,n){"focus"===e?(Sr(),wr=n,(vr=t).attachEvent("onpropertychange",Ir)):"blur"===e&&Sr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(wr)}function Cr(e,t){if("click"===e)return _r(t)}function Nr(e,t){if("input"===e||"change"===e)return _r(t)}x&&(Tr=ut("input")&&(!document.documentMode||9<document.documentMode));var Ar={eventTypes:gr,_isInputEventSupported:Tr,extractEvents:function(e,t,n,r){var i=t?Mn(t):window,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type)var o=Er;else if(mr(i))if(Tr)o=Nr;else{o=xr;var a=kr}else(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Cr);if(o&&(o=o(e,t)))return yr(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&xe(i,"number",i.value)}},Pr=Xn.extend({view:null,detail:null}),Rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rr[e])&&!!t[e]}function Or(){return Dr}var Mr=0,Lr=0,Fr=!1,Vr=!1,Ur=Pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Or,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Mr;return Mr=e.screenX,Fr?"mousemove"===e.type?e.screenX-t:0:(Fr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Lr;return Lr=e.screenY,Vr?"mousemove"===e.type?e.screenY-t:0:(Vr=!0,0)}}),jr=Ur.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:zr,extractEvents:function(e,t,n,r,i){var s="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(s&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!s)return null;(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Dn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var a=Ur,c=zr.mouseLeave,l=zr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=jr,c=zr.pointerLeave,l=zr.pointerEnter,u="pointer");if(e=null==o?s:Mn(o),s=null==t?s:Mn(t),(c=a.getPooled(c,o,n,r)).type=u+"leave",c.target=e,c.relatedTarget=s,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=s,n.relatedTarget=e,u=t,(r=o)&&u)e:{for(l=u,o=0,e=a=r;e;e=Fn(e))o++;for(e=0,t=l;t;t=Fn(t))e++;for(;0<o-e;)a=Fn(a),o--;for(;0<e-o;)l=Fn(l),e--;for(;o--;){if(a===l||a===l.alternate)break e;a=Fn(a),l=Fn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(o=r.alternate)||o!==l);)a.push(r),r=Fn(r);for(r=[];u&&u!==l&&(null===(o=u.alternate)||o!==l);)r.push(u),u=Fn(u);for(u=0;u<a.length;u++)zn(a[u],"bubbled",c);for(u=r.length;0<u--;)zn(r[u],"captured",n);return 0===(64&i)?[c]:[c,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kr=Object.prototype.hasOwnProperty;function Gr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Wr=x&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Yr=null,Xr=null,$r=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Qr||Qr!==hn(n)?null:("selectionStart"in(n=Qr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&Gr(Xr,n)?null:(Xr=n,(e=Xn.getPooled(Hr.select,Yr,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,s){if(!(s=!(i=s||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),s=I.onSelect;for(var o=0;o<s.length;o++)if(!i.has(s[o])){i=!1;break e}i=!0}s=!i}if(s)return null;switch(i=t?Mn(t):window,e){case"focus":(mr(i)||"true"===i.contentEditable)&&(Qr=i,Yr=t,Xr=null);break;case"blur":Xr=Yr=Qr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Jr(n,r);case"selectionchange":if(Wr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Xn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Pr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Pr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?si[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Or,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Ur.extend({dataTransfer:null}),ci=Pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Or}),li=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Ur.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),hi={eventTypes:Vt,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ci;break;case He:case Qe:case Ye:e=ei;break;case Xe:e=li;break;case"scroll":e=Pr;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=Xn}return qn(t=e.getPooled(i,t,n,r)),t}};if(v)throw Error(o(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=Ln,m=On,g=Mn,k({SimpleEventPlugin:hi,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Ar,SelectEventPlugin:Zr,BeforeInputEventPlugin:fr});var di=[],fi=-1;function pi(e){0>fi||(e.current=di[fi],di[fi]=null,fi--)}function mi(e,t){fi++,di[fi]=e.current,e.current=t}var gi={},yi={current:gi},vi={current:!1},wi=gi;function bi(e,t){var n=e.type.contextTypes;if(!n)return gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ei(){pi(vi),pi(yi)}function Ti(e,t,n){if(yi.current!==gi)throw Error(o(168));mi(yi,t),mi(vi,n)}function Si(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,ge(t)||"Unknown",s));return i({},n,{},r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,wi=yi.current,mi(yi,e),mi(vi,vi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Si(e,t,wi),r.__reactInternalMemoizedMergedChildContext=e,pi(vi),pi(yi),mi(yi,e)):pi(vi),mi(vi,n)}var xi=s.unstable_runWithPriority,Ci=s.unstable_scheduleCallback,Ni=s.unstable_cancelCallback,Ai=s.unstable_requestPaint,Pi=s.unstable_now,Ri=s.unstable_getCurrentPriorityLevel,Di=s.unstable_ImmediatePriority,Oi=s.unstable_UserBlockingPriority,Mi=s.unstable_NormalPriority,Li=s.unstable_LowPriority,Fi=s.unstable_IdlePriority,Vi={},Ui=s.unstable_shouldYield,ji=void 0!==Ai?Ai:function(){},zi=null,Bi=null,qi=!1,Ki=Pi(),Gi=1e4>Ki?Pi:function(){return Pi()-Ki};function Wi(){switch(Ri()){case Di:return 99;case Oi:return 98;case Mi:return 97;case Li:return 96;case Fi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Di;case 98:return Oi;case 97:return Mi;case 96:return Li;case 95:return Fi;default:throw Error(o(332))}}function Qi(e,t){return e=Hi(e),xi(e,t)}function Yi(e,t,n){return e=Hi(e),Ci(e,t,n)}function Xi(e){return null===zi?(zi=[e],Bi=Ci(Di,Ji)):zi.push(e),Vi}function $i(){if(null!==Bi){var e=Bi;Bi=null,Ni(e)}Ji()}function Ji(){if(!qi&&null!==zi){qi=!0;var e=0;try{var t=zi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Ci(Di,$i),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function es(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ts={current:null},ns=null,rs=null,is=null;function ss(){is=rs=ns=null}function os(e){var t=ts.current;pi(ts),e.type._context._currentValue=t}function as(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function cs(e,t){ns=e,is=rs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Lo=!0),e.firstContext=null)}function ls(e,t){if(is!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(is=e,t=1073741823),t={context:e,observedBits:t,next:null},null===rs){if(null===ns)throw Error(o(308));rs=t,ns.dependencies={expirationTime:0,firstContext:t,responders:null}}else rs=rs.next=t;return e._currentValue}var us=!1;function hs(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fs(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ps(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ms(e,t){var n=e.alternate;null!==n&&ds(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function gs(e,t,n,r){var s=e.updateQueue;us=!1;var o=s.baseQueue,a=s.shared.pending;if(null!==a){if(null!==o){var c=o.next;o.next=a.next,a.next=c}o=a,s.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=a))}if(null!==o){c=o.next;var l=s.baseState,u=0,h=null,d=null,f=null;if(null!==c)for(var p=c;;){if((a=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,h=l):f=f.next=m,a>u&&(u=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Ec(a,p.suspenseConfig);e:{var g=e,y=p;switch(a=t,m=n,y.tag){case 1:if("function"===typeof(g=y.payload)){l=g.call(m,l,a);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"===typeof(g=y.payload)?g.call(m,l,a):g)||void 0===a)break e;l=i({},l,a);break e;case 2:us=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=s.effects)?s.effects=[p]:a.push(p))}if(null===(p=p.next)||p===c){if(null===(a=s.shared.pending))break;p=o.next=a.next,a.next=c,s.baseQueue=o=a,s.shared.pending=null}}null===f?h=l:f.next=d,s.baseState=h,s.baseQueue=f,Tc(u),e.expirationTime=u,e.memoizedState=l}}function ys(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var vs=X.ReactCurrentBatchConfig,ws=(new r.Component).refs;function bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var _s={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=vs.suspense;(i=fs(r=uc(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ps(e,i),hc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=vs.suspense;(i=fs(r=uc(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ps(e,i),hc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=lc(),r=vs.suspense;(r=fs(n=uc(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ps(e,r),hc(e,n)}};function Es(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,s))}function Ts(e,t,n){var r=!1,i=gi,s=t.contextType;return"object"===typeof s&&null!==s?s=ls(s):(i=_i(t)?wi:yi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?bi(e,i):gi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_s,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_s.enqueueReplaceState(t,t.state,null)}function Is(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ws,hs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ls(s):(s=_i(t)?wi:yi.current,i.context=bi(e,s)),gs(e,n,i,r),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&_s.enqueueReplaceState(i,i.state,null),gs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var ks=Array.isArray;function xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ws&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Cs(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ns(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xs(e,t,n),r.return=e,r):((r=Kc(n.type,n.key,n.props,null,e.mode,r)).ref=xs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Gc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Wc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=xs(e,null,t),n.return=e,n;case te:return(t=Hc(t,e.mode,n)).return=e,t}if(ks(t)||me(t))return(t=Gc(t,e.mode,n,null)).return=e,t;Cs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(ks(n)||me(n))return null!==i?null:h(e,t,n,r,null);Cs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ks(r)||me(r))return h(t,e=e.get(n)||null,r,i,null);Cs(t,r)}return null}function m(i,o,a,c){for(var l=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===u?l=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(o=s(h,o,m),null===u?l=h:u.sibling=h,u=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,c,l){var u=me(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,l))&&(a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,s,c){var l="object"===typeof s&&null!==s&&s.type===ne&&null===s.key;l&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case ee:e:{for(u=s.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(s.type===ne){n(e,l.sibling),(r=i(l,s.props.children)).return=e,e=r;break e}}else if(l.elementType===s.type){n(e,l.sibling),(r=i(l,s.props)).ref=xs(e,l,s),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}s.type===ne?((r=Gc(s.props.children,e.mode,c,s.key)).return=e,e=r):((c=Kc(s.type,s.key,s.props,null,e.mode,c)).ref=xs(e,r,s),c.return=e,e=c)}return a(e);case te:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hc(s,e.mode,c)).return=e,e=r}return a(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Wc(s,e.mode,c)).return=e,e=r),a(e);if(ks(s))return m(e,r,s,c);if(me(s))return g(e,r,s,c);if(u&&Cs(e,s),"undefined"===typeof s&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var As=Ns(!0),Ps=Ns(!1),Rs={},Ds={current:Rs},Os={current:Rs},Ms={current:Rs};function Ls(e){if(e===Rs)throw Error(o(174));return e}function Fs(e,t){switch(mi(Ms,t),mi(Os,e),mi(Ds,Rs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Ds),mi(Ds,t)}function Vs(){pi(Ds),pi(Os),pi(Ms)}function Us(e){Ls(Ms.current);var t=Ls(Ds.current),n=Fe(t,e.type);t!==n&&(mi(Os,e),mi(Ds,n))}function js(e){Os.current===e&&(pi(Ds),pi(Os))}var zs={current:0};function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===wn||n.data===bn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qs(e,t){return{responder:e,props:t}}var Ks=X.ReactCurrentDispatcher,Gs=X.ReactCurrentBatchConfig,Ws=0,Hs=null,Qs=null,Ys=null,Xs=!1;function $s(){throw Error(o(321))}function Js(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Zs(e,t,n,r,i,s){if(Ws=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ks.current=null===e||null===e.memoizedState?To:So,e=n(r,i),t.expirationTime===Ws){s=0;do{if(t.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Ys=Qs=null,t.updateQueue=null,Ks.current=Io,e=n(r,i)}while(t.expirationTime===Ws)}if(Ks.current=Eo,t=null!==Qs&&null!==Qs.next,Ws=0,Ys=Qs=Hs=null,Xs=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ys?Hs.memoizedState=Ys=e:Ys=Ys.next=e,Ys}function to(){if(null===Qs){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=Qs.next;var t=null===Ys?Hs.memoizedState:Ys.next;if(null!==t)Ys=t,Qs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qs=e).memoizedState,baseState:Qs.baseState,baseQueue:Qs.baseQueue,queue:Qs.queue,next:null},null===Ys?Hs.memoizedState=Ys=e:Ys=Ys.next=e}return Ys}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=a=s=null,l=i;do{var u=l.expirationTime;if(u<Ws){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(a=c=h,s=r):c=c.next=h,u>Hs.expirationTime&&(Hs.expirationTime=u,Tc(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Ec(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?s=r:c.next=a,qr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);qr(s,t.memoizedState)||(Lo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function so(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=_o.bind(null,Hs,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Hs.updateQueue)?(t={lastEffect:null},Hs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return to().memoizedState}function co(e,t,n,r){var i=eo();Hs.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function lo(e,t,n,r){var i=to();r=void 0===r?null:r;var s=void 0;if(null!==Qs){var o=Qs.memoizedState;if(s=o.destroy,null!==r&&Js(r,o.deps))return void oo(t,n,s,r)}Hs.effectTag|=e,i.memoizedState=oo(1|t,n,s,r)}function uo(e,t){return co(516,4,e,t)}function ho(e,t){return lo(516,4,e,t)}function fo(e,t){return lo(4,2,e,t)}function po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function mo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,lo(4,2,po.bind(null,t,e),n)}function go(){}function yo(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function vo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Js(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Js(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bo(e,t,n){var r=Wi();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Gs.suspense;Gs.suspense=void 0===t?null:t;try{e(!1),n()}finally{Gs.suspense=r}}))}function _o(e,t,n){var r=lc(),i=vs.suspense;i={expirationTime:r=uc(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.pending;if(null===s?i.next=i:(i.next=s.next,s.next=i),t.pending=i,s=e.alternate,e===Hs||null!==s&&s===Hs)Xs=!0,i.expirationTime=Ws,Hs.expirationTime=Ws;else{if(0===e.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.eagerReducer=s,i.eagerState=a,qr(a,o))return}catch(c){}hc(e,r)}}var Eo={readContext:ls,useCallback:$s,useContext:$s,useEffect:$s,useImperativeHandle:$s,useLayoutEffect:$s,useMemo:$s,useReducer:$s,useRef:$s,useState:$s,useDebugValue:$s,useResponder:$s,useDeferredValue:$s,useTransition:$s},To={readContext:ls,useCallback:yo,useContext:ls,useEffect:uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,co(4,2,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return co(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_o.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:so,useDebugValue:go,useResponder:qs,useDeferredValue:function(e,t){var n=so(e),r=n[0],i=n[1];return uo((function(){var n=Gs.suspense;Gs.suspense=void 0===t?null:t;try{i(e)}finally{Gs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=so(!1),n=t[0];return t=t[1],[yo(bo.bind(null,t,e),[t,e]),n]}},So={readContext:ls,useCallback:vo,useContext:ls,useEffect:ho,useImperativeHandle:mo,useLayoutEffect:fo,useMemo:wo,useReducer:ro,useRef:ao,useState:function(){return ro(no)},useDebugValue:go,useResponder:qs,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return ho((function(){var n=Gs.suspense;Gs.suspense=void 0===t?null:t;try{i(e)}finally{Gs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[vo(bo.bind(null,t,e),[t,e]),n]}},Io={readContext:ls,useCallback:vo,useContext:ls,useEffect:ho,useImperativeHandle:mo,useLayoutEffect:fo,useMemo:wo,useReducer:io,useRef:ao,useState:function(){return io(no)},useDebugValue:go,useResponder:qs,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return ho((function(){var n=Gs.suspense;Gs.suspense=void 0===t?null:t;try{i(e)}finally{Gs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[vo(bo.bind(null,t,e),[t,e]),n]}},ko=null,xo=null,Co=!1;function No(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Po(e){if(Co){var t=xo;if(t){var n=t;if(!Ao(e,t)){if(!(t=xn(n.nextSibling))||!Ao(e,t))return e.effectTag=-1025&e.effectTag|2,Co=!1,void(ko=e);No(ko,n)}ko=e,xo=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Co=!1,ko=e}}function Ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ko=e}function Do(e){if(e!==ko)return!1;if(!Co)return Ro(e),Co=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sn(t,e.memoizedProps))for(t=xo;t;)No(e,t),t=xn(t.nextSibling);if(Ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn){if(0===t){xo=xn(e.nextSibling);break e}t--}else n!==yn&&n!==bn&&n!==wn||t++}e=e.nextSibling}xo=null}}else xo=ko?xn(e.stateNode.nextSibling):null;return!0}function Oo(){xo=ko=null,Co=!1}var Mo=X.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Ps(t,null,n,r):As(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var s=t.ref;return cs(t,i),r=Zs(e,t,n,r,s,i),null===e||Lo?(t.effectTag|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function Uo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!==typeof o||Bc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,r,null,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,s))}return o=e.child,i<s&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?ta(e,t,s):(t.effectTag|=1,(e=qc(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,s){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(Lo=!1,i<s)?(t.expirationTime=e.expirationTime,ta(e,t,s)):Bo(e,t,n,r,s)}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bo(e,t,n,r,i){var s=_i(n)?wi:yi.current;return s=bi(t,s),cs(t,i),n=Zs(e,t,n,r,s,i),null===e||Lo?(t.effectTag|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function qo(e,t,n,r,i){if(_i(n)){var s=!0;Ii(t)}else s=!1;if(cs(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ts(t,n,r),Is(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ls(l):l=bi(t,l=_i(n)?wi:yi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Ss(t,o,r,l),us=!1;var d=t.memoizedState;o.state=d,gs(t,r,o,i),c=t.memoizedState,a!==r||d!==c||vi.current||us?("function"===typeof u&&(bs(t,n,u,r),c=t.memoizedState),(a=us||Es(t,n,a,r,d,c,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ds(e,t),a=t.memoizedProps,o.props=t.type===t.elementType?a:es(t.type,a),c=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ls(l):l=bi(t,l=_i(n)?wi:yi.current),(h="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Ss(t,o,r,l),us=!1,c=t.memoizedState,o.state=c,gs(t,r,o,i),d=t.memoizedState,a!==r||c!==d||vi.current||us?("function"===typeof u&&(bs(t,n,u,r),d=t.memoizedState),(u=us||Es(t,n,a,r,c,d,l))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ko(e,t,n,r,s,i)}function Ko(e,t,n,r,i,s){zo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&ki(t,n,!1),ta(e,t,s);r=t.stateNode,Mo.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=As(t,e.child,null,s),t.child=As(t,null,a,s)):Fo(e,t,a,s),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Fs(e,t.containerInfo)}var Wo,Ho,Qo,Yo,Xo={dehydrated:null,retryTime:0};function $o(e,t,n){var r,i=t.mode,s=t.pendingProps,o=zs.current,a=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),mi(zs,1&o),null===e){if(void 0!==s.fallback&&Po(t),a){if(a=s.fallback,(s=Gc(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,s.child=e;null!==e;)e.return=s,e=e.sibling;return(n=Gc(a,i,n,null)).return=t,s.sibling=n,t.memoizedState=Xo,t.child=s,n}return i=s.children,t.memoizedState=null,t.child=Ps(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(s=s.fallback,(n=qc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=qc(i,s)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Xo,t.child=n,i}return n=As(t,e.child,s.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=s.fallback,(s=Gc(null,i,0,null)).return=t,s.child=e,null!==e&&(e.return=s),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,s.child=e;null!==e;)e.return=s,e=e.sibling;return(n=Gc(a,i,n,null)).return=t,s.sibling=n,n.effectTag|=2,s.childExpirationTime=0,t.memoizedState=Xo,t.child=s,n}return t.memoizedState=null,t.child=As(t,e,s.children,n)}function Jo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),as(e.return,t)}function Zo(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=s)}function ea(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=zs.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mi(zs,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,s,t.lastEffect);break;case"together":Zo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ta(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Tc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function na(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ra(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&Ei(),null;case 3:return Vs(),pi(vi),pi(yi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Do(t)||(t.effectTag|=4),Ho(t),null;case 5:js(t),n=Ls(Ms.current);var s=t.type;if(null!==e&&null!=t.stateNode)Qo(e,t,s,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ls(Ds.current),Do(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[An]=t,r[Pn]=a,s){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Qt($e[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":Te(r,a),Qt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qt("invalid",r),ln(n,"onChange");break;case"textarea":Pe(r,a),Qt("invalid",r),ln(n,"onChange")}for(var c in on(s,a),e=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):S.hasOwnProperty(c)&&null!=l&&ln(n,c)}switch(s){case"input":be(r),ke(r,a,!0);break;case"textarea":be(r),De(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===cn&&(e=Le(s)),e===cn?"script"===s?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(s,{is:r.is}):(e=c.createElement(s),"select"===s&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,s),e[An]=t,e[Pn]=r,Wo(e,t,!1,!1),t.stateNode=e,c=an(s,r),s){case"iframe":case"object":case"embed":Qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<$e.length;l++)Qt($e[l],e);l=r;break;case"source":Qt("error",e),l=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),l=r;break;case"form":Qt("reset",e),Qt("submit",e),l=r;break;case"details":Qt("toggle",e),l=r;break;case"input":Te(e,r),l=Ee(e,r),Qt("invalid",e),ln(n,"onChange");break;case"option":l=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Qt("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,r),l=Ae(e,r),Qt("invalid",e),ln(n,"onChange");break;default:l=r}on(s,l);var u=l;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?rn(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&je(e,h):"children"===a?"string"===typeof h?("textarea"!==s||""!==h)&&ze(e,h):"number"===typeof h&&ze(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?null!=h&&ln(n,a):null!=h&&$(e,a,h,c))}switch(s){case"input":be(e),ke(e,r,!1);break;case"textarea":be(e),De(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ne(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=un)}Tn(s,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ls(Ms.current),Ls(Ds.current),Do(t)?(n=t.stateNode,r=t.memoizedProps,n[An]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[An]=t,t.stateNode=n)}return null;case 13:return pi(zs),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Do(t):(r=null!==(s=e.memoizedState),n||null===s||null!==(s=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=s,s.nextEffect=a):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zs.current)?qa===Da&&(qa=La):(qa!==Da&&qa!==La||(qa=Fa),0!==Qa&&null!==ja&&(Xc(ja,Ba),$c(ja,Qa)))),(n||r)&&(t.effectTag|=4),null);case 4:return Vs(),Ho(t),null;case 10:return os(t),null;case 19:if(pi(zs),null===(r=t.memoizedState))return null;if(s=0!==(64&t.effectTag),null===(a=r.rendering)){if(s)na(r,!1);else if(qa!==Da||null!==e&&0!==(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=Bs(a))){for(t.effectTag|=64,na(r,!1),null!==(s=e.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(s=r).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(e=s.alternate)?(s.childExpirationTime=0,s.expirationTime=a,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=e.childExpirationTime,s.expirationTime=e.expirationTime,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return mi(zs,1&zs.current|2),t.child}a=a.sibling}}else{if(!s)if(null!==(e=Bs(a))){if(t.effectTag|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),na(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,s=!0,na(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=zs.current,mi(zs,s?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ia(e){switch(e.tag){case 1:_i(e.type)&&Ei();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Vs(),pi(vi),pi(yi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return js(e),null;case 13:return pi(zs),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(zs),null;case 4:return Vs(),null;case 10:return os(e),null;default:return null}}function sa(e,t){return{value:e,source:t,stack:ye(t)}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(){},Qo=function(e,t,n,r,s){var o=e.memoizedProps;if(o!==r){var a,c,l=t.stateNode;switch(Ls(Ds.current),e=null,n){case"input":o=Ee(l,o),r=Ee(l,r),e=[];break;case"option":o=Ce(l,o),r=Ce(l,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ae(l,o),r=Ae(l,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(l.onclick=un)}for(a in on(n,r),n=null,o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(c in l=o[a])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var u=r[a];if(l=null!=o?o[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(a,u)):"children"===a?l===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(S.hasOwnProperty(a)?(null!=u&&ln(s,a),e||l===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push("style",n),s=e,(t.updateQueue=s)&&(t.effectTag|=4)}},Yo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var oa="function"===typeof WeakSet?WeakSet:Set;function aa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ca(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Mc(e,n)}else t.current=null}function la(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:es(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function ua(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function da(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ha(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:es(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ys(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ys(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Tn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(o(163))}function fa(e,t,n){switch("function"===typeof Uc&&Uc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(s){Mc(i,s)}}e=e.next}while(e!==r)}))}break;case 1:ca(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Mc(e,n)}}(t,n);break;case 5:ca(t);break;case 4:wa(e,t,n)}}function pa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pa(t)}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ya(e,n,t):va(e,n,t)}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=un));else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function wa(e,t,n){for(var r,i,s=t,a=!1;;){if(!a){a=s.return;e:for(;;){if(null===a)throw Error(o(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===s.tag||6===s.tag){e:for(var c=e,l=s,u=n,h=l;;)if(fa(c,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(c=r,l=s.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(fa(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ua(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Pn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),an(e,i),t=an(e,r),i=0;i<s.length;i+=2){var a=s[i],c=s[i+1];"style"===a?rn(n,c):"dangerouslySetInnerHTML"===a?je(n,c):"children"===a?ze(n,c):$(n,a,c,t)}switch(e){case"input":Ie(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Xa=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)s=e.stateNode,r?"function"===typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,s.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(s=e.child.sibling).return=e,e=s;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _a(t);case 19:return void _a(t)}throw Error(o(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new oa),t.forEach((function(t){var r=Fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ea="function"===typeof WeakMap?WeakMap:Map;function Ta(e,t,n){(n=fs(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Za||(Za=!0,ec=r),aa(e,t)},n}function Sa(e,t,n){(n=fs(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return aa(e,t),r(i)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this),aa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ia,ka=Math.ceil,xa=X.ReactCurrentDispatcher,Ca=X.ReactCurrentOwner,Na=0,Aa=8,Pa=16,Ra=32,Da=0,Oa=1,Ma=2,La=3,Fa=4,Va=5,Ua=Na,ja=null,za=null,Ba=0,qa=Da,Ka=null,Ga=1073741823,Wa=1073741823,Ha=null,Qa=0,Ya=!1,Xa=0,$a=500,Ja=null,Za=!1,ec=null,tc=null,nc=!1,rc=null,ic=90,sc=null,oc=0,ac=null,cc=0;function lc(){return(Ua&(Pa|Ra))!==Na?1073741821-(Gi()/10|0):0!==cc?cc:cc=1073741821-(Gi()/10|0)}function uc(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Wi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Ua&Pa)!==Na)return Ba;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==ja&&e===Ba&&--e,e}function hc(e,t){if(50<oc)throw oc=0,ac=null,Error(o(185));if(null!==(e=dc(e,t))){var n=Wi();1073741823===t?(Ua&Aa)!==Na&&(Ua&(Pa|Ra))===Na?gc(e):(pc(e),Ua===Na&&$i()):pc(e),(4&Ua)===Na||98!==n&&99!==n||(null===sc?sc=new Map([[e,t]]):(void 0===(n=sc.get(e))||n>t)&&sc.set(e,t))}}function dc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ja===i&&(Tc(t),qa===Fa&&Xc(i,Ba)),$c(i,t)),i}function fc(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Yc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(gc.bind(null,e));else{var t=fc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=lc();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Vi&&Ni(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(gc.bind(null,e)):Yi(r,mc.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function mc(e,t){if(cc=0,t)return Jc(e,t=lc()),pc(e),null;var n=fc(e);if(0!==n){if(t=e.callbackNode,(Ua&(Pa|Ra))!==Na)throw Error(o(327));if(Rc(),e===ja&&n===Ba||wc(e,n),null!==za){var r=Ua;Ua|=Pa;for(var i=_c();;)try{Ic();break}catch(c){bc(e,c)}if(ss(),Ua=r,xa.current=i,qa===Oa)throw t=Ka,wc(e,n),Xc(e,n),pc(e),t;if(null===za)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qa,ja=null,r){case Da:case Oa:throw Error(o(345));case Ma:Jc(e,2<n?2:n);break;case La:if(Xc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cc(i)),1073741823===Ga&&10<(i=Xa+$a-Gi())){if(Ya){var s=e.lastPingedTime;if(0===s||s>=n){e.lastPingedTime=n,wc(e,n);break}}if(0!==(s=fc(e))&&s!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=In(Nc.bind(null,e),i);break}Nc(e);break;case Fa:if(Xc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cc(i)),Ya&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,wc(e,n);break}if(0!==(i=fc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Wa?r=10*(1073741821-Wa)-Gi():1073741823===Ga?r=0:(r=10*(1073741821-Ga)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ka(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=In(Nc.bind(null,e),r);break}Nc(e);break;case Va:if(1073741823!==Ga&&null!==Ha){s=Ga;var a=Ha;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(s=Gi()-(10*(1073741821-s)-(0|a.timeoutMs||5e3)))<=i?0:i+r-s),10<r){Xc(e,n),e.timeoutHandle=In(Nc.bind(null,e),r);break}}Nc(e);break;default:throw Error(o(329))}if(pc(e),e.callbackNode===t)return mc.bind(null,e)}}return null}function gc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Ua&(Pa|Ra))!==Na)throw Error(o(327));if(Rc(),e===ja&&t===Ba||wc(e,t),null!==za){var n=Ua;Ua|=Pa;for(var r=_c();;)try{Sc();break}catch(i){bc(e,i)}if(ss(),Ua=n,xa.current=r,qa===Oa)throw n=Ka,wc(e,t),Xc(e,t),pc(e),n;if(null!==za)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ja=null,Nc(e),pc(e)}return null}function yc(e,t){var n=Ua;Ua|=1;try{return e(t)}finally{(Ua=n)===Na&&$i()}}function vc(e,t){var n=Ua;Ua&=-2,Ua|=Aa;try{return e(t)}finally{(Ua=n)===Na&&$i()}}function wc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,kn(n)),null!==za)for(n=za.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ei();break;case 3:Vs(),pi(vi),pi(yi);break;case 5:js(r);break;case 4:Vs();break;case 13:case 19:pi(zs);break;case 10:os(r)}n=n.return}ja=e,za=qc(e.current,null),Ba=t,qa=Da,Ka=null,Wa=Ga=1073741823,Ha=null,Qa=0,Ya=!1}function bc(e,t){for(;;){try{if(ss(),Ks.current=Eo,Xs)for(var n=Hs.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ws=0,Ys=Qs=Hs=null,Xs=!1,null===za||null===za.return)return qa=Oa,Ka=t,za=null;e:{var i=e,s=za.return,o=za,a=t;if(t=Ba,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var c=a;if(0===(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&zs.current),h=s;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=fs(1073741823,null);y.tag=2,ps(o,y)}o.expirationTime=1073741823;break e}a=void 0,o=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new Ea,a=new Set,v.set(c,a)):void 0===(a=v.get(c))&&(a=new Set,v.set(c,a)),!a.has(o)){a.add(o);var w=Lc.bind(null,i,c,o);c.then(w,w)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);a=Error((ge(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}qa!==Va&&(qa=Ma),a=sa(a,o),h=s;do{switch(h.tag){case 3:c=a,h.effectTag|=4096,h.expirationTime=t,ms(h,Ta(h,c,t));break e;case 1:c=a;var b=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===tc||!tc.has(_)))){h.effectTag|=4096,h.expirationTime=t,ms(h,Sa(h,c,t));break e}}h=h.return}while(null!==h)}za=xc(za)}catch(E){t=E;continue}break}}function _c(){var e=xa.current;return xa.current=Eo,null===e?Eo:e}function Ec(e,t){e<Ga&&2<e&&(Ga=e),null!==t&&e<Wa&&2<e&&(Wa=e,Ha=t)}function Tc(e){e>Qa&&(Qa=e)}function Sc(){for(;null!==za;)za=kc(za)}function Ic(){for(;null!==za&&!Ui();)za=kc(za)}function kc(e){var t=Ia(e.alternate,e,Ba);return e.memoizedProps=e.pendingProps,null===t&&(t=xc(e)),Ca.current=null,t}function xc(e){za=e;do{var t=za.alternate;if(e=za.return,0===(2048&za.effectTag)){if(t=ra(t,za,Ba),1===Ba||1!==za.childExpirationTime){for(var n=0,r=za.child;null!==r;){var i=r.expirationTime,s=r.childExpirationTime;i>n&&(n=i),s>n&&(n=s),r=r.sibling}za.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=za.firstEffect),null!==za.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=za.firstEffect),e.lastEffect=za.lastEffect),1<za.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=za:e.firstEffect=za,e.lastEffect=za))}else{if(null!==(t=ia(za)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=za.sibling))return t;za=e}while(null!==za);return qa===Da&&(qa=Va),null}function Cc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Nc(e){var t=Wi();return Qi(99,Ac.bind(null,e,t)),null}function Ac(e,t){do{Rc()}while(null!==rc);if((Ua&(Pa|Ra))!==Na)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Cc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ja&&(za=ja=null,Ba=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var s=Ua;Ua|=Ra,Ca.current=null,_n=Ht;var a=mn();if(gn(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{var l=(c=(c=a.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{c.nodeType,h.nodeType}catch(k){c=null;break e}var d=0,f=-1,p=-1,m=0,g=0,y=a,v=null;t:for(;;){for(var w;y!==c||0!==u&&3!==y.nodeType||(f=d+u),y!==h||0!==l&&3!==y.nodeType||(p=d+l),3===y.nodeType&&(d+=y.nodeValue.length),null!==(w=y.firstChild);)v=y,y=w;for(;;){if(y===a)break t;if(v===c&&++m===u&&(f=d),v===h&&++g===l&&(p=d),null!==(w=y.nextSibling))break;v=(y=v).parentNode}y=w}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;En={activeElementDetached:null,focusedElem:a,selectionRange:c},Ht=!1,Ja=i;do{try{Pc()}catch(k){if(null===Ja)throw Error(o(330));Mc(Ja,k),Ja=Ja.nextEffect}}while(null!==Ja);Ja=i;do{try{for(a=e,c=t;null!==Ja;){var b=Ja.effectTag;if(16&b&&ze(Ja.stateNode,""),128&b){var _=Ja.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:ga(Ja),Ja.effectTag&=-3;break;case 6:ga(Ja),Ja.effectTag&=-3,ba(Ja.alternate,Ja);break;case 1024:Ja.effectTag&=-1025;break;case 1028:Ja.effectTag&=-1025,ba(Ja.alternate,Ja);break;case 4:ba(Ja.alternate,Ja);break;case 8:wa(a,u=Ja,c),pa(u)}Ja=Ja.nextEffect}}catch(k){if(null===Ja)throw Error(o(330));Mc(Ja,k),Ja=Ja.nextEffect}}while(null!==Ja);if(E=En,_=mn(),b=E.focusedElem,c=E.selectionRange,_!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==c&&gn(b)&&(_=c.start,void 0===(E=c.end)&&(E=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(E,b.value.length)):(E=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,a=Math.min(c.start,u),c=void 0===c.end?a:Math.min(c.end,u),!E.extend&&a>c&&(u=c,c=a,a=u),u=fn(b,a),h=fn(b,c),u&&h&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((_=_.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),a>c?(E.addRange(_),E.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),E.addRange(_))))),_=[];for(E=b;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(E=_[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Ht=!!_n,En=_n=null,e.current=n,Ja=i;do{try{for(b=e;null!==Ja;){var T=Ja.effectTag;if(36&T&&da(b,Ja.alternate,Ja),128&T){_=void 0;var S=Ja.ref;if(null!==S){var I=Ja.stateNode;Ja.tag,_=I,"function"===typeof S?S(_):S.current=_}}Ja=Ja.nextEffect}}catch(k){if(null===Ja)throw Error(o(330));Mc(Ja,k),Ja=Ja.nextEffect}}while(null!==Ja);Ja=null,ji(),Ua=s}else e.current=n;if(nc)nc=!1,rc=e,ic=t;else for(Ja=i;null!==Ja;)t=Ja.nextEffect,Ja.nextEffect=null,Ja=t;if(0===(t=e.firstPendingTime)&&(tc=null),1073741823===t?e===ac?oc++:(oc=0,ac=e):oc=0,"function"===typeof Vc&&Vc(n.stateNode,r),pc(e),Za)throw Za=!1,e=ec,ec=null,e;return(Ua&Aa)!==Na||$i(),null}function Pc(){for(;null!==Ja;){var e=Ja.effectTag;0!==(256&e)&&la(Ja.alternate,Ja),0===(512&e)||nc||(nc=!0,Yi(97,(function(){return Rc(),null}))),Ja=Ja.nextEffect}}function Rc(){if(90!==ic){var e=97<ic?97:ic;return ic=90,Qi(e,Dc)}}function Dc(){if(null===rc)return!1;var e=rc;if(rc=null,(Ua&(Pa|Ra))!==Na)throw Error(o(331));var t=Ua;for(Ua|=Ra,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ua(5,n),ha(5,n)}}catch(r){if(null===e)throw Error(o(330));Mc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ua=t,$i(),!0}function Oc(e,t,n){ps(e,t=Ta(e,t=sa(n,t),1073741823)),null!==(e=dc(e,1073741823))&&pc(e)}function Mc(e,t){if(3===e.tag)Oc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Oc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){ps(n,e=Sa(n,e=sa(t,e),1073741823)),null!==(n=dc(n,1073741823))&&pc(n);break}}n=n.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ja===e&&Ba===n?qa===Fa||qa===La&&1073741823===Ga&&Gi()-Xa<$a?wc(e,Ba):Ya=!0:Yc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pc(e)))}function Fc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=uc(t=lc(),e,null)),null!==(e=dc(e,t))&&pc(e)}Ia=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)Lo=!0;else{if(r<n){switch(Lo=!1,t.tag){case 3:Go(t),Oo();break;case 5:if(Us(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Ii(t);break;case 4:Fs(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,mi(ts,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$o(e,t,n):(mi(zs,1&zs.current),null!==(t=ta(e,t,n))?t.sibling:null);mi(zs,1&zs.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return ea(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),mi(zs,zs.current),!r)return null}return ta(e,t,n)}Lo=!1}}else Lo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,yi.current),cs(t,n),i=Zs(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var s=!0;Ii(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,hs(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&bs(t,r,a,e),i.updater=_s,t.stateNode=i,i._reactInternalFiber=t,Is(t,r,e,n),t=Ko(null,t,r,!0,s,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,s=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===he)return 14}return 2}(i),e=es(i,e),s){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,es(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:es(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:es(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ds(e,t),gs(t,r,null,n),(r=t.memoizedState.element)===i)Oo(),t=ta(e,t,n);else{if((i=t.stateNode.hydrate)&&(xo=xn(t.stateNode.containerInfo.firstChild),ko=t,i=Co=!0),i)for(n=Ps(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fo(e,t,r,n),Oo();t=t.child}return t;case 5:return Us(t),null===e&&Po(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Sn(r,i)?a=null:null!==s&&Sn(r,s)&&(t.effectTag|=16),zo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Fo(e,t,a,n),t=t.child),t;case 6:return null===e&&Po(t),null;case 13:return $o(e,t,n);case 4:return Fs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=As(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:es(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var c=t.type._context;if(mi(ts,c._currentValue),c._currentValue=s,null!==a)if(c=a.value,0===(s=qr(c,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,s):1073741823))){if(a.children===i.children&&!vi.current){t=ta(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&s)){1===c.tag&&((u=fs(n,null)).tag=2,ps(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),as(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,cs(t,n),r=r(i=ls(i,s.unstable_observedBits)),t.effectTag|=1,Fo(e,t,r,n),t.child;case 14:return s=es(i=t.type,t.pendingProps),Uo(e,t,i,s=es(i.type,s),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(r)?(e=!0,Ii(t)):e=!1,cs(t,n),Ts(t,r,i),Is(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return ea(e,t,n)}throw Error(o(156,t.tag))};var Vc=null,Uc=null;function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zc(e,t,n,r){return new jc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Bc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case ne:return Gc(n.children,i,s,t);case ae:a=8,i|=7;break;case re:a=8,i|=1;break;case ie:return(e=zc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=s,e;case le:return(e=zc(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=s,e;case ue:return(e=zc(19,n,t,i)).elementType=ue,e.expirationTime=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case se:a=10;break e;case oe:a=9;break e;case ce:a=11;break e;case he:a=14;break e;case de:a=16,r=null;break e;case fe:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zc(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=s,t}function Gc(e,t,n,r){return(e=zc(7,e,r,t)).expirationTime=n,e}function Wc(e,t,n){return(e=zc(6,e,null,t)).expirationTime=n,e}function Hc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Yc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Xc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $c(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Jc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zc(e,t,n,r){var i=t.current,s=lc(),a=vs.suspense;s=uc(s,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(_i(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var l=n.type;if(_i(l)){n=Si(n,l,c);break e}}n=c}else n=gi;return null===t.context?t.context=n:t.pendingContext=n,(t=fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ps(i,t),hc(i,s),s}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=new Qc(e,t,n=null!=n&&!0===n.hydrate),i=zc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,hs(i),e[Rn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);xt.forEach((function(e){mt(e,t,n)})),Ct.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=el(o);a.call(e)}}Zc(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"===typeof i){var c=i;i=function(){var e=el(o);c.call(e)}}vc((function(){Zc(t,o,e,i)}))}return el(o)}function ol(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rl.prototype.render=function(e){Zc(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zc(null,e,null,(function(){t[Rn]=null}))},gt=function(e){if(13===e.tag){var t=Zi(lc(),150,100);hc(e,t),nl(e,t)}},yt=function(e){13===e.tag&&(hc(e,3),nl(e,3))},vt=function(e){if(13===e.tag){var t=lc();hc(e,t=uc(t,e,null)),nl(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ln(r);if(!i)throw Error(o(90));_e(r),Ie(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ne(e,!!n.multiple,t,!1)}},O=yc,M=function(e,t,n,r,i){var s=Ua;Ua|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(Ua=s)===Na&&$i()}},L=function(){(Ua&(1|Pa|Ra))===Na&&(function(){if(null!==sc){var e=sc;sc=null,e.forEach((function(e,t){Jc(t,e),pc(t)})),$i()}}(),Rc())},F=function(e,t){var n=Ua;Ua|=2;try{return e(t)}finally{(Ua=n)===Na&&$i()}};var al={Events:[On,Mn,Ln,k,T,qn,function(e){st(e,Bn)},R,D,Jt,ct,Rc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Vc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Uc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Dn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=ol,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Ua&(Pa|Ra))!==Na)throw Error(o(187));var n=Ua;Ua|=1;try{return Qi(99,e.bind(null,t))}finally{Ua=n,$i()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(o(200));return sl(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(o(200));return sl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(o(40));return!!e._reactRootContainer&&(vc((function(){sl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Rn]=null}))})),!0)},t.unstable_batchedUpdates=yc,t.unstable_createPortal=function(e,t){return ol(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return sl(e,t,n,!1,r)},t.version="16.14.0"},292:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(144)},40:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===a||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},184:(e,t,n)=>{"use strict";e.exports=n(40)},36:(e,t,n)=>{"use strict";var r=n(60),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},564:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,T={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:T.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+C(c,0):s,_(o)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+C(a=e[l],l);c+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,u=s+C(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:T};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},60:(e,t,n)=>{"use strict";e.exports=n(564)},496:(e,t,n)=>{"use strict";e.exports=n(36)},692:(e,t)=>{"use strict";var n,r,i,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,c=null,l=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(n){throw setTimeout(l,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(l,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},s=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,v=null,w=-1,b=5,_=0;s=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+b;try{v(!0,e)?T.postMessage(null):(y=!1,v=null)}catch(n){throw T.postMessage(null),n}}else y=!1},n=function(e){v=e,y||(y=!0,T.postMessage(null))},r=function(e,n){w=f((function(){e(t.unstable_now())}),n)},i=function(){p(w),w=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,c=e[a];if(void 0!==o&&0>x(o,n))void 0!==c&&0>x(c,o)?(e[r]=c,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==c&&0>x(c,n)))break e;e[r]=c,e[a]=n,r=a}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],N=[],A=1,P=null,R=3,D=!1,O=!1,M=!1;function L(e){for(var t=I(N);null!==t;){if(null===t.callback)k(N);else{if(!(t.startTime<=e))break;k(N),t.sortIndex=t.expirationTime,S(C,t)}t=I(N)}}function F(e){if(M=!1,L(e),!O)if(null!==I(C))O=!0,n(V);else{var t=I(N);null!==t&&r(F,t.startTime-e)}}function V(e,n){O=!1,M&&(M=!1,i()),D=!0;var o=R;try{for(L(n),P=I(C);null!==P&&(!(P.expirationTime>n)||e&&!s());){var a=P.callback;if(null!==a){P.callback=null,R=P.priorityLevel;var c=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?P.callback=c:P===I(C)&&k(C),L(n)}else k(C);P=I(C)}if(null!==P)var l=!0;else{var u=I(N);null!==u&&r(F,u.startTime-n),l=!1}return l}finally{P=null,R=o,D=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||D||(O=!0,n(V))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return I(C)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();if("object"===typeof o&&null!==o){var c=o.delay;c="number"===typeof c&&0<c?a+c:a,o="number"===typeof o.timeout?o.timeout:U(e)}else o=U(e),c=a;return e={id:A++,callback:s,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>a?(e.sortIndex=c,S(N,e),null===I(C)&&e===I(N)&&(M?i():M=!0,r(F,c-a))):(e.sortIndex=o,S(C,e),O||D||(O=!0,n(V))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=I(C);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||s()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},724:(e,t,n)=>{"use strict";e.exports=n(692)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>yi,SDK_VERSION:()=>bs,_DEFAULT_ENTRY_NAME:()=>cs,_addComponent:()=>ds,_addOrOverwriteComponent:()=>fs,_apps:()=>us,_clearComponents:()=>ys,_components:()=>hs,_getProvider:()=>ms,_registerComponent:()=>ps,_removeServiceInstance:()=>gs,deleteApp:()=>Ss,getApp:()=>Es,getApps:()=>Ts,initializeApp:()=>_s,onLog:()=>ks,registerVersion:()=>Is,setLogLevel:()=>xs});var t=n(60),r=n.t(t,2),i=n(292),s=n.t(i,2);const o=n.p+"static/media/deaf_logo2.1552d1c88b239c939c57.png";var a=n(496);const c=(0,t.createContext)(),l=e=>{let{reducer:n,initialState:r,children:i}=e;return(0,a.jsxs)(c.Provider,{value:(0,t.useReducer)(n,r),children:[" ",i]})},u=()=>(0,t.useContext)(c);function h(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e,t){if(null==e)return{};var n,r,i=h(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=p(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function m(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=p(e))&&(r&&(r+=" "),r+=t);return r}var g=n(784),y=n.n(g),v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const w="object"===("undefined"===typeof window?"undefined":v(window))&&"object"===("undefined"===typeof document?"undefined":v(document))&&9===document.nodeType;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:String(t)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function T(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var x={}.constructor;function C(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(C);if(e.constructor!==x)return e;var t={};for(var n in e)t[n]=C(e[n]);return t}function N(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=C(t),s=r.plugins.onCreateRule(e,i,n);return s||(e[0],null)}var A=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},P=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=A(e[n]," ");else t=A(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function R(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function D(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function O(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,s=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(s=-1/0);var a=R(n),c=a.linebreak,l=a.space;if(e&&s++,o)if(Array.isArray(o))for(var u=0;u<o.length;u++){var h=o[u];for(var d in h){var f=h[d];null!=f&&(r&&(r+=c),r+=D(d+":"+l+P(f)+";",s))}}else for(var p in o){var m=o[p];null!=m&&(r&&(r+=c),r+=D(p+":"+l+P(m)+";",s))}for(var g in t){var y=t[g];null!=y&&"fallbacks"!==g&&(r&&(r+=c),r+=D(g+":"+l+P(y)+";",s))}return(r||n.allowEmpty)&&e?(r&&(r=""+c+r+c),D(""+e+l+"{"+r,--s)+D("}",s)):r}var M=/([[\].#*$><+~=|^:(),"'`\s])/g,L="undefined"!==typeof CSS&&CSS.escape,F=function(e){return L?L(e):e.replace(M,"\\$1")},V=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var s=null==i||!1===i,o=e in this.style;if(s&&!o&&!r)return this;var a=s&&o;if(a?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),U=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var s=r.selector,o=r.scoped,a=r.sheet,c=r.generateId;return s?i.selectorText=s:!1!==o&&(i.id=c(k(k(i)),a),i.selectorText="."+F(i.id)),i}I(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=P(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return O(this.selectorText,this.style,n)},T(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(V),j={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new U(e,t,n)}},z={indent:1,children:!0},B=/@([\w-]+)/,q=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(B);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new fe(f({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=z);var t=R(e).linebreak;if(null==e.indent&&(e.indent=z.indent),null==e.children&&(e.children=z.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),K=/@container|@media|@supports\s+/,G={onCreateRule:function(e,t,n){return K.test(e)?new q(e,t,n):null}},W={indent:1,children:!0},H=/@keyframes\s+([\w-]+)/,Q=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(H);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,s=n.sheet,o=n.generateId;for(var a in this.id=!1===i?this.name:F(o(this,s)),this.rules=new fe(f({},n,{parent:this})),t)this.rules.add(a,t[a],f({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=W);var t=R(e).linebreak;if(null==e.indent&&(e.indent=W.indent),null==e.children&&(e.children=W.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Y=/@keyframes\s+/,X=/\$([\w-]+)/g,$=function(e,t){return"string"===typeof e?e.replace(X,(function(e,n){return n in t?t[n]:e})):e},J=function(e,t,n){var r=e[t],i=$(r,n);i!==r&&(e[t]=i)},Z={onCreateRule:function(e,t,n){return"string"===typeof e&&Y.test(e)?new Q(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&J(e,"animation-name",n.keyframes),"animation"in e&&J(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return $(e,r.keyframes);default:return e}}},ee=function(e){function t(){return e.apply(this,arguments)||this}return I(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return O(this.key,this.style,n)},t}(V),te={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new ee(e,t,n):null}},ne=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=R(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=O(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return O(this.at,this.style,e)},e}(),re=/@font-face/,ie={onCreateRule:function(e,t,n){return re.test(e)?new ne(e,t,n):null}},se=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return O(this.key,this.style,e)},e}(),oe={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new se(e,t,n):null}},ae=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ce={"@charset":!0,"@import":!0,"@namespace":!0},le={onCreateRule:function(e,t,n){return e in ce?new ae(e,t,n):null}},ue=[j,G,Z,te,ie,oe,le],he={process:!0},de={force:!0,process:!0},fe=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,s=r.sheet,o=r.jss,a=r.Renderer,c=r.generateId,l=r.scoped,u=f({classes:this.classes,parent:i,sheet:s,jss:o,Renderer:a,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(u.selector="."+F(this.classes[h]));var d=N(h,t,u);if(!d)return null;this.register(d);var p=void 0===u.index?this.index.length:u.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var s=n;return-1!==i&&(s=f({},n,{index:i})),this.add(e,t,s)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof U?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Q&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof U?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Q&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=he);var i=this.options,s=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var a=t.style;if(s.onUpdate(n,t,o,r),r.process&&a&&a!==t.style){for(var c in s.onProcessStyle(t.style,t,o),t.style){var l=t.style[c];l!==a[c]&&t.prop(c,l,de)}for(var u in a){var h=t.style[u],d=a[u];null==h&&h!==d&&t.prop(u,null,de)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=R(e).linebreak,s=0;s<this.index.length;s++){var o=this.index[s].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),pe=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=f({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new fe(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),me=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ge=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=h(t,["attached"]),i=R(r).linebreak,s="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(s&&(s+=i),s+=a.toString(r))}return s},T(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ye=new ge,ve="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),we="2f1acc6c3a606b082e5eef5e54414ffb";null==ve[we]&&(ve[we]=0);var be=ve[we]++,_e=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",s="";return r&&(r.options.classNamePrefix&&(s=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(s||"c")+be+i+t:s+n.key+"-"+be+(i?"-"+i:"")+"-"+t}},Ee=function(e){var t;return function(){return t||(t=e()),t}},Te=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=P(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,s=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,s,i>-1?"important":"")}}catch(o){return!1}return!0},Ie=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ke=function(e,t){return e.selectorText=t,e.selectorText===t},xe=Ee((function(){return document.querySelector("head")}));function Ce(e){var t=ye.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=xe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Ne=Ee((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Ae=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Pe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Re=function(){function e(e){this.getPropertyValue=Te,this.setProperty=Se,this.removeProperty=Ie,this.setSelector=ke,this.hasInsertedRules=!1,this.cssRules=[],e&&ye.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var s=Ne();s&&this.element.setAttribute("nonce",s)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Ce(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,s=i.parentNode;s&&s.insertBefore(e,i.nextSibling)}else xe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var s=Pe(n,t);if(!1===(i=Ae(n,r.toString({children:!1}),s)))return!1;this.refCssRule(e,s,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var a=Pe(n,t),c=Ae(n,o,a);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,a,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof pe&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),De=0,Oe=function(){function e(e){this.id=De++,this.version="10.10.0",this.plugins=new me,this.options={id:{minify:!1},createGenerateId:_e,Renderer:w?Re:null,plugins:[]},this.generateId=_e({minify:!1});for(var t=0;t<ue.length;t++)this.plugins.use(ue[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=f({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ye.index?0:ye.index+1);var r=new pe(e,f({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ye.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=f({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=N(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Me=function(e){return new Oe(e)},Le="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Fe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var s=Fe(r);s&&(t||(t={}),t[n]=s)}}return t}Me();function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=f({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Ue={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};const je=Ue;const ze=t.createContext(null);function Be(){return t.useContext(ze)}const qe="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Ke=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ge=Date.now(),We="fnValues"+Ge,He="fnStyle"+ ++Ge;const Qe=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=N(e,{},n);return r[He]=t,r},onProcessStyle:function(e,t){if(We in t||He in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[We]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[He];s&&(i.style=s(e)||{});var o=i[We];if(o)for(var a in o)i.prop(a,o[a](e),r)}}};var Ye="@global",Xe="@global ",$e=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ye,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new fe(f({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Je=function(){function e(e,t,n){this.type="global",this.at=Ye,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,f({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ze=/\s*,\s*/g;function et(e,t){for(var n=e.split(Ze),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}const tt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ye)return new $e(e,t,n);if("@"===e[0]&&e.substr(0,8)===Xe)return new Je(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ye]:null;if(i){for(var s in i)t.addRule(s,i[s],f({},n,{selector:et(s,e.selector)}));delete r[Ye]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ye.length)===Ye){var s=et(i.substr(Ye.length),e.selector);t.addRule(s,r[i],f({},n,{selector:s})),delete r[i]}}(e,t))}}};var nt=/\s*,\s*/g,rt=/&/g,it=/\$([\w-]+)/g;const st=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(nt),r=e.split(nt),i="",s=0;s<n.length;s++)for(var o=n[s],a=0;a<r.length;a++){var c=r[a];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(rt,o):o+" "+c}return i}function n(e,t,n){if(n)return f({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=f({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,s){if("style"!==i.type)return r;var o,a,c=i,l=c.options.parent;for(var u in r){var h=-1!==u.indexOf("&"),d="@"===u[0];if(h||d){if(o=n(c,l,o),h){var p=t(u,c.selector);a||(a=e(l,s)),p=p.replace(it,a);var m=c.key+"-"+u;"replaceRule"in l?l.replaceRule(m,r[u],f({},o,{selector:p})):l.addRule(m,r[u],f({},o,{selector:p}))}else d&&l.addRule(u,{},o).addRule(c.key,r[u],{selector:c.selector});delete r[u]}}return r}}};var ot=/[A-Z]/g,at=/^ms-/,ct={};function lt(e){return"-"+e.toLowerCase()}const ut=function(e){if(ct.hasOwnProperty(e))return ct[e];var t=e.replace(ot,lt);return ct[e]=at.test(t)?"-"+t:t};function ht(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ut(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ht):t.fallbacks=ht(e.fallbacks)),t}const dt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ht(e[t]);return e}return ht(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ut(t);return t===r?e:(n.prop(r,e),null)}}};var ft=Le&&CSS?CSS.px:"px",pt=Le&&CSS?CSS.ms:"ms",mt=Le&&CSS?CSS.percent:"%";function gt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var yt=gt({"animation-delay":pt,"animation-duration":pt,"background-position":ft,"background-position-x":ft,"background-position-y":ft,"background-size":ft,border:ft,"border-bottom":ft,"border-bottom-left-radius":ft,"border-bottom-right-radius":ft,"border-bottom-width":ft,"border-left":ft,"border-left-width":ft,"border-radius":ft,"border-right":ft,"border-right-width":ft,"border-top":ft,"border-top-left-radius":ft,"border-top-right-radius":ft,"border-top-width":ft,"border-width":ft,"border-block":ft,"border-block-end":ft,"border-block-end-width":ft,"border-block-start":ft,"border-block-start-width":ft,"border-block-width":ft,"border-inline":ft,"border-inline-end":ft,"border-inline-end-width":ft,"border-inline-start":ft,"border-inline-start-width":ft,"border-inline-width":ft,"border-start-start-radius":ft,"border-start-end-radius":ft,"border-end-start-radius":ft,"border-end-end-radius":ft,margin:ft,"margin-bottom":ft,"margin-left":ft,"margin-right":ft,"margin-top":ft,"margin-block":ft,"margin-block-end":ft,"margin-block-start":ft,"margin-inline":ft,"margin-inline-end":ft,"margin-inline-start":ft,padding:ft,"padding-bottom":ft,"padding-left":ft,"padding-right":ft,"padding-top":ft,"padding-block":ft,"padding-block-end":ft,"padding-block-start":ft,"padding-inline":ft,"padding-inline-end":ft,"padding-inline-start":ft,"mask-position-x":ft,"mask-position-y":ft,"mask-size":ft,height:ft,width:ft,"min-height":ft,"max-height":ft,"min-width":ft,"max-width":ft,bottom:ft,left:ft,top:ft,right:ft,inset:ft,"inset-block":ft,"inset-block-end":ft,"inset-block-start":ft,"inset-inline":ft,"inset-inline-end":ft,"inset-inline-start":ft,"box-shadow":ft,"text-shadow":ft,"column-gap":ft,"column-rule":ft,"column-rule-width":ft,"column-width":ft,"font-size":ft,"font-size-delta":ft,"letter-spacing":ft,"text-decoration-thickness":ft,"text-indent":ft,"text-stroke":ft,"text-stroke-width":ft,"word-spacing":ft,motion:ft,"motion-offset":ft,outline:ft,"outline-offset":ft,"outline-width":ft,perspective:ft,"perspective-origin-x":mt,"perspective-origin-y":mt,"transform-origin":mt,"transform-origin-x":mt,"transform-origin-y":mt,"transform-origin-z":mt,"transition-delay":pt,"transition-duration":pt,"vertical-align":ft,"flex-basis":ft,"shape-margin":ft,size:ft,gap:ft,grid:ft,"grid-gap":ft,"row-gap":ft,"grid-row-gap":ft,"grid-column-gap":ft,"grid-template-rows":ft,"grid-template-columns":ft,"grid-auto-rows":ft,"grid-auto-columns":ft,"box-shadow-x":ft,"box-shadow-y":ft,"box-shadow-blur":ft,"box-shadow-spread":ft,"font-line-height":ft,"text-shadow-x":ft,"text-shadow-y":ft,"text-shadow-blur":ft});function vt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=vt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=vt(i,t[i],n);else for(var s in t)t[s]=vt(e+"-"+s,t[s],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||yt[e];return!o||0===t&&o===ft?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}const wt=function(e){void 0===e&&(e={});var t=gt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=vt(r,e[r],t);return e},onChangeValue:function(e,n){return vt(n,e,t)}}};function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t){if(e){if("string"===typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}function Et(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tt="",St="",It="",kt="",xt=w&&"ontouchstart"in document.documentElement;if(w){var Ct={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Nt=document.createElement("p").style;for(var At in Ct)if(At+"Transform"in Nt){Tt=At,St=Ct[At];break}"Webkit"===Tt&&"msHyphens"in Nt&&(Tt="ms",St=Ct.ms,kt="edge"),"Webkit"===Tt&&"-apple-trailing-word"in Nt&&(It="apple")}var Pt={js:Tt,css:St,vendor:It,browser:kt,isTouch:xt};var Rt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Pt.js?"-webkit-"+e:Pt.css+e)}},Dt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Pt.js?Pt.css+"print-"+e:e)}},Ot=/[-\s]+(.)?/g;function Mt(e,t){return t?t.toUpperCase():""}function Lt(e){return e.replace(Ot,Mt)}function Ft(e){return Lt("-"+e)}var Vt,Ut={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Pt.js){var n="mask-image";if(Lt(n)in t)return e;if(Pt.js+Ft(n)in t)return Pt.css+e}return e}},jt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Pt.vendor||Pt.isTouch?e:Pt.css+e)}},zt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Pt.css+e)}},Bt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Pt.css+e)}},qt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Pt.js||"ms"===Pt.js&&"edge"!==Pt.browser?Pt.css+e:e)}},Kt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Pt.js||"ms"===Pt.js||"apple"===Pt.vendor?Pt.css+e:e)}},Gt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Pt.js?"WebkitColumn"+Ft(e)in t&&Pt.css+"column-"+e:"Moz"===Pt.js&&("page"+Ft(e)in t&&"page-"+e))}},Wt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Pt.js)return e;var n=e.replace("-inline","");return Pt.js+Ft(n)in t&&Pt.css+n}},Ht={supportedProperty:function(e,t){return Lt(e)in t&&e}},Qt={supportedProperty:function(e,t){var n=Ft(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Pt.js+n in t?Pt.css+e:"Webkit"!==Pt.js&&"Webkit"+n in t&&"-webkit-"+e}},Yt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Pt.js?""+Pt.css+e:e)}},Xt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Pt.js?Pt.css+"scroll-chaining":e)}},$t={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Jt={supportedProperty:function(e,t){var n=$t[e];return!!n&&(Pt.js+Ft(n)in t&&Pt.css+n)}},Zt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},en=Object.keys(Zt),tn=function(e){return Pt.css+e},nn={supportedProperty:function(e,t,n){var r=n.multiple;if(en.indexOf(e)>-1){var i=Zt[e];if(!Array.isArray(i))return Pt.js+Ft(i)in t&&Pt.css+i;if(!r)return!1;for(var s=0;s<i.length;s++)if(!(Pt.js+Ft(i[0])in t))return!1;return i.map(tn)}return!1}},rn=[Rt,Dt,Ut,jt,zt,Bt,qt,Kt,Gt,Wt,Ht,Qt,Yt,Xt,Jt,nn],sn=rn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),on=rn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Et(t.noPrefill)),e}),[]),an={};if(w){Vt=document.createElement("p");var cn=window.getComputedStyle(document.documentElement,"");for(var ln in cn)isNaN(ln)||(an[cn[ln]]=cn[ln]);on.forEach((function(e){return delete an[e]}))}function un(e,t){if(void 0===t&&(t={}),!Vt)return e;if(null!=an[e])return an[e];"transition"!==e&&"transform"!==e||(t[e]=e in Vt.style);for(var n=0;n<sn.length&&(an[e]=sn[n](e,Vt.style,t),!an[e]);n++);try{Vt.style[e]=""}catch(r){return!1}return an[e]}var hn,dn={},fn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},pn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function mn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?un(t):", "+un(n);return r||(t||n)}function gn(e,t){var n=t;if(!hn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=dn[r])return dn[r];try{hn.style[e]=n}catch(i){return dn[r]=!1,!1}if(fn[e])n=n.replace(pn,mn);else if(""===hn.style[e]&&("-ms-flex"===(n=Pt.css+n)&&(hn.style[e]="-ms-flexbox"),hn.style[e]=n,""===hn.style[e]))return dn[r]=!1,!1;return hn.style[e]="",dn[r]=n,dn[r]}w&&(hn=document.createElement("p"));const yn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,s=un(n);s&&s!==n&&(i=!0);var o=!1,a=gn(s,P(r));a&&a!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[s||n]=a||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Pt.js?e:"@"+Pt.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return gn(t,P(e))||e}}};const vn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),s=0;s<i.length;s++)r[i[s]]=t[i[s]];return r}}};var wn=Me({plugins:[Qe(),tt(),st(),dt(),wt(),"undefined"===typeof window?null:yn(),vn()]}),bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,s=e.seed,o=void 0===s?"":s,a=""===o?"":"".concat(o,"-"),c=0,l=function(){return c+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ke.indexOf(e.key))return"Mui-".concat(e.key);var s="".concat(a).concat(r,"-").concat(e.key);return t.options.theme[qe]&&""===o?"".concat(s,"-").concat(l()):s}return"".concat(a).concat(i).concat(l())}}(),_n={disableGeneration:!1,generateClassName:bn,jss:wn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},En=t.createContext(_n);var Tn=-1e9;function Sn(e){return e&&"object"===b(e)&&e.constructor===Object}function In(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return Sn(e)&&Sn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Sn(t[i])&&i in e?r[i]=In(e[i],t[i],n):r[i]=t[i])})),r}const kn={};function xn(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,s=e.stylesCreator,o=e.name;if(!i.disableGeneration){var a=je.get(i.sheetsManager,s,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},je.set(i.sheetsManager,s,r,a));var c=f({},s.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===a.refs){var u;i.sheetsCache&&(u=je.get(i.sheetsCache,s,r));var h=s.create(r,o);u||((u=i.jss.createStyleSheet(h,f({link:!1},c))).attach(),i.sheetsCache&&je.set(i.sheetsCache,s,r,u)),l&&l.add(u),a.staticSheet=u,a.dynamicStyles=Fe(h)}if(a.dynamicStyles){var d=i.jss.createStyleSheet(a.dynamicStyles,f({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Ve({baseClasses:a.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=a.staticSheet.classes;a.refs+=1}}function Cn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,s=n.Component,o=n.defaultTheme,a=void 0===o?kn:o,c=d(n,["name","classNamePrefix","Component","defaultTheme"]),l=function(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(a){throw a}if(!r||!n.overrides||!n.overrides[r])return i;var s=n.overrides[r],o=f({},i);return Object.keys(s).forEach((function(e){o[e]=In(o[e],s[e])})),o},options:{}}}(e),u=r||i||"makeStyles";l.options={index:Tn+=1,name:r,meta:u,classNamePrefix:u};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Be()||a,i=f({},t.useContext(En),c),o=t.useRef(),u=t.useRef();!function(e,n){var r,i=t.useRef([]),s=t.useMemo((function(){return{}}),n);i.current!==s&&(i.current=s,r=e()),t.useEffect((function(){return function(){r&&r()}}),[s])}((function(){var t={name:r,state:{},stylesCreator:l,stylesOptions:i,theme:n};return xn(t,e),u.current=!1,o.current=t,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var s=je.get(r.sheetsManager,i,n);s.refs-=1;var o=r.sheetsRegistry;0===s.refs&&(je.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(s.staticSheet),o&&o.remove(s.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(t)}}),[n,l]),t.useEffect((function(){u.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(o.current,e),u.current=!0}));var h=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ve({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(o.current,e.classes,s);return h}}const Nn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,s=n.withTheme,o=void 0!==s&&s,a=n.name,c=d(n,["defaultTheme","withTheme","name"]);var l=a,u=Cn(e,f({defaultTheme:i,Component:r,name:a||r.displayName,classNamePrefix:l},c)),h=t.forwardRef((function(e,n){e.classes;var s,c=e.innerRef,l=d(e,["classes","innerRef"]),h=u(f({},r.defaultProps,e)),p=l;return("string"===typeof a||o)&&(s=Be()||i,a&&(p=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,s=t.props[n];for(i in s)void 0===r[i]&&(r[i]=s[i]);return r}({theme:s,name:a,props:l})),o&&!p.theme&&(p.theme=s)),t.createElement(r,f({ref:c||n,classes:h},p))}));return y()(h,r),h}};var An=["xs","sm","md","lg","xl"];function Pn(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t,n){var r;return f({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),f({paddingLeft:t(2),paddingRight:t(2)},n,Pn({},e.up("sm"),f({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Pn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Pn(r,e.up("sm"),{minHeight:64}),r)},n)}function Dn(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}const On={black:"#000",white:"#fff"};const Mn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const Ln={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const Fn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const Vn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const Un={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const jn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const zn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function qn(e){if(e.type)return e;if("#"===e.charAt(0))return qn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Dn(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Kn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Gn(e){var t="hsl"===(e=qn(e)).type?qn(function(e){var t=(e=qn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},a="rgb",c=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),Kn({type:a,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Wn(e,t){return e=qn(e),t=Bn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Kn(e)}function Hn(e,t){if(e=qn(e),t=Bn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Kn(e)}function Qn(e,t){if(e=qn(e),t=Bn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Kn(e)}var Yn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:On.white,default:Mn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Xn={text:{primary:On.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Mn[800],default:"#303030"},action:{active:On.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function $n(e,t,n,r){var i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Qn(e.main,i):"dark"===t&&(e.dark=Hn(e.main,s)))}function Jn(e){var t=e.primary,n=void 0===t?{light:Ln[300],main:Ln[500],dark:Ln[700]}:t,r=e.secondary,i=void 0===r?{light:Fn.A200,main:Fn.A400,dark:Fn.A700}:r,s=e.error,o=void 0===s?{light:Vn[300],main:Vn[500],dark:Vn[700]}:s,a=e.warning,c=void 0===a?{light:Un[300],main:Un[500],dark:Un[700]}:a,l=e.info,u=void 0===l?{light:jn[300],main:jn[500],dark:jn[700]}:l,h=e.success,p=void 0===h?{light:zn[300],main:zn[500],dark:zn[700]}:h,m=e.type,g=void 0===m?"light":m,y=e.contrastThreshold,v=void 0===y?3:y,w=e.tonalOffset,b=void 0===w?.2:w,_=d(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function E(e){var t=function(e,t){var n=Gn(e),r=Gn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Xn.text.primary)>=v?Xn.text.primary:Yn.text.primary;return t}var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=f({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Dn(4,t));if("string"!==typeof e.main)throw new Error(Dn(5,JSON.stringify(e.main)));return $n(e,"light",n,b),$n(e,"dark",r,b),e.contrastText||(e.contrastText=E(e.main)),e},S={dark:Xn,light:Yn};return In(f({common:On,type:g,primary:T(n),secondary:T(i,"A400","A200","A700"),error:T(o),warning:T(c),info:T(u),success:T(p),grey:Mn,contrastThreshold:v,getContrastText:E,augmentColor:T,tonalOffset:b},S[g]),_)}function Zn(e){return Math.round(1e5*e)/1e5}function er(e){return Zn(e)}var tr={textTransform:"uppercase"},nr='"Roboto", "Helvetica", "Arial", sans-serif';function rr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?nr:r,s=n.fontSize,o=void 0===s?14:s,a=n.fontWeightLight,c=void 0===a?300:a,l=n.fontWeightRegular,u=void 0===l?400:l,h=n.fontWeightMedium,p=void 0===h?500:h,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,v=void 0===y?16:y,w=n.allVariants,b=n.pxToRem,_=d(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var E=o/14,T=b||function(e){return"".concat(e/v*E,"rem")},S=function(e,t,n,r,s){return f({fontFamily:i,fontWeight:e,fontSize:T(t),lineHeight:n},i===nr?{letterSpacing:"".concat(Zn(r/t),"em")}:{},s,w)},I={h1:S(c,96,1.167,-1.5),h2:S(c,60,1.2,-.5),h3:S(u,48,1.167,0),h4:S(u,34,1.235,.25),h5:S(u,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(u,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(u,16,1.5,.15),body2:S(u,14,1.43,.15),button:S(p,14,1.75,.4,tr),caption:S(u,12,1.66,.4),overline:S(u,12,2.66,1,tr)};return In(f({htmlFontSize:v,pxToRem:T,round:er,fontFamily:i,fontSize:o,fontWeightLight:c,fontWeightRegular:u,fontWeightMedium:p,fontWeightBold:g},I),_,{clone:!1})}function ir(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const sr=["none",ir(0,2,1,-1,0,1,1,0,0,1,3,0),ir(0,3,1,-2,0,2,2,0,0,1,5,0),ir(0,3,3,-2,0,3,4,0,0,1,8,0),ir(0,2,4,-1,0,4,5,0,0,1,10,0),ir(0,3,5,-1,0,5,8,0,0,1,14,0),ir(0,3,5,-1,0,6,10,0,0,1,18,0),ir(0,4,5,-2,0,7,10,1,0,2,16,1),ir(0,5,5,-3,0,8,10,1,0,3,14,2),ir(0,5,6,-3,0,9,12,1,0,3,16,2),ir(0,6,6,-3,0,10,14,1,0,4,18,3),ir(0,6,7,-4,0,11,15,1,0,4,20,3),ir(0,7,8,-4,0,12,17,2,0,5,22,4),ir(0,7,8,-4,0,13,19,2,0,5,24,4),ir(0,7,9,-4,0,14,21,2,0,5,26,4),ir(0,8,9,-5,0,15,22,2,0,6,28,5),ir(0,8,10,-5,0,16,24,2,0,6,30,5),ir(0,8,11,-5,0,17,26,2,0,6,32,5),ir(0,9,11,-5,0,18,28,2,0,7,34,6),ir(0,9,12,-6,0,19,29,2,0,7,36,6),ir(0,10,13,-6,0,20,31,3,0,8,38,7),ir(0,10,13,-6,0,21,33,3,0,8,40,7),ir(0,10,14,-6,0,22,35,3,0,8,42,7),ir(0,11,14,-7,0,23,36,3,0,9,44,8),ir(0,11,15,-7,0,24,38,3,0,9,46,8)];const or={borderRadius:4};function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(e,t)||_t(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cr={xs:0,sm:600,md:960,lg:1280,xl:1920},lr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(cr[e],"px)")}};const ur=function(e,t){return t?In(e,t,{clone:!1}):e};var hr={m:"margin",p:"padding"},dr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},fr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},pr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!fr[e])return[e];e=fr[e]}var t=ar(e.split(""),2),n=t[0],r=t[1],i=hr[n],s=dr[r]||"";return Array.isArray(s)?s.map((function(e){return i+e})):[i+s]})),mr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function gr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function yr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function vr(e){var t=gr(e.theme);return Object.keys(e).map((function(n){if(-1===mr.indexOf(n))return null;var r=yr(pr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||lr;return t.reduce((function(e,i,s){return e[r.up(r.keys[s])]=n(t[s]),e}),{})}if("object"===b(t)){var i=e.theme.breakpoints||lr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(ur,{})}vr.propTypes={},vr.filterProps=mr;var wr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},br={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _r(e){return"".concat(Math.round(e),"ms")}const Er={easing:wr,duration:br,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?br.standard:n,i=t.easing,s=void 0===i?wr.easeInOut:i,o=t.delay,a=void 0===o?0:o;d(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:_r(r)," ").concat(s," ").concat("string"===typeof a?a:_r(a))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};const Tr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Sr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,s=e.palette,o=void 0===s?{}:s,a=e.spacing,c=e.typography,l=void 0===c?{}:c,u=d(e,["breakpoints","mixins","palette","spacing","typography"]),h=Jn(o),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,s=e.step,o=void 0===s?5:s,a=d(e,["values","unit","step"]);function c(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=An.indexOf(t);return r===An.length-1?c(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[An[r+1]]?n[An[r+1]]:t)-o/100).concat(i,")")}return f({keys:An,values:n,up:c,down:function(e){var t=An.indexOf(e)+1,r=n[An[t]];return t===An.length?c("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},a)}(n),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=gr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(a),g=In({breakpoints:p,direction:"ltr",mixins:Rn(p,m,i),overrides:{},palette:h,props:{},shadows:sr,typography:rr(h,l),spacing:m,shape:or,transitions:Er,zIndex:Tr},u),y=arguments.length,v=new Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return g=v.reduce((function(e,t){return In(e,t)}),g)}const Ir=Sr();const kr=function(e,t){return Nn(e,f({defaultTheme:Ir},t))};function xr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Cr(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){xr(e,t),xr(n,t)}}),[e,n])}var Nr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function Ar(e){var n=t.useRef(e);return Nr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var Pr=!0,Rr=!1,Dr=null,Or={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Mr(e){e.metaKey||e.altKey||e.ctrlKey||(Pr=!0)}function Lr(){Pr=!1}function Fr(){"hidden"===this.visibilityState&&Rr&&(Pr=!0)}function Vr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Pr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Or[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function Ur(){Rr=!0,window.clearTimeout(Dr),Dr=window.setTimeout((function(){Rr=!1}),100)}function jr(){var e=t.useCallback((function(e){var t=i.findDOMNode(e);null!=t&&function(e){e.addEventListener("keydown",Mr,!0),e.addEventListener("mousedown",Lr,!0),e.addEventListener("pointerdown",Lr,!0),e.addEventListener("touchstart",Lr,!0),e.addEventListener("visibilitychange",Fr,!0)}(t.ownerDocument)}),[]);return{isFocusVisible:Vr,onBlurVisible:Ur,ref:e}}const zr=t.createContext(null);function Br(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function qr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Kr(e,n,r){var i=Br(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),s=[];for(var o in e)o in t?s.length&&(i[o]=s,s=[]):s.push(o);var a={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];a[i[c][r]]=n(l)}a[c]=n(c)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}(n,i);return Object.keys(s).forEach((function(o){var a=s[o];if((0,t.isValidElement)(a)){var c=o in n,l=o in i,u=n[o],h=(0,t.isValidElement)(u)&&!u.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,t.isValidElement)(u)&&(s[o]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:qr(a,"exit",e),enter:qr(a,"enter",e)})):s[o]=(0,t.cloneElement)(a,{in:!1}):s[o]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:qr(a,"exit",e),enter:qr(a,"enter",e)})}})),s}var Gr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Wr=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(k(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}I(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,s=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Br(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:qr(e,"appear",r),enter:qr(e,"enter",r),exit:qr(e,"exit",r)})}))):Kr(e,s,o),firstRender:!1}},r.handleExited=function(e,t){var n=Br(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=h(e,["component","childFactory"]),s=this.state.contextValue,o=Gr(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(zr.Provider,{value:s},o):t.createElement(zr.Provider,{value:s},t.createElement(n,i,o))},n}(t.Component);Wr.propTypes={},Wr.defaultProps={component:"div",childFactory:function(e){return e}};const Hr=Wr;var Qr="undefined"===typeof window?t.useEffect:t.useLayoutEffect;const Yr=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,s=e.rippleX,o=e.rippleY,a=e.rippleSize,c=e.in,l=e.onExited,u=void 0===l?function(){}:l,h=e.timeout,d=t.useState(!1),f=d[0],p=d[1],g=m(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:a,height:a,top:-a/2+o,left:-a/2+s},v=m(n.child,f&&n.childLeaving,i&&n.childPulsate),w=Ar(u);return Qr((function(){if(!c){p(!0);var e=setTimeout(w,h);return function(){clearTimeout(e)}}}),[w,c,h]),t.createElement("span",{className:g,style:y},t.createElement("span",{className:v}))};var Xr=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,s=e.classes,o=e.className,a=d(e,["center","classes","className"]),c=t.useState([]),l=c[0],u=c[1],h=t.useRef(0),p=t.useRef(null);t.useEffect((function(){p.current&&(p.current(),p.current=null)}),[l]);var g=t.useRef(!1),y=t.useRef(null),v=t.useRef(null),w=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,a=e.cb;u((function(e){return[].concat(Et(e),[t.createElement(Yr,{key:h.current,classes:s,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),h.current+=1,p.current=a}),[s]),_=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,s=void 0!==r&&r,o=t.center,a=void 0===o?i||t.pulsate:o,c=t.fakeElement,l=void 0!==c&&c;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var u,h,d,f=l?null:w.current,p=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(p.width/2),h=Math.round(p.height/2);else{var m=e.touches?e.touches[0]:e,_=m.clientX,E=m.clientY;u=Math.round(_-p.left),h=Math.round(E-p.top)}if(a)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var T=2*Math.max(Math.abs((f?f.clientWidth:0)-u),u)+2,S=2*Math.max(Math.abs((f?f.clientHeight:0)-h),h)+2;d=Math.sqrt(Math.pow(T,2)+Math.pow(S,2))}e.touches?null===v.current&&(v.current=function(){b({pulsate:s,rippleX:u,rippleY:h,rippleSize:d,cb:n})},y.current=setTimeout((function(){v.current&&(v.current(),v.current=null)}),80)):b({pulsate:s,rippleX:u,rippleY:h,rippleSize:d,cb:n})}}),[i,b]),E=t.useCallback((function(){_({},{pulsate:!0})}),[_]),T=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&v.current)return e.persist(),v.current(),v.current=null,void(y.current=setTimeout((function(){T(e,t)})));v.current=null,u((function(e){return e.length>0?e.slice(1):e})),p.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:E,start:_,stop:T}}),[E,_,T]),t.createElement("span",f({className:m(s.root,o),ref:w},a),t.createElement(Hr,{component:null,exit:!0},l))}));const $r=kr((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(Xr));var Jr=t.forwardRef((function(e,n){var r=e.action,s=e.buttonRef,o=e.centerRipple,a=void 0!==o&&o,c=e.children,l=e.classes,u=e.className,h=e.component,p=void 0===h?"button":h,g=e.disabled,y=void 0!==g&&g,v=e.disableRipple,w=void 0!==v&&v,b=e.disableTouchRipple,_=void 0!==b&&b,E=e.focusRipple,T=void 0!==E&&E,S=e.focusVisibleClassName,I=e.onBlur,k=e.onClick,x=e.onFocus,C=e.onFocusVisible,N=e.onKeyDown,A=e.onKeyUp,P=e.onMouseDown,R=e.onMouseLeave,D=e.onMouseUp,O=e.onTouchEnd,M=e.onTouchMove,L=e.onTouchStart,F=e.onDragLeave,V=e.tabIndex,U=void 0===V?0:V,j=e.TouchRippleProps,z=e.type,B=void 0===z?"button":z,q=d(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=t.useRef(null);var G=t.useRef(null),W=t.useState(!1),H=W[0],Q=W[1];y&&H&&Q(!1);var Y=jr(),X=Y.isFocusVisible,$=Y.onBlurVisible,J=Y.ref;function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return Ar((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}t.useImperativeHandle(r,(function(){return{focusVisible:function(){Q(!0),K.current.focus()}}}),[]),t.useEffect((function(){H&&T&&!w&&G.current.pulsate()}),[w,T,H]);var ee=Z("start",P),te=Z("stop",F),ne=Z("stop",D),re=Z("stop",(function(e){H&&e.preventDefault(),R&&R(e)})),ie=Z("start",L),se=Z("stop",O),oe=Z("stop",M),ae=Z("stop",(function(e){H&&($(e),Q(!1)),I&&I(e)}),!1),ce=Ar((function(e){K.current||(K.current=e.currentTarget),X(e)&&(Q(!0),C&&C(e)),x&&x(e)})),le=function(){var e=i.findDOMNode(K.current);return p&&"button"!==p&&!("A"===e.tagName&&e.href)},ue=t.useRef(!1),he=Ar((function(e){T&&!ue.current&&H&&G.current&&" "===e.key&&(ue.current=!0,e.persist(),G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&le()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&le()&&"Enter"===e.key&&!y&&(e.preventDefault(),k&&k(e))})),de=Ar((function(e){T&&" "===e.key&&G.current&&H&&!e.defaultPrevented&&(ue.current=!1,e.persist(),G.current.stop(e,(function(){G.current.pulsate(e)}))),A&&A(e),k&&e.target===e.currentTarget&&le()&&" "===e.key&&!e.defaultPrevented&&k(e)})),fe=p;"button"===fe&&q.href&&(fe="a");var pe={};"button"===fe?(pe.type=B,pe.disabled=y):("a"===fe&&q.href||(pe.role="button"),pe["aria-disabled"]=y);var me=Cr(s,n),ge=Cr(J,K),ye=Cr(me,ge),ve=t.useState(!1),we=ve[0],be=ve[1];t.useEffect((function(){be(!0)}),[]);var _e=we&&!w&&!y;return t.createElement(fe,f({className:m(l.root,u,H&&[l.focusVisible,S],y&&l.disabled),onBlur:ae,onClick:k,onFocus:ce,onKeyDown:he,onKeyUp:de,onMouseDown:ee,onMouseLeave:re,onMouseUp:ne,onDragLeave:te,onTouchEnd:se,onTouchMove:oe,onTouchStart:ie,ref:ye,tabIndex:y?-1:U},pe,q),c,_e?t.createElement($r,f({ref:G,center:a},j)):null)}));const Zr=kr({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Jr);function ei(e){if("string"!==typeof e)throw new Error(Dn(7));return e.charAt(0).toUpperCase()+e.slice(1)}var ti=t.forwardRef((function(e,n){var r=e.children,i=e.classes,s=e.className,o=e.color,a=void 0===o?"default":o,c=e.component,l=void 0===c?"button":c,u=e.disabled,h=void 0!==u&&u,p=e.disableElevation,g=void 0!==p&&p,y=e.disableFocusRipple,v=void 0!==y&&y,w=e.endIcon,b=e.focusVisibleClassName,_=e.fullWidth,E=void 0!==_&&_,T=e.size,S=void 0===T?"medium":T,I=e.startIcon,k=e.type,x=void 0===k?"button":k,C=e.variant,N=void 0===C?"text":C,A=d(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),P=I&&t.createElement("span",{className:m(i.startIcon,i["iconSize".concat(ei(S))])},I),R=w&&t.createElement("span",{className:m(i.endIcon,i["iconSize".concat(ei(S))])},w);return t.createElement(Zr,f({className:m(i.root,i[N],s,"inherit"===a?i.colorInherit:"default"!==a&&i["".concat(N).concat(ei(a))],"medium"!==S&&[i["".concat(N,"Size").concat(ei(S))],i["size".concat(ei(S))]],g&&i.disableElevation,h&&i.disabled,E&&i.fullWidth),component:l,disabled:h,focusRipple:!v,focusVisibleClassName:m(i.focusVisible,b),ref:n,type:x},A),t.createElement("span",{className:i.label},P,r,R))}));const ni=kr((function(e){return{root:f({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Wn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Wn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Wn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Wn(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Wn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Wn(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Wn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(ti),ri=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ii={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ri(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new si;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class si extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oi=function(e){return function(e){const t=ri(e);return ii.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ai=function(e){try{return ii.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ci(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&li(n)&&(e[n]=ci(e[n],t[n]));return e}function li(e){return"__proto__"!==e}const ui=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,hi=()=>{try{return ui()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ai(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},di=()=>{var e;return null===(e=hi())||void 0===e?void 0:e.config};class fi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function pi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mi(){return!function(){var e;const t=null===(e=hi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gi(){try{return"object"===typeof indexedDB}catch(e){return!1}}class yi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vi.prototype.create)}}class vi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(wi,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yi(n,s,t)}}const wi=/\{\$([^}]+)}/g;function bi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _i(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ei(n)&&Ei(s)){if(!_i(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ei(e){return null!==e&&"object"===typeof e}function Ti(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Si(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ii(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ki(e,t){const n=new xi(e,t);return n.subscribe.bind(n)}class xi{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ci),void 0===r.error&&(r.error=Ci),void 0===r.complete&&(r.complete=Ci);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ci(){}function Ni(e){return e&&e._delegate?e._delegate:e}class Ai{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pi="[DEFAULT]";class Ri{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new fi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Pi?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Di{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ri(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Oi=[];var Mi;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mi||(Mi={}));const Li={debug:Mi.DEBUG,verbose:Mi.VERBOSE,info:Mi.INFO,warn:Mi.WARN,error:Mi.ERROR,silent:Mi.SILENT},Fi=Mi.INFO,Vi={[Mi.DEBUG]:"log",[Mi.VERBOSE]:"log",[Mi.INFO]:"info",[Mi.WARN]:"warn",[Mi.ERROR]:"error"},Ui=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Vi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ji{constructor(e){this.name=e,this._logLevel=Fi,this._logHandler=Ui,this._userLogHandler=null,Oi.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Li[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.DEBUG,...t),this._logHandler(this,Mi.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.VERBOSE,...t),this._logHandler(this,Mi.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.INFO,...t),this._logHandler(this,Mi.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.WARN,...t),this._logHandler(this,Mi.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mi.ERROR,...t),this._logHandler(this,Mi.ERROR,...t)}}const zi=(e,t)=>t.some((t=>e instanceof t));let Bi,qi;const Ki=new WeakMap,Gi=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,Qi=new WeakMap;let Yi={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Xi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qi||(qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zi(this),n),Ji(Ki.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ji(e.apply(Zi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Zi(this),t,...r);return Wi.set(s,t.sort?t.sort():[t]),Ji(s)}}function $i(e){return"function"===typeof e?Xi(e):(e instanceof IDBTransaction&&function(e){if(Gi.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Gi.set(e,t)}(e),zi(e,Bi||(Bi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Yi):e)}function Ji(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ji(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ki.set(t,e)})).catch((()=>{})),Qi.set(t,e),t}(e);if(Hi.has(e))return Hi.get(e);const t=$i(e);return t!==e&&(Hi.set(e,t),Qi.set(t,e)),t}const Zi=e=>Qi.get(e);const es=["get","getKey","getAll","getAllKeys","count"],ts=["put","add","delete","clear"],ns=new Map;function rs(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ns.get(t))return ns.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ts.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!es.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return ns.set(t,s),s}Yi=(e=>({...e,get:(t,n,r)=>rs(t,n)||e.get(t,n,r),has:(t,n)=>!!rs(t,n)||e.has(t,n)}))(Yi);class is{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ss="@firebase/app",os="0.9.27",as=new ji("@firebase/app"),cs="[DEFAULT]",ls={[ss]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},us=new Map,hs=new Map;function ds(e,t){try{e.container.addComponent(t)}catch(n){as.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function fs(e,t){e.container.addOrOverwriteComponent(t)}function ps(e){const t=e.name;if(hs.has(t))return as.debug("There were multiple attempts to register component ".concat(t,".")),!1;hs.set(t,e);for(const n of us.values())ds(n,e);return!0}function ms(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cs;ms(e,t).clearInstance(n)}function ys(){hs.clear()}const vs=new vi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ws{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ai("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}const bs="10.8.0";function _s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:cs,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vs.create("bad-app-name",{appName:String(i)});if(n||(n=di()),!n)throw vs.create("no-options");const s=us.get(i);if(s){if(_i(n,s.options)&&_i(r,s.config))return s;throw vs.create("duplicate-app",{appName:i})}const o=new Di(i);for(const c of hs.values())o.addComponent(c);const a=new ws(n,r,o);return us.set(i,a),a}function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs;const t=us.get(e);if(!t&&e===cs&&di())return _s();if(!t)throw vs.create("no-app",{appName:e});return t}function Ts(){return Array.from(us.values())}async function Ss(e){const t=e.name;us.has(t)&&(us.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Is(e,t,n){var r;let i=null!==(r=ls[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void as.warn(e.join(" "))}ps(new Ai("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function ks(e,t){if(null!==e&&"function"!==typeof e)throw vs.create("invalid-log-argument");!function(e,t){for(const n of Oi){let r=null;t&&t.level&&(r=Li[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Mi[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function xs(e){var t;t=e,Oi.forEach((e=>{e.setLogLevel(t)}))}const Cs="firebase-heartbeat-database",Ns=1,As="firebase-heartbeat-store";let Ps=null;function Rs(){return Ps||(Ps=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ji(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Ji(o.result),e.oldVersion,e.newVersion,Ji(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Cs,Ns,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(As)}catch(n){console.warn(n)}}}).catch((e=>{throw vs.create("idb-open",{originalErrorMessage:e.message})}))),Ps}async function Ds(e,t){try{const n=(await Rs()).transaction(As,"readwrite"),r=n.objectStore(As);await r.put(t,Os(e)),await n.done}catch(n){if(n instanceof yi)as.warn(n.message);else{const e=vs.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});as.warn(e.message)}}}function Os(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ms{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fs(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ls();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ls(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Vs(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vs(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=oi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ls(){return(new Date).toISOString().substring(0,10)}class Fs{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!gi()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rs()).transaction(As),n=await t.objectStore(As).get(Os(e));return await t.done,n}catch(t){if(t instanceof yi)as.warn(t.message);else{const e=vs.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});as.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ds(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ds(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Vs(e){return oi(JSON.stringify({version:2,heartbeats:e})).length}var Us;Us="",ps(new Ai("platform-logger",(e=>new is(e)),"PRIVATE")),ps(new Ai("heartbeat",(e=>new Ms(e)),"PRIVATE")),Is(ss,os,Us),Is(ss,os,"esm2017"),Is("fire-js","");Is("firebase","10.8.0","app");function js(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function zs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bs=zs,qs=new vi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ks=new ji("@firebase/auth");function Gs(e){if(Ks.logLevel<=Mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ks.error("Auth (".concat(bs,"): ").concat(e),...n)}}function Ws(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ys(e,...n)}function Hs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ys(e,...n)}function Qs(e,t,n){const r=Object.assign(Object.assign({},Bs()),{[t]:n});return new vi("auth","Firebase",r).create(t,{appName:e.name})}function Ys(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qs.create(e,...n)}function Xs(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ys(t,...r)}}function $s(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gs(t),new Error(t)}function Js(e,t){e||$s(t)}function Zs(){return"http:"===eo()||"https:"===eo()}function eo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function to(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zs()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class no{constructor(e,t){this.shortDelay=e,this.longDelay=t,Js(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return to()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ro(e,t){Js(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class io{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void $s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void $s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void $s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const so={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oo=new no(3e4,6e4);function ao(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function co(e,t,n,r){return lo(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Ti(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),io.fetch()(ho(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function lo(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},so),t);try{const t=new po(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw mo(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw mo(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw mo(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw mo(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Qs(e,a,o);Ws(e,a)}}catch(i){if(i instanceof yi)throw i;Ws(e,"network-request-failed",{message:String(i)})}}async function uo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await co(e,t,n,r,i);return"mfaPendingCredential"in s&&Ws(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ho(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ro(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function fo(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class po{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Hs(this.auth,"network-request-failed"))),oo.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function mo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hs(e,t,r);return i.customData._tokenResponse=n,i}function go(e){return void 0!==e&&void 0!==e.enterprise}class yo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fo(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function vo(e,t){return co(e,"GET","/v2/recaptchaConfig",ao(e,t))}function wo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function bo(e){return 1e3*Number(e)}function _o(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Gs("JWT malformed, contained fewer than 3 sections"),null;try{const e=ai(n);return e?JSON.parse(e):(Gs("Failed to decode base64 JWT payload"),null)}catch(i){return Gs("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Eo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof yi&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class To{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class So{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Io(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Eo(e,async function(e,t){return co(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Xs(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=js(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new So(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xs(e.idToken,"internal-error"),Xs("undefined"!==typeof e.idToken,"internal-error"),Xs("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=_o(e);return Xs(t,"internal-error"),Xs("undefined"!==typeof t.exp,"internal-error"),Xs("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xs(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await lo(e,{},(async()=>{const n=Ti({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ho(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",io.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ko;return n&&(Xs("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Xs("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Xs("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return $s("not implemented")}}function xo(e,t){Xs("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Co{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=js(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new To(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new So(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return Xs(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ni(e),r=await n.getIdToken(t),i=_o(r);Xs(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wo(bo(i.auth_time)),issuedAtTime:wo(bo(i.iat)),expirationTime:wo(bo(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ni(e);await Io(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Io(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Eo(this,async function(e,t){return co(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;Xs(v&&E,e,"internal-error");const T=ko.fromJSON(this.name,E);Xs("string"===typeof v,e,"internal-error"),xo(u,e.name),xo(h,e.name),Xs("boolean"===typeof w,e,"internal-error"),Xs("boolean"===typeof b,e,"internal-error"),xo(d,e.name),xo(f,e.name),xo(p,e.name),xo(m,e.name),xo(g,e.name),xo(y,e.name);const S=new Co({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ko;r.updateFromServerResponse(t);const i=new Co({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Io(i),i}}const No=new Map;function Ao(e){Js(e instanceof Function,"Expected a class definition");let t=No.get(e);return t?(Js(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,No.set(e,t),t)}class Po{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Po.type="NONE";const Ro=Po;function Do(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Oo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Do(this.userKey,r.apiKey,i),this.fullPersistenceKey=Do("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Co._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Oo(Ao(Ro),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ao(Ro);const s=Do(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Co._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new Oo(i,e,n)):new Oo(i,e,n)}}function Mo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zo(t))return"Blackberry";if(Bo(t))return"Webos";if(Fo(t))return"Safari";if((t.includes("chrome/")||Vo(t))&&!t.includes("edge/"))return"Chrome";if(jo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return/firefox\//i.test(e)}function Fo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return/crios\//i.test(e)}function Uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return/iemobile/i.test(e)}function jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return/android/i.test(e)}function zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return/blackberry/i.test(e)}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return/webos/i.test(e)}function qo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ko(){return function(){const e=pi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();return qo(e)||jo(e)||Bo(e)||zo(e)||/windows phone/i.test(e)||Uo(e)}function Wo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Mo(pi());break;case"Worker":t="".concat(Mo(pi()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bs,"/").concat(r)}class Ho{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Qo{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Yo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $o(this),this.idTokenSubscription=new $o(this),this.beforeStateQueue=new Ho(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qs,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ao(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xs(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Io(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ni(e):null;return t&&Xs(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xs(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ao(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return co(e,"GET","/v2/passwordPolicy",ao(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Qo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return co(e,"POST","/v2/accounts:revokeToken",ao(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ao(e)||this._popupRedirectResolver;Xs(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Ao(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xs(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xs(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ks.logLevel<=Mi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ks.warn("Auth (".concat(bs,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Xo(e){return Ni(e)}class $o{constructor(e){this.auth=e,this.observer=null,this.addObserver=ki((e=>this.observer=e))}get next(){return Xs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zo(e){return Jo.loadJS(e)}function ea(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ta{constructor(e){this.type="recaptcha-enterprise",this.auth=Xo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;go(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{vo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new yo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&go(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Jo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Zo(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function na(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ta(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ra(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await na(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await na(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}class ia{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,t){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function sa(e,t){return co(e,"POST","/v1/accounts:signUp",t)}async function oa(e,t){return uo(e,"POST","/v1/accounts:signInWithPassword",ao(e,t))}class aa extends ia{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new aa(e,t,"password")}static _fromEmailAndCode(e,t){return new aa(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ra(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oa);case"emailLink":return async function(e,t){return uo(e,"POST","/v1/accounts:signInWithEmailLink",ao(e,t))}(e,{email:this._email,oobCode:this._password});default:Ws(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ra(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sa);case"emailLink":return async function(e,t){return uo(e,"POST","/v1/accounts:signInWithEmailLink",ao(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ca(e,t){return uo(e,"POST","/v1/accounts:signInWithIdp",ao(e,t))}class la extends ia{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ws("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=js(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new la(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ca(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ca(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ca(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ti(t)}return e}}const ua={USER_NOT_FOUND:"user-not-found"};class ha extends ia{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ha({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ha({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return uo(e,"POST","/v1/accounts:signInWithPhoneNumber",ao(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await uo(e,"POST","/v1/accounts:signInWithPhoneNumber",ao(e,t));if(n.temporaryProof)throw mo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return uo(e,"POST","/v1/accounts:signInWithPhoneNumber",ao(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ua)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ha({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class da{constructor(e){var t,n,r,i,s,o;const a=Si(Ii(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Xs(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Si(Ii(e)).link,n=t?Si(Ii(t)).deep_link_id:null,r=Si(Ii(e)).deep_link_id;return(r?Si(Ii(r)).link:null)||r||n||t||e}(e);try{return new da(t)}catch(n){return null}}}class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,t){return aa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=da.parseLink(t);return Xs(n,"argument-error"),aa._fromEmailAndCode(e,n.code,n.tenantId)}}fa.PROVIDER_ID="password",fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ma extends pa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ga extends ma{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ga.credential(t.oauthAccessToken)}catch(n){return null}}}ga.FACEBOOK_SIGN_IN_METHOD="facebook.com",ga.PROVIDER_ID="facebook.com";class ya extends ma{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return la._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ya.credential(n,r)}catch(i){return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com",ya.PROVIDER_ID="google.com";class va extends ma{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return va.credential(t.oauthAccessToken)}catch(n){return null}}}va.GITHUB_SIGN_IN_METHOD="github.com",va.PROVIDER_ID="github.com";class wa extends ma{constructor(){super("twitter.com")}static credential(e,t){return la._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return wa.credential(n,r)}catch(i){return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com",wa.PROVIDER_ID="twitter.com";class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Co._fromIdTokenResponse(e,n,r),s=_a(n);return new ba({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=_a(n);return new ba({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function _a(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ea extends yi{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ea.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ea(e,t,n,r)}}function Ta(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ea._fromErrorAndOperation(e,n,t,r);throw n}))}async function Sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Eo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ba._forOperation(e,"link",r)}async function Ia(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Eo(e,Ta(r,i,t,e),n);Xs(s.idToken,r,"internal-error");const o=_o(s.idToken);Xs(o,r,"internal-error");const{sub:a}=o;return Xs(e.uid===a,r,"user-mismatch"),ba._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Ws(r,"user-mismatch"),s}}async function ka(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ta(e,r,t),s=await ba._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const xa="__sak";class Ca{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Na extends Ca{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=pi();return Fo(e)||qo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Go(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ko()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Na.type="LOCAL";class Aa extends Ca{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Aa.type="SESSION";class Pa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Pa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pa.receivers=[];class Da{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=Ra("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Oa(){return window}function Ma(){return"undefined"!==typeof Oa().WorkerGlobalScope&&"function"===typeof Oa().importScripts}const La="firebaseLocalStorageDb",Fa="firebaseLocalStorage",Va="fbase_key";class Ua{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ja(e,t){return e.transaction([Fa],t?"readwrite":"readonly").objectStore(Fa)}function za(){const e=indexedDB.open(La,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Fa,{keyPath:Va})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Fa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(La);return new Ua(e).toPromise()}(),t(await za()))}))}))}async function Ba(e,t,n){const r=ja(e,!0).put({[Va]:t,value:n});return new Ua(r).toPromise()}function qa(e,t){const n=ja(e,!0).delete(t);return new Ua(n).toPromise()}class Ka{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await za()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ma()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pa._getInstance(Ma()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Da(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await za();return await Ba(e,xa,"1"),await qa(e,xa),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ba(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ja(e,!1).get(t),r=await new Ua(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>qa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ja(e,!1).getAll();return new Ua(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ka.type="LOCAL";ea("rcb"),new no(3e4,6e4);const Ga="recaptcha";async function Wa(e,t,n){var r;const i=await n.verify();try{let s;if(Xs("string"===typeof i,e,"argument-error"),Xs(n.type===Ga,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Xs("enroll"===t.type,e,"internal-error");const n=await function(e,t){return co(e,"POST","/v2/accounts/mfaEnrollment:start",ao(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Xs("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Xs(n,e,"missing-multi-factor-info");const o=await function(e,t){return co(e,"POST","/v2/accounts/mfaSignIn:start",ao(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return co(e,"POST","/v1/accounts:sendVerificationCode",ao(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ha{constructor(e){this.providerId=Ha.PROVIDER_ID,this.auth=Xo(e)}verifyPhoneNumber(e,t){return Wa(this.auth,e,Ni(t))}static credential(e,t){return ha._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ha.credentialFromTaggedObject(t)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ha._fromTokenResponse(n,r):null}}Ha.PROVIDER_ID="phone",Ha.PHONE_SIGN_IN_METHOD="phone";class Qa extends ia{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ya(e){return ka(e.auth,new Qa(e),e.bypassAuthState)}function Xa(e){const{auth:t,user:n}=e;return Xs(n,t,"internal-error"),Ia(n,new Qa(e),e.bypassAuthState)}async function $a(e){const{auth:t,user:n}=e;return Xs(n,t,"internal-error"),Sa(n,new Qa(e),e.bypassAuthState)}class Ja{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ya;case"linkViaPopup":case"linkViaRedirect":return $a;case"reauthViaPopup":case"reauthViaRedirect":return Xa;default:Ws(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Za=new no(2e3,1e4);class ec extends Ja{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ec.currentPopupAction&&ec.currentPopupAction.cancel(),ec.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xs(e,this.auth,"internal-error"),e}async onExecution(){Js(1===this.filter.length,"Popup operations only handle one event");const e=Ra();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Hs(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ec.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Za.get())};e()}}ec.currentPopupAction=null;new Map;new no(3e4,6e4);new no(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);encodeURIComponent("fac");var tc="@firebase/auth",nc="1.6.0";class rc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=hi())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var ic;!function(e){Jo=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Hs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ic="Browser",ps(new Ai("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Xs(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:ic,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wo(ic)},l=new Yo(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ao);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ps(new Ai("auth-internal",(e=>(e=>new rc(e))(Xo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Is(tc,nc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ic)),Is(tc,nc,"esm2017");var sc,oc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ac={},cc=cc||{},lc=oc||self;function uc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var dc="closure_uid_"+(1e9*Math.random()>>>0),fc=0;function pc(e,t,n){return e.call.apply(e.bind,arguments)}function mc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function gc(e,t,n){return(gc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pc:mc).apply(null,arguments)}function yc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vc(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function wc(){this.s=this.s,this.o=this.o}wc.prototype.s=!1,wc.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,dc)&&e[dc]||(e[dc]=++fc))},wc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _c(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ec(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(uc(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Tc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Tc.prototype.h=function(){this.defaultPrevented=!0};var Sc=function(){if(!lc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};lc.addEventListener("test",e,t),lc.removeEventListener("test",e,t)}catch(n){}return e}();function Ic(e){return/^[\s\xa0]*$/.test(e)}function kc(){var e=lc.navigator;return e&&(e=e.userAgent)?e:""}function xc(e){return-1!=kc().indexOf(e)}function Cc(e){return Cc[" "](e),e}Cc[" "]=function(){};var Nc,Ac,Pc=xc("Opera"),Rc=xc("Trident")||xc("MSIE"),Dc=xc("Edge"),Oc=Dc||Rc,Mc=xc("Gecko")&&!(-1!=kc().toLowerCase().indexOf("webkit")&&!xc("Edge"))&&!(xc("Trident")||xc("MSIE"))&&!xc("Edge"),Lc=-1!=kc().toLowerCase().indexOf("webkit")&&!xc("Edge");function Fc(){var e=lc.document;return e?e.documentMode:void 0}e:{var Vc="",Uc=function(){var e=kc();return Mc?/rv:([^\);]+)(\)|;)/.exec(e):Dc?/Edge\/([\d\.]+)/.exec(e):Rc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Lc?/WebKit\/(\S+)/.exec(e):Pc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Uc&&(Vc=Uc?Uc[1]:""),Rc){var jc=Fc();if(null!=jc&&jc>parseFloat(Vc)){Nc=String(jc);break e}}Nc=Vc}if(lc.document&&Rc){var zc=Fc();Ac=zc||(parseInt(Nc,10)||void 0)}else Ac=void 0;var Bc=Ac;function qc(e,t){if(Tc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Mc){e:{try{Cc(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Kc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qc.$.h.call(this)}}vc(qc,Tc);var Kc={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),Wc=0;function Hc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Wc,this.fa=this.ia=!1}function Qc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Yc(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Xc(e){const t={};for(const n in e)t[n]=e[n];return t}const $c="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jc(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<$c.length;t++)n=$c[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zc(e){this.src=e,this.g={},this.h=0}function el(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=bc(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Qc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tl(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Zc.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=tl(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Hc(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var nl="closure_lm_"+(1e6*Math.random()|0),rl={};function il(e,t,n,r,i){if(r&&r.once)return ol(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)il(e,t[s],n,r,i);return null}return n=fl(n),e&&e[Gc]?e.O(t,n,hc(r)?!!r.capture:!!r,i):sl(e,t,n,!1,r,i)}function sl(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=hc(i)?!!i.capture:!!i,a=hl(e);if(a||(e[nl]=a=new Zc(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ul;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ll(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ol(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ol(e,t[s],n,r,i);return null}return n=fl(n),e&&e[Gc]?e.P(t,n,hc(r)?!!r.capture:!!r,i):sl(e,t,n,!0,r,i)}function al(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)al(e,t[s],n,r,i);else r=hc(r)?!!r.capture:!!r,n=fl(n),e&&e[Gc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tl(s=e.g[t],n,r,i))&&(Qc(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=hl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tl(t,n,r,i)),(n=-1<e?t[e]:null)&&cl(n))}function cl(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Gc])el(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ll(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hl(t))?(el(n,e),0==n.h&&(n.src=null,t[nl]=null)):Qc(e)}}}function ll(e){return e in rl?rl[e]:rl[e]="on"+e}function ul(e,t){if(e.fa)e=!0;else{t=new qc(t,this);var n=e.listener,r=e.la||e.src;e.ia&&cl(e),e=n.call(r,t)}return e}function hl(e){return(e=e[nl])instanceof Zc?e:null}var dl="__closure_events_fn_"+(1e9*Math.random()>>>0);function fl(e){return"function"===typeof e?e:(e[dl]||(e[dl]=function(t){return e.handleEvent(t)}),e[dl])}function pl(){wc.call(this),this.i=new Zc(this),this.S=this,this.J=null}function ml(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Tc(t,e);else if(t instanceof Tc)t.target=t.target||e;else{var i=t;Jc(t=new Tc(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=gl(o,r,!0,t)&&i}if(i=gl(o=t.g=e,r,!0,t)&&i,i=gl(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=gl(o=t.g=n[s],r,!1,t)&&i}function gl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&el(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}vc(pl,wc),pl.prototype[Gc]=!0,pl.prototype.removeEventListener=function(e,t,n,r){al(this,e,t,n,r)},pl.prototype.N=function(){if(pl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qc(n[r]);delete t.g[e],t.h--}}this.J=null},pl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yl=lc.JSON.stringify;function vl(){var e=Il;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wl=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new bl),(e=>e.reset()));class bl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _l(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function El(e){lc.setTimeout((()=>{throw e}),0)}let Tl,Sl=!1,Il=new class{constructor(){this.h=this.g=null}add(e,t){const n=wl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},kl=()=>{const e=lc.Promise.resolve(void 0);Tl=()=>{e.then(xl)}};var xl=()=>{for(var e;e=vl();){try{e.h.call(e.g)}catch(n){El(n)}var t=wl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sl=!1};function Cl(e,t){pl.call(this),this.h=e||1,this.g=t||lc,this.j=gc(this.qb,this),this.l=Date.now()}function Nl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Al(e,t,n){if("function"===typeof e)n&&(e=gc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=gc(e.handleEvent,e)}return 2147483647<Number(t)?-1:lc.setTimeout(e,t||0)}function Pl(e){e.g=Al((()=>{e.g=null,e.i&&(e.i=!1,Pl(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}vc(Cl,pl),(sc=Cl.prototype).ga=!1,sc.T=null,sc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ml(this,"tick"),this.ga&&(Nl(this),this.start()))}},sc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sc.N=function(){Cl.$.N.call(this),Nl(this),delete this.g};class Rl extends wc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(lc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dl(e){wc.call(this),this.h=e,this.g={}}vc(Dl,wc);var Ol=[];function Ml(e,t,n,r){Array.isArray(n)||(n&&(Ol[0]=n.toString()),n=Ol);for(var i=0;i<n.length;i++){var s=il(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ll(e){Yc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&cl(e)}),e),e.g={}}function Fl(){this.g=!0}function Vl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return yl(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Dl.prototype.N=function(){Dl.$.N.call(this),Ll(this)},Dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fl.prototype.Ea=function(){this.g=!1},Fl.prototype.info=function(){};var Ul={},jl=null;function zl(){return jl=jl||new pl}function Bl(e){Tc.call(this,Ul.Ta,e)}function ql(e){const t=zl();ml(t,new Bl(t))}function Kl(e,t){Tc.call(this,Ul.STAT_EVENT,e),this.stat=t}function Gl(e){const t=zl();ml(t,new Kl(t,e))}function Wl(e,t){Tc.call(this,Ul.Ua,e),this.size=t}function Hl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return lc.setTimeout((function(){e()}),t)}Ul.Ta="serverreachability",vc(Bl,Tc),Ul.STAT_EVENT="statevent",vc(Kl,Tc),Ul.Ua="timingevent",vc(Wl,Tc);var Ql={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xl(){}function $l(e){return e.h||(e.h=e.i())}function Jl(){}Xl.prototype.h=null;var Zl,eu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tu(){Tc.call(this,"d")}function nu(){Tc.call(this,"c")}function ru(){}function iu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Dl(this),this.P=ou,e=Oc?125:void 0,this.V=new Cl(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}vc(tu,Tc),vc(nu,Tc),vc(ru,Xl),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},Zl=new ru;var ou=45e3,au={},cu={};function lu(e,t,n){e.L=1,e.A=Cu(Tu(t)),e.u=n,e.S=!0,uu(e,null)}function uu(e,t){e.G=Date.now(),pu(e),e.B=Tu(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),zu(n.i,"t",r),e.o=0,n=e.l.J,e.h=new su,e.g=Bh(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Rl(gc(e.Pa,e,e.g),e.O)),Ml(e.U,e.g,"readystatechange",e.nb),t=e.I?Xc(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ql(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function hu(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function du(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=fu(e,n),r==cu){4==t&&(e.s=4,Gl(14),i=!1),Vl(e.j,e.m,null,"[Incomplete Response]");break}if(r==au){e.s=4,Gl(15),Vl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vl(e.j,e.m,r,null),wu(e,r)}hu(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Gl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Oh(t),t.M=!0,Gl(11))):(Vl(e.j,e.m,n,"[Invalid Chunked Response]"),vu(e),yu(e))}function fu(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?cu:(n=Number(t.substring(n,r)),isNaN(n)?au:(r+=1)+n>t.length?cu:(t=t.slice(r,r+n),e.o=r+n,t))}function pu(e){e.Y=Date.now()+e.P,mu(e,e.P)}function mu(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Hl(gc(e.lb,e),t)}function gu(e){e.C&&(lc.clearTimeout(e.C),e.C=null)}function yu(e){0==e.l.H||e.J||Fh(e.l,e)}function vu(e){gu(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Nl(e.V),Ll(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function wu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Qu(n.i,e)))if(!e.K&&Qu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Lh(n),kh(n)}Dh(n),Gl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Hl(gc(n.ib,n),6e3));if(1>=Hu(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else Uh(n,11)}else if((e.K||n.g==e)&&Lh(n),!Ic(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Yu(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,xu(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=zh(r,r.J?r.pa:null,r.Y),o.K){Xu(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(gu(a),pu(a)),r.g=o}else Rh(r);0<n.j.length&&Ch(n)}else"stop"!=l[0]&&"close"!=l[0]||Uh(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Uh(n,7):Ih(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ql()}catch(l){}}function bu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(uc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(uc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(uc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(sc=iu.prototype).setTimeout=function(e){this.P=e},sc.nb=function(e){e=e.target;const t=this.M;t&&3==wh(e)?t.l():this.Pa(e)},sc.Pa=function(e){try{if(e==this.g)e:{const u=wh(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Oc||this.g&&(this.h.h||this.g.ja()||bh(this.g)))){this.J||4!=u||7==t||ql(),gu(this);var n=this.g.da();this.ca=n;t:if(hu(this)){var r=bh(this.g);e="";var i=r.length,s=4==wh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vu(this),yu(this);var o="";break t}this.h.i=new lc.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ic(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Gl(12),vu(this),yu(this);break e}Vl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wu(this,n)}this.S?(du(this,u,o),Oc&&this.i&&3==u&&(Ml(this.U,this.V,"tick",this.mb),this.V.start())):(Vl(this.j,this.m,o,null),wu(this,o)),4==u&&vu(this),this.i&&!this.J&&(4==u?Fh(this.l,this):(this.i=!1,pu(this)))}else(function(e){const t={};e=(e.g&&2<=wh(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ic(e[r]))continue;var n=_l(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Gl(12)):(this.s=0,Gl(13)),vu(this),yu(this)}}}catch(u){}},sc.mb=function(){if(this.g){var e=wh(this.g),t=this.g.ja();this.o<t.length&&(gu(this),du(this,e,t),this.i&&4!=e&&pu(this))}},sc.cancel=function(){this.J=!0,vu(this)},sc.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ql(),Gl(17)),vu(this),this.s=2,yu(this)):mu(this,this.Y-e)};var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eu(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Eu){this.h=e.h,Su(this,e.j),this.s=e.s,this.g=e.g,Iu(this,e.m),this.l=e.l;var t=e.i,n=new Fu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ku(this,n),this.o=e.o}else e&&(t=String(e).match(_u))?(this.h=!1,Su(this,t[1]||"",!0),this.s=Nu(t[2]||""),this.g=Nu(t[3]||"",!0),Iu(this,t[4]),this.l=Nu(t[5]||"",!0),ku(this,t[6]||"",!0),this.o=Nu(t[7]||"")):(this.h=!1,this.i=new Fu(null,this.h))}function Tu(e){return new Eu(e)}function Su(e,t,n){e.j=n?Nu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Iu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ku(e,t,n){t instanceof Fu?(e.i=t,function(e,t){t&&!e.j&&(Vu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Uu(this,t),zu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Au(t,Mu)),e.i=new Fu(t,e.h))}function xu(e,t,n){e.i.set(t,n)}function Cu(e){return xu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Au(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Eu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Au(t,Ru,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Au(t,Ru,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Au(n,"/"==n.charAt(0)?Ou:Du,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Au(n,Lu)),e.join("")};var Ru=/[#\/\?@]/g,Du=/[#\?:]/g,Ou=/[#\?]/g,Mu=/[#\?@]/g,Lu=/#/g;function Fu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Uu(e,t){Vu(e),t=Bu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ju(e,t){return Vu(e),t=Bu(e,t),e.g.has(t)}function zu(e,t,n){Uu(e,t),0<n.length&&(e.i=null,e.g.set(Bu(e,t),_c(n)),e.h+=n.length)}function Bu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sc=Fu.prototype).add=function(e,t){Vu(this),this.i=null,e=Bu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sc.forEach=function(e,t){Vu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},sc.ta=function(){Vu(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},sc.Z=function(e){Vu(this);let t=[];if("string"===typeof e)ju(this,e)&&(t=t.concat(this.g.get(Bu(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},sc.set=function(e,t){return Vu(this),this.i=null,ju(this,e=Bu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},sc.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var qu=class{constructor(e,t){this.g=e,this.map=t}};function Ku(e){this.l=e||Gu,lc.PerformanceNavigationTiming?e=0<(e=lc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(lc.g&&lc.g.Ka&&lc.g.Ka()&&lc.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gu=10;function Wu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Hu(e){return e.h?1:e.g?e.g.size:0}function Qu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yu(e,t){e.g?e.g.add(t):e.h=t}function Xu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $u(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _c(e.i)}Ku.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ju,Zu=class{stringify(e){return lc.JSON.stringify(e,void 0)}parse(e){return lc.JSON.parse(e,void 0)}};function eh(){this.g=new Zu}function th(e,t,n){const r=n||"";try{bu(e,(function(e,n){let i=e;hc(e)&&(i=yl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function nh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function rh(e){this.l=e.ec||null,this.j=e.ob||!1}function ih(e,t){pl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=sh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vc(rh,Xl),rh.prototype.g=function(){return new ih(this.l,this.j)},rh.prototype.i=(Ju={},function(){return Ju}),vc(ih,pl);var sh=0;function oh(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ah(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ch(e)}function ch(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sc=ih.prototype).open=function(e,t){if(this.readyState!=sh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ch(this)},sc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||lc).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},sc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ah(this)),this.readyState=sh},sc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ch(this)),this.g&&(this.readyState=3,ch(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof lc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oh(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},sc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ah(this):ch(this),3==this.readyState&&oh(this)}},sc.Za=function(e){this.g&&(this.response=this.responseText=e,ah(this))},sc.Ya=function(e){this.g&&(this.response=e,ah(this))},sc.ka=function(){this.g&&ah(this)},sc.setRequestHeader=function(e,t){this.v.append(e,t)},sc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var lh=lc.JSON.parse;function uh(e){pl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hh,this.L=this.M=!1}vc(uh,pl);var hh="",dh=/^https?$/i,fh=["POST","PUT"];function ph(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,mh(e),yh(e)}function mh(e){e.F||(e.F=!0,ml(e,"complete"),ml(e,"error"))}function gh(e){if(e.h&&"undefined"!=typeof cc&&(!e.C[1]||4!=wh(e)||2!=e.da()))if(e.v&&4==wh(e))Al(e.La,0,e);else if(ml(e,"readystatechange"),4==wh(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(_u)[1]||null;!i&&lc.self&&lc.self.location&&(i=lc.self.location.protocol.slice(0,-1)),r=!dh.test(i?i.toLowerCase():"")}n=r}if(n)ml(e,"complete"),ml(e,"success");else{e.m=6;try{var s=2<wh(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",mh(e)}}finally{yh(e)}}}function yh(e,t){if(e.g){vh(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ml(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function vh(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(lc.clearTimeout(e.A),e.A=null)}function wh(e){return e.g?e.g.readyState:0}function bh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case hh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xd){return null}}function _h(e){let t="";return Yc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Eh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_h(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xu(e,t,n))}function Th(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sh(e){this.Ga=0,this.j=[],this.l=new Fl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Th("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Th("baseRetryDelayMs",5e3,e),this.hb=Th("retryDelaySeedMs",1e4,e),this.eb=Th("forwardChannelMaxRetries",2,e),this.xa=Th("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ku(e&&e.concurrentRequestLimit),this.Ja=new eh,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ih(e){if(xh(e),3==e.H){var t=e.W++,n=Tu(e.I);if(xu(n,"SID",e.K),xu(n,"RID",t),xu(n,"TYPE","terminate"),Ah(e,n),(t=new iu(e,e.l,t)).L=2,t.A=Cu(Tu(n)),n=!1,lc.navigator&&lc.navigator.sendBeacon)try{n=lc.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&lc.Image&&((new Image).src=t.A,n=!0),n||(t.g=Bh(t.l,null),t.g.ha(t.A)),t.G=Date.now(),pu(t)}jh(e)}function kh(e){e.g&&(Oh(e),e.g.cancel(),e.g=null)}function xh(e){kh(e),e.u&&(lc.clearTimeout(e.u),e.u=null),Lh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&lc.clearTimeout(e.m),e.m=null)}function Ch(e){if(!Wu(e.i)&&!e.m){e.m=!0;var t=e.Na;Tl||kl(),Sl||(Tl(),Sl=!0),Il.add(t,e),e.C=0}}function Nh(e,t){var n;n=t?t.m:e.W++;const r=Tu(e.I);xu(r,"SID",e.K),xu(r,"RID",n),xu(r,"AID",e.V),Ah(e,r),e.o&&e.s&&Eh(r,e.o,e.s),n=new iu(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ph(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Yu(e.i,n),lu(n,r,t)}function Ah(e,t){e.na&&Yc(e.na,(function(e,n){xu(t,n,e)})),e.h&&bu({},(function(e,n){xu(t,n,e)}))}function Ph(e,t,n){n=Math.min(e.j.length,n);var r=e.h?gc(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{th(a,e,"req"+n+"_")}catch(Gf){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Rh(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Tl||kl(),Sl||(Tl(),Sl=!0),Il.add(t,e),e.A=0}}function Dh(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Hl(gc(e.Ma,e),Vh(e,e.A)),e.A++,!0)}function Oh(e){null!=e.B&&(lc.clearTimeout(e.B),e.B=null)}function Mh(e){e.g=new iu(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Tu(e.wa);xu(t,"RID","rpc"),xu(t,"SID",e.K),xu(t,"AID",e.V),xu(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&xu(t,"TO",e.qa),xu(t,"TYPE","xmlhttp"),Ah(e,t),e.o&&e.s&&Eh(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Cu(Tu(t)),n.u=null,n.S=!0,uu(n,e)}function Lh(e){null!=e.v&&(lc.clearTimeout(e.v),e.v=null)}function Fh(e,t){var n=null;if(e.g==t){Lh(e),Oh(e),e.g=null;var r=2}else{if(!Qu(e.i,t))return;n=t.F,Xu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ml(r=zl(),new Wl(r,n)),Ch(e)}else Rh(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Hu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Hl(gc(e.Na,e,t),Vh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Dh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Uh(e,5);break;case 4:Uh(e,10);break;case 3:Uh(e,6);break;default:Uh(e,2)}}function Vh(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Uh(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=gc(e.pb,e);n||(n=new Eu("//www.google.com/images/cleardot.gif"),lc.location&&"http"==lc.location.protocol||Su(n,"https"),Cu(n)),function(e,t){const n=new Fl;if(lc.Image){const r=new Image;r.onload=yc(nh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yc(nh,n,r,"TestLoadImage: error",!1,t),r.onabort=yc(nh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yc(nh,n,r,"TestLoadImage: timeout",!1,t),lc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gl(2);e.H=0,e.h&&e.h.za(t),jh(e),xh(e)}function jh(e){if(e.H=0,e.ma=[],e.h){const t=$u(e.i);0==t.length&&0==e.j.length||(Ec(e.ma,t),Ec(e.ma,e.j),e.i.i.length=0,_c(e.j),e.j.length=0),e.h.ya()}}function zh(e,t,n){var r=n instanceof Eu?Tu(n):new Eu(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Iu(r,r.m);else{var i=lc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Eu(null);r&&Su(s,r),t&&(s.g=t),i&&Iu(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&xu(r,n,t),xu(r,"VER",e.ra),Ah(e,r),r}function Bh(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new uh(new rh({ob:n})):new uh(e.va)).Oa(e.J),t}function qh(){}function Kh(){if(Rc&&!(10<=Number(Bc)))throw Error("Environmental error: no available transport.")}function Gh(e,t){pl.call(this),this.g=new Sh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ic(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ic(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qh(this)}function Wh(e){tu.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Hh(){nu.call(this),this.status=1}function Qh(e){this.g=e}function Yh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xh(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function $h(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(sc=uh.prototype).Oa=function(e){this.M=e},sc.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zl.g(),this.C=this.u?$l(this.u):$l(Zl),this.g.onreadystatechange=gc(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ph(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=lc.FormData&&e instanceof lc.FormData,!(0<=bc(fh,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vh(this),0<this.B&&((this.L=function(e){return Rc&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gc(this.ua,this)):this.A=Al(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ph(this,s)}},sc.ua=function(){"undefined"!=typeof cc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ml(this,"timeout"),this.abort(8))},sc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ml(this,"complete"),ml(this,"abort"),yh(this))},sc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),uh.$.N.call(this)},sc.La=function(){this.s||(this.G||this.v||this.l?gh(this):this.kb())},sc.kb=function(){gh(this)},sc.isActive=function(){return!!this.g},sc.da=function(){try{return 2<wh(this)?this.g.status:-1}catch(Ju){return-1}},sc.ja=function(){try{return this.g?this.g.responseText:""}catch(Ju){return""}},sc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),lh(t)}},sc.Ia=function(){return this.m},sc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(sc=Sh.prototype).ra=8,sc.H=1,sc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new iu(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Xc(s),Jc(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ph(this,i,t),xu(n=Tu(this.I),"RID",e),xu(n,"CVER",22),this.F&&xu(n,"X-HTTP-Session-Id",this.F),Ah(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(_h(s)))+"&"+t:this.o&&Eh(n,this.o,s)),Yu(this.i,i),this.bb&&xu(n,"TYPE","init"),this.P?(xu(n,"$req",t),xu(n,"SID","null"),i.aa=!0,lu(i,n,null)):lu(i,n,t),this.H=2}}else 3==this.H&&(e?Nh(this,e):0==this.j.length||Wu(this.i)||Nh(this))},sc.Ma=function(){if(this.u=null,Mh(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Hl(gc(this.jb,this),e)}},sc.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gl(10),kh(this),Mh(this))},sc.ib=function(){null!=this.v&&(this.v=null,kh(this),Dh(this),Gl(19))},sc.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Gl(2)):(this.l.info("Failed to ping google.com"),Gl(1))},sc.isActive=function(){return!!this.h&&this.h.isActive(this)},(sc=qh.prototype).Ba=function(){},sc.Aa=function(){},sc.za=function(){},sc.ya=function(){},sc.isActive=function(){return!0},sc.Va=function(){},Kh.prototype.g=function(e,t){return new Gh(e,t)},vc(Gh,pl),Gh.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Gl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zh(e,null,e.Y),Ch(e)},Gh.prototype.close=function(){Ih(this.g)},Gh.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=yl(e),e=n);t.j.push(new qu(t.fb++,e)),3==t.H&&Ch(t)},Gh.prototype.N=function(){this.g.h=null,delete this.j,Ih(this.g),delete this.g,Gh.$.N.call(this)},vc(Wh,tu),vc(Hh,nu),vc(Qh,qh),Qh.prototype.Ba=function(){ml(this.g,"a")},Qh.prototype.Aa=function(e){ml(this.g,new Wh(e))},Qh.prototype.za=function(e){ml(this.g,new Hh)},Qh.prototype.ya=function(){ml(this.g,"b")},vc(Yh,(function(){this.blockSize=-1})),Yh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yh.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Xh(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Xh(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Xh(this,r),i=0;break}}this.h=i,this.i+=t},Yh.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Jh={};function Zh(e){return-128<=e&&128>e?function(e,t){var n=Jh;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new $h([0|e],0>e?-1:0)})):new $h([0|e],0>e?-1:0)}function ed(e){if(isNaN(e)||!isFinite(e))return nd;if(0>e)return ad(ed(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=td;return new $h(t,0)}var td=4294967296,nd=Zh(0),rd=Zh(1),id=Zh(16777216);function sd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function od(e){return-1==e.h}function ad(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new $h(n,~e.h).add(rd)}function cd(e,t){return e.add(ad(t))}function ld(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ud(e,t){this.g=e,this.h=t}function hd(e,t){if(sd(t))throw Error("division by zero");if(sd(e))return new ud(nd,nd);if(od(e))return t=hd(ad(e),t),new ud(ad(t.g),ad(t.h));if(od(t))return t=hd(e,ad(t)),new ud(ad(t.g),t.h);if(30<e.g.length){if(od(e)||od(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rd,r=t;0>=r.X(e);)n=dd(n),r=dd(r);var i=fd(n,1),s=fd(r,1);for(r=fd(r,2),n=fd(n,2);!sd(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=fd(r,1),n=fd(n,1)}return t=cd(e,i.R(t)),new ud(i,t)}for(i=nd;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ed(n)).R(t);od(o)||0<o.X(e);)o=(s=ed(n-=r)).R(t);sd(s)&&(s=rd),i=i.add(s),e=cd(e,o)}return new ud(i,e)}function dd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new $h(n,e.h)}function fd(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new $h(i,e.h)}(sc=$h.prototype).ea=function(){if(od(this))return-ad(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:td+r)*t,t*=td}return e},sc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(sd(this))return"0";if(od(this))return"-"+ad(this).toString(e);for(var t=ed(Math.pow(e,6)),n=this,r="";;){var i=hd(n,t).g,s=((0<(n=cd(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(sd(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},sc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},sc.X=function(e){return od(e=cd(this,e))?-1:sd(e)?0:1},sc.abs=function(){return od(this)?ad(this):this},sc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new $h(n,-2147483648&n[n.length-1]?-1:0)},sc.R=function(e){if(sd(this)||sd(e))return nd;if(od(this))return od(e)?ad(this).R(ad(e)):ad(ad(this).R(e));if(od(e))return ad(this.R(ad(e)));if(0>this.X(id)&&0>e.X(id))return ed(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,ld(n,2*r+2*i),n[2*r+2*i+1]+=s*c,ld(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ld(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ld(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new $h(n,0)},sc.gb=function(e){return hd(this,e).h},sc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new $h(n,this.h&e.h)},sc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new $h(n,this.h|e.h)},sc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new $h(n,this.h^e.h)},Kh.prototype.createWebChannel=Kh.prototype.g,Gh.prototype.send=Gh.prototype.u,Gh.prototype.open=Gh.prototype.m,Gh.prototype.close=Gh.prototype.close,Ql.NO_ERROR=0,Ql.TIMEOUT=8,Ql.HTTP_ERROR=6,Yl.COMPLETE="complete",Jl.EventType=eu,eu.OPEN="a",eu.CLOSE="b",eu.ERROR="c",eu.MESSAGE="d",pl.prototype.listen=pl.prototype.O,uh.prototype.listenOnce=uh.prototype.P,uh.prototype.getLastError=uh.prototype.Sa,uh.prototype.getLastErrorCode=uh.prototype.Ia,uh.prototype.getStatus=uh.prototype.da,uh.prototype.getResponseJson=uh.prototype.Wa,uh.prototype.getResponseText=uh.prototype.ja,uh.prototype.send=uh.prototype.ha,uh.prototype.setWithCredentials=uh.prototype.Oa,Yh.prototype.digest=Yh.prototype.l,Yh.prototype.reset=Yh.prototype.reset,Yh.prototype.update=Yh.prototype.j,$h.prototype.add=$h.prototype.add,$h.prototype.multiply=$h.prototype.R,$h.prototype.modulo=$h.prototype.gb,$h.prototype.compare=$h.prototype.X,$h.prototype.toNumber=$h.prototype.ea,$h.prototype.toString=$h.prototype.toString,$h.prototype.getBits=$h.prototype.D,$h.fromNumber=ed,$h.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ad(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ed(Math.pow(n,8)),i=nd,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=ed(Math.pow(n,o)),i=i.R(o).add(ed(a))):i=(i=i.R(r)).add(ed(a))}return i};var pd=ac.createWebChannelTransport=function(){return new Kh},md=ac.getStatEventTarget=function(){return zl()},gd=ac.ErrorCode=Ql,yd=ac.EventType=Yl,vd=ac.Event=Ul,wd=ac.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bd=(ac.FetchXmlHttpFactory=rh,ac.WebChannel=Jl),_d=ac.XhrIo=uh,Ed=ac.Md5=Yh,Td=ac.Integer=$h;const Sd="@firebase/firestore";class Id{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Id.UNAUTHENTICATED=new Id(null),Id.GOOGLE_CREDENTIALS=new Id("google-credentials-uid"),Id.FIRST_PARTY=new Id("first-party-uid"),Id.MOCK_USER=new Id("mock-user");let kd="10.8.0";const xd=new ji("@firebase/firestore");function Cd(){return xd.logLevel}function Nd(e){if(xd.logLevel<=Mi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rd);xd.debug("Firestore (".concat(kd,"): ").concat(e),...i)}}function Ad(e){if(xd.logLevel<=Mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rd);xd.error("Firestore (".concat(kd,"): ").concat(e),...i)}}function Pd(e){if(xd.logLevel<=Mi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rd);xd.warn("Firestore (".concat(kd,"): ").concat(e),...i)}}function Rd(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Dd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(kd,") INTERNAL ASSERTION FAILED: ")+e;throw Ad(t),new Error(t)}function Od(e,t){e||Dd()}function Md(e,t){return e}const Ld={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fd extends yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Vd{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ud{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class jd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Id.UNAUTHENTICATED)))}shutdown(){}}class zd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Bd{constructor(e){this.t=e,this.currentUser=Id.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vd,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Nd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Nd("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vd)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Nd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Od("string"==typeof t.accessToken),new Ud(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Od(null===e||"string"==typeof e),new Id(e)}}class qd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Id.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kd{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Id.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Nd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Nd("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Nd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Nd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Od("string"==typeof e.token),this.R=e.token,new Gd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Qd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Hd(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Yd(e,t){return e<t?-1:e>t?1:0}function Xd(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function $d(e){return e+"\0"}class Jd{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fd(Ld.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fd(Ld.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fd(Ld.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fd(Ld.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jd.fromMillis(Date.now())}static fromDate(e){return Jd.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Jd(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yd(this.nanoseconds,e.nanoseconds):Yd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zd(e)}static min(){return new Zd(new Jd(0,0))}static max(){return new Zd(new Jd(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ef{constructor(e,t,n){void 0===t?t=0:t>e.length&&Dd(),void 0===n?n=e.length-t:n>e.length-t&&Dd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ef.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ef?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tf extends ef{construct(e,t,n){return new tf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new tf(e)}static emptyPath(){return new tf([])}}const nf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rf extends ef{construct(e,t,n){return new rf(e,t,n)}static isValidIdentifier(e){return nf.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rf.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rf(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fd(Ld.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fd(Ld.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Fd(Ld.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rf(t)}static emptyPath(){return new rf([])}}class sf{constructor(e){this.path=e}static fromPath(e){return new sf(tf.fromString(e))}static fromName(e){return new sf(tf.fromString(e).popFirst(5))}static empty(){return new sf(tf.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sf(new tf(e.slice()))}}class of{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function af(e){return e.fields.find((e=>2===e.kind))}function cf(e){return e.fields.filter((e=>2!==e.kind))}of.UNKNOWN_ID=-1;class lf{constructor(e,t){this.fieldPath=e,this.kind=t}}class uf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uf(0,ff.min())}}function hf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zd.fromTimestamp(1e9===r?new Jd(n+1,0):new Jd(n,r));return new ff(i,sf.empty(),t)}function df(e){return new ff(e.readTime,e.key,-1)}class ff{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ff(Zd.min(),sf.empty(),-1)}static max(){return new ff(Zd.max(),sf.empty(),-1)}}function pf(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=sf.comparator(e.documentKey,t.documentKey),0!==n?n:Yd(e.largestBatchId,t.largestBatchId))}const mf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yf(e){if(e.code!==Ld.FAILED_PRECONDITION||e.message!==mf)throw e;Nd("LocalStore","Unexpectedly lost primary lease")}class vf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vf(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof vf?t:vf.resolve(t)}catch(e){return vf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):vf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):vf.reject(t)}static resolve(e){return new vf(((t,n)=>{t(e)}))}static reject(e){return new vf(((t,n)=>{n(e)}))}static waitFor(e){return new vf(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=vf.resolve(!1);for(const n of e)t=t.next((e=>e?vf.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new vf(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new vf(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class wf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Vd,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ef(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=xf(t.target.error);this.V.reject(new Ef(e,n))}}static open(e,t,n,r){try{return new wf(t,e.transaction(r,n))}catch(e){throw new Ef(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Nd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Sf(t)}}class bf{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===bf.S(pi())&&Ad("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Nd("SimpleDb","Removing database:",e),If(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gi())return!1;if(bf.C())return!0;const e=pi(),t=bf.S(e),n=0<t&&t<10,r=bf.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Nd("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Fd(Ld.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Fd(Ld.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ef(e,r))},r.onupgradeneeded=e=>{Nd("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Nd("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=wf.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),vf.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Nd("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class _f{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return If(this.k.delete())}}class Ef extends Fd{constructor(e,t){super(Ld.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Tf(e){return"IndexedDbTransactionError"===e.name}class Sf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Nd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Nd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),If(n)}add(e){return Nd("SimpleDb","ADD",this.store.name,e,e),If(this.store.add(e))}get(e){return If(this.store.get(e)).next((t=>(void 0===t&&(t=null),Nd("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Nd("SimpleDb","DELETE",this.store.name,e),If(this.store.delete(e))}count(){return Nd("SimpleDb","COUNT",this.store.name),If(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new vf(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new vf(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Nd("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new vf(((n,r)=>{t.onerror=e=>{const t=xf(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new vf(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new _f(i),o=t(i.primaryKey,i.value,s);if(o instanceof vf){const e=o.catch((e=>(s.done(),vf.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>vf.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function If(e){return new vf(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=xf(e.target.error);n(t)}}))}let kf=!1;function xf(e){const t=bf.S(pi());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Fd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return kf||(kf=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Cf{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Nd("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Nd("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Tf(e)?Nd("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await yf(e)}await this.ee(6e4)}))}}class Nf{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return vf.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Nd("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Nd("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=df(t);pf(r,n)>0&&(n=r)})),new ff(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Pf(e){return null==e}function Rf(e){return 0===e&&1/e==-1/0}function Df(e){return"number"==typeof e&&Number.isInteger(e)&&!Rf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Of(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Lf(t)),t=Mf(e.get(n),t);return Lf(t)}function Mf(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Lf(e){return e+"\x01\x01"}function Ff(e){const t=e.length;if(Od(t>=2),2===t)return Od("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),tf.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Dd(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Dd()}s=t+2}return new tf(r)}Af._e=-1;const Vf=["userId","batchId"];function Uf(e,t){return[e,Of(t)]}function jf(e,t,n){return[e,Of(t),n]}const zf={},Bf=["prefixPath","collectionGroup","readTime","documentId"],qf=["prefixPath","collectionGroup","documentId"],Kf=["collectionGroup","readTime","prefixPath","documentId"],Gf=["canonicalId","targetId"],Wf=["targetId","path"],Hf=["path","targetId"],Qf=["collectionId","parent"],Yf=["indexId","uid"],Xf=["uid","sequenceNumber"],$f=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jf=["indexId","uid","orderedDocumentKey"],Zf=["userId","collectionPath","documentId"],ep=["userId","collectionPath","largestBatchId"],tp=["userId","collectionGroup","largestBatchId"],np=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rp=[...np,"documentOverlays"],ip=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sp=ip,op=[...sp,"indexConfiguration","indexState","indexEntries"];class ap extends gf{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function cp(e,t){const n=Md(e);return bf.M(n.ae,t)}function lp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function up(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class dp{constructor(e,t){this.comparator=e,this.root=t||pp.EMPTY}insert(e,t){return new dp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pp.BLACK,null,null))}remove(e){return new dp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:pp.RED,this.left=null!=r?r:pp.EMPTY,this.right=null!=i?i:pp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new pp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dd();if(this.right.isRed())throw Dd();const e=this.left.check();if(e!==this.right.check())throw Dd();return e+(this.isRed()?0:1)}}pp.EMPTY=null,pp.RED=!0,pp.BLACK=!1,pp.EMPTY=new class{constructor(){this.size=0}get key(){throw Dd()}get value(){throw Dd()}get color(){throw Dd()}get left(){throw Dd()}get right(){throw Dd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new pp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mp{constructor(e){this.comparator=e,this.data=new dp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gp(this.data.getIterator())}getIteratorFrom(e){return new gp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof mp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new mp(this.comparator);return t.data=e,t}}class gp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yp(e){return e.hasNext()?e.getNext():void 0}class vp{constructor(e){this.fields=e,e.sort(rf.comparator)}static empty(){return new vp([])}unionWith(e){let t=new mp(rf.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xd(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class wp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bp{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new wp("Invalid base64 string: "+e):e}}(e);return new bp(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new bp(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bp.EMPTY_BYTE_STRING=new bp("");const _p=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ep(e){if(Od(!!e),"string"==typeof e){let t=0;const n=_p.exec(e);if(Od(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Tp(e.seconds),nanos:Tp(e.nanos)}}function Tp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sp(e){return"string"==typeof e?bp.fromBase64String(e):bp.fromUint8Array(e)}function Ip(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kp(e){const t=e.mapValue.fields.__previous_value__;return Ip(t)?kp(t):t}function xp(e){const t=Ep(e.mapValue.fields.__local_write_time__.timestampValue);return new Jd(t.seconds,t.nanos)}class Cp{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class Np{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Np("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Np&&e.projectId===this.projectId&&e.database===this.database}}const Ap={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pp={nullValue:"NULL_VALUE"};function Rp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ip(e)?4:Wp(e)?9007199254740991:10:Dd()}function Dp(e,t){if(e===t)return!0;const n=Rp(e);if(n!==Rp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xp(e).isEqual(xp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ep(e.timestampValue),r=Ep(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sp(e.bytesValue).isEqual(Sp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tp(e.geoPointValue.latitude)===Tp(t.geoPointValue.latitude)&&Tp(e.geoPointValue.longitude)===Tp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tp(e.integerValue)===Tp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Tp(e.doubleValue),r=Tp(t.doubleValue);return n===r?Rf(n)===Rf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xd(e.arrayValue.values||[],t.arrayValue.values||[],Dp);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lp(n)!==lp(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dp(n[i],r[i])))return!1;return!0}(e,t);default:return Dd()}}function Op(e,t){return void 0!==(e.values||[]).find((e=>Dp(e,t)))}function Mp(e,t){if(e===t)return 0;const n=Rp(e),r=Rp(t);if(n!==r)return Yd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Tp(e.integerValue||e.doubleValue),r=Tp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lp(e.timestampValue,t.timestampValue);case 4:return Lp(xp(e),xp(t));case 5:return Yd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Sp(e),r=Sp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Yd(n[i],r[i]);if(0!==e)return e}return Yd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Yd(Tp(e.latitude),Tp(t.latitude));return 0!==n?n:Yd(Tp(e.longitude),Tp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Mp(n[i],r[i]);if(e)return e}return Yd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ap.mapValue&&t===Ap.mapValue)return 0;if(e===Ap.mapValue)return 1;if(t===Ap.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Yd(r[o],s[o]);if(0!==e)return e;const t=Mp(n[r[o]],i[s[o]]);if(0!==t)return t}return Yd(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Dd()}}function Lp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yd(e,t);const n=Ep(e),r=Ep(t),i=Yd(n.seconds,r.seconds);return 0!==i?i:Yd(n.nanos,r.nanos)}function Fp(e){return Vp(e)}function Vp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ep(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Sp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return sf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Vp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Vp(e.fields[i]));return n+"}"}(e.mapValue):Dd()}function Up(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jp(e){return!!e&&"integerValue"in e}function zp(e){return!!e&&"arrayValue"in e}function Bp(e){return!!e&&"nullValue"in e}function qp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kp(e){return!!e&&"mapValue"in e}function Gp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return up(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Gp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Wp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hp(e){return"nullValue"in e?Pp:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Up(Np.empty(),sf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Dd()}function Qp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Up(Np.empty(),sf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ap:Dd()}function Yp(e,t){const n=Mp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Xp(e,t){const n=Mp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class $p{constructor(e){this.value=e}static empty(){return new $p({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Kp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gp(t)}setAll(e){let t=rf.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Gp(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Kp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Kp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){up(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new $p(Gp(this.value))}}function Jp(e){const t=[];return up(e.fields,((e,n)=>{const r=new rf([e]);if(Kp(n)){const e=Jp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new vp(t)}class Zp{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Zp(e,0,Zd.min(),Zd.min(),Zd.min(),$p.empty(),0)}static newFoundDocument(e,t,n,r){return new Zp(e,1,t,Zd.min(),n,r,0)}static newNoDocument(e,t){return new Zp(e,2,t,Zd.min(),Zd.min(),$p.empty(),0)}static newUnknownDocument(e,t){return new Zp(e,3,t,Zd.min(),Zd.min(),$p.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$p.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$p.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class em{constructor(e,t){this.position=e,this.inclusive=t}}function tm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?sf.comparator(sf.fromName(o.referenceValue),n.key):Mp(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dp(e.position[n],t.position[n]))return!1;return!0}class rm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function im(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sm{}class om extends sm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new gm(e,t,n):"array-contains"===t?new bm(e,n):"in"===t?new _m(e,n):"not-in"===t?new Em(e,n):"array-contains-any"===t?new Tm(e,n):new om(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ym(e,n):new vm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Mp(t,this.value)):null!==t&&Rp(this.value)===Rp(t)&&this.matchesComparison(Mp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class am extends sm{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new am(e,t)}matches(e){return cm(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function cm(e){return"and"===e.op}function lm(e){return"or"===e.op}function um(e){return hm(e)&&cm(e)}function hm(e){for(const t of e.filters)if(t instanceof am)return!1;return!0}function dm(e){if(e instanceof om)return e.field.canonicalString()+e.op.toString()+Fp(e.value);if(um(e))return e.filters.map((e=>dm(e))).join(",");{const t=e.filters.map((e=>dm(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function fm(e,t){return e instanceof om?function(e,t){return t instanceof om&&e.op===t.op&&e.field.isEqual(t.field)&&Dp(e.value,t.value)}(e,t):e instanceof am?function(e,t){return t instanceof am&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&fm(n,t.filters[r])),!0)}(e,t):void Dd()}function pm(e,t){const n=e.filters.concat(t);return am.create(n,e.op)}function mm(e){return e instanceof om?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fp(e.value))}(e):e instanceof am?function(e){return e.op.toString()+" {"+e.getFilters().map(mm).join(" ,")+"}"}(e):"Filter"}class gm extends om{constructor(e,t,n){super(e,t,n),this.key=sf.fromName(n.referenceValue)}matches(e){const t=sf.comparator(e.key,this.key);return this.matchesComparison(t)}}class ym extends om{constructor(e,t){super(e,"in",t),this.keys=wm("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vm extends om{constructor(e,t){super(e,"not-in",t),this.keys=wm("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>sf.fromName(e.referenceValue)))}class bm extends om{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zp(t)&&Op(t.arrayValue,this.value)}}class _m extends om{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Op(this.value.arrayValue,t)}}class Em extends om{constructor(e,t){super(e,"not-in",t)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Op(this.value.arrayValue,t)}}class Tm extends om{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Op(this.value.arrayValue,e)))}}class Sm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Im(e){return new Sm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function km(e){const t=Md(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>dm(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Pf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Fp(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Fp(e))).join(",")),t.ce=e}return t.ce}function xm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!im(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nm(e.startAt,t.startAt)&&nm(e.endAt,t.endAt)}function Cm(e){return sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Nm(e,t){return e.filters.filter((e=>e instanceof om&&e.field.isEqual(t)))}function Am(e,t,n){let r=Pp,i=!0;for(const s of Nm(e,t)){let e=Pp,t=!0;switch(s.op){case"<":case"<=":e=Hp(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Pp}Yp({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Yp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Pm(e,t,n){let r=Ap,i=!0;for(const s of Nm(e,t)){let e=Ap,t=!0;switch(s.op){case">=":case">":e=Qp(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Ap}Xp({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Xp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Rm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Dm(e,t,n,r,i,s,o,a){return new Rm(e,t,n,r,i,s,o,a)}function Om(e){return new Rm(e)}function Mm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lm(e){return null!==e.collectionGroup}function Fm(e){const t=Md(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new mp(rf.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new rm(r,n))})),e.has(rf.keyField().canonicalString())||t.le.push(new rm(rf.keyField(),n))}return t.le}function Vm(e){const t=Md(e);return t.he||(t.he=Um(t,Fm(e))),t.he}function Um(e,t){if("F"===e.limitType)return Im(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new rm(e.field,t)}));const n=e.endAt?new em(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new em(e.startAt.position,e.startAt.inclusive):null;return Im(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function jm(e,t){const n=e.filters.concat([t]);return new Rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zm(e,t,n){return new Rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bm(e,t){return xm(Vm(e),Vm(t))&&e.limitType===t.limitType}function qm(e){return"".concat(km(Vm(e)),"|lt:").concat(e.limitType)}function Km(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>mm(e))).join(", "),"]")),Pf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Fp(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Fp(e))).join(",")),"Target(".concat(t,")")}(Vm(e)),"; limitType=").concat(e.limitType,")")}function Gm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=tm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fm(e),t))&&!(e.endAt&&!function(e,t,n){const r=tm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fm(e),t))}(e,t)}function Wm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hm(e){return(t,n)=>{let r=!1;for(const i of Fm(e)){const e=Qm(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qm(e,t,n){const r=e.field.isKeyField()?sf.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mp(r,i):Dd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dd()}}class Ym{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){up(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return hp(this.inner)}size(){return this.innerSize}}const Xm=new dp(sf.comparator);function $m(){return Xm}const Jm=new dp(sf.comparator);function Zm(){let e=Jm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function eg(e){let t=Jm;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function tg(){return rg()}function ng(){return rg()}function rg(){return new Ym((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ig=new dp(sf.comparator),sg=new mp(sf.comparator);function og(){let e=sg;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ag=new mp(Yd);function cg(){return ag}function lg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(t)?"-0":t}}function ug(e){return{integerValue:""+e}}function hg(e,t){return Df(t)?ug(t):lg(e,t)}class dg{constructor(){this._=void 0}}function fg(e,t,n){return e instanceof gg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ip(t)&&(t=kp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yg?vg(e,t):e instanceof wg?bg(e,t):function(e,t){const n=mg(e,t),r=Eg(n)+Eg(e.Ie);return jp(n)&&jp(e.Ie)?ug(r):lg(e.serializer,r)}(e,t)}function pg(e,t,n){return e instanceof yg?vg(e,t):e instanceof wg?bg(e,t):n}function mg(e,t){return e instanceof _g?function(e){return jp(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class gg extends dg{}class yg extends dg{constructor(e){super(),this.elements=e}}function vg(e,t){const n=Tg(t);for(const r of e.elements)n.some((e=>Dp(e,r)))||n.push(r);return{arrayValue:{values:n}}}class wg extends dg{constructor(e){super(),this.elements=e}}function bg(e,t){let n=Tg(t);for(const r of e.elements)n=n.filter((e=>!Dp(e,r)));return{arrayValue:{values:n}}}class _g extends dg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Eg(e){return Tp(e.integerValue||e.doubleValue)}function Tg(e){return zp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sg{constructor(e,t){this.field=e,this.transform=t}}class Ig{constructor(e,t){this.version=e,this.transformResults=t}}class kg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kg}static exists(e){return new kg(void 0,e)}static updateTime(e){return new kg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Cg{}function Ng(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ug(e.key,kg.none()):new Og(e.key,e.data,kg.none());{const n=e.data,r=$p.empty();let i=new mp(rf.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Mg(e.key,r,new vp(i.toArray()),kg.none())}}function Ag(e,t,n){e instanceof Og?function(e,t,n){const r=e.value.clone(),i=Fg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mg?function(e,t,n){if(!xg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Pg(e,t,n,r){return e instanceof Og?function(e,t,n,r){if(!xg(e.precondition,t))return n;const i=e.value.clone(),s=Vg(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mg?function(e,t,n,r){if(!xg(e.precondition,t))return n;const i=Vg(e.fieldTransforms,r,t),s=t.data;return s.setAll(Lg(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return xg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Rg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=mg(r.transform,e||null);null!=i&&(null===n&&(n=$p.empty()),n.set(r.field,i))}return n||null}function Dg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xd(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yg&&t instanceof yg||e instanceof wg&&t instanceof wg?Xd(e.elements,t.elements,Dp):e instanceof _g&&t instanceof _g?Dp(e.Ie,t.Ie):e instanceof gg&&t instanceof gg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Og extends Cg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mg extends Cg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Lg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Fg(e,t,n){const r=new Map;Od(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,pg(o,a,n[i]))}return r}function Vg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,fg(e,s,t))}return r}class Ug extends Cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jg extends Cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ag(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Pg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Pg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ng();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Ng(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Zd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),og())}isEqual(e){return this.batchId===e.batchId&&Xd(this.mutations,e.mutations,((e,t)=>Dg(e,t)))&&Xd(this.baseMutations,e.baseMutations,((e,t)=>Dg(e,t)))}}class Bg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Od(e.mutations.length===n.length);let r=ig;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Bg(e,t,n,r)}}class qg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Kg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gg,Wg;function Hg(e){switch(e){default:return Dd();case Ld.CANCELLED:case Ld.UNKNOWN:case Ld.DEADLINE_EXCEEDED:case Ld.RESOURCE_EXHAUSTED:case Ld.INTERNAL:case Ld.UNAVAILABLE:case Ld.UNAUTHENTICATED:return!1;case Ld.INVALID_ARGUMENT:case Ld.NOT_FOUND:case Ld.ALREADY_EXISTS:case Ld.PERMISSION_DENIED:case Ld.FAILED_PRECONDITION:case Ld.ABORTED:case Ld.OUT_OF_RANGE:case Ld.UNIMPLEMENTED:case Ld.DATA_LOSS:return!0}}function Qg(e){if(void 0===e)return Ad("GRPC error has no .code"),Ld.UNKNOWN;switch(e){case Gg.OK:return Ld.OK;case Gg.CANCELLED:return Ld.CANCELLED;case Gg.UNKNOWN:return Ld.UNKNOWN;case Gg.DEADLINE_EXCEEDED:return Ld.DEADLINE_EXCEEDED;case Gg.RESOURCE_EXHAUSTED:return Ld.RESOURCE_EXHAUSTED;case Gg.INTERNAL:return Ld.INTERNAL;case Gg.UNAVAILABLE:return Ld.UNAVAILABLE;case Gg.UNAUTHENTICATED:return Ld.UNAUTHENTICATED;case Gg.INVALID_ARGUMENT:return Ld.INVALID_ARGUMENT;case Gg.NOT_FOUND:return Ld.NOT_FOUND;case Gg.ALREADY_EXISTS:return Ld.ALREADY_EXISTS;case Gg.PERMISSION_DENIED:return Ld.PERMISSION_DENIED;case Gg.FAILED_PRECONDITION:return Ld.FAILED_PRECONDITION;case Gg.ABORTED:return Ld.ABORTED;case Gg.OUT_OF_RANGE:return Ld.OUT_OF_RANGE;case Gg.UNIMPLEMENTED:return Ld.UNIMPLEMENTED;case Gg.DATA_LOSS:return Ld.DATA_LOSS;default:return Dd()}}(Wg=Gg||(Gg={}))[Wg.OK=0]="OK",Wg[Wg.CANCELLED=1]="CANCELLED",Wg[Wg.UNKNOWN=2]="UNKNOWN",Wg[Wg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wg[Wg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wg[Wg.NOT_FOUND=5]="NOT_FOUND",Wg[Wg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wg[Wg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wg[Wg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wg[Wg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wg[Wg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wg[Wg.ABORTED=10]="ABORTED",Wg[Wg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wg[Wg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wg[Wg.INTERNAL=13]="INTERNAL",Wg[Wg.UNAVAILABLE=14]="UNAVAILABLE",Wg[Wg.DATA_LOSS=15]="DATA_LOSS";let Yg=null;function Xg(){return new TextEncoder}const $g=new Td([4294967295,4294967295],0);function Jg(e){const t=Xg().encode(e),n=new Ed;return n.update(t),new Uint8Array(n.digest())}function Zg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Td([n,r],0),new Td([i,s],0)]}class ey{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ty("Invalid padding: ".concat(t));if(n<0)throw new ty("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ty("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ty("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Td.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Td.fromNumber(n)));return 1===r.compare($g)&&(r=new Td([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Jg(e),[n,r]=Zg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ey(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Jg(e),[n,r]=Zg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ty extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ny{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ry.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ny(Zd.min(),r,new dp(Yd),$m(),og())}}class ry{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ry(n,t,og(),og(),og())}}class iy{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class sy{constructor(e,t){this.targetId=e,this.fe=t}}class oy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bp.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ay{constructor(){this.ge=0,this.pe=uy(),this.ye=bp.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=og(),t=og(),n=og();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dd()}})),new ry(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=uy()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Od(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class cy{constructor(e){this.Le=e,this.ke=new Map,this.qe=$m(),this.Qe=ly(),this.Ke=new dp(Yd)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Dd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Cm(i))if(0===n){const e=new sf(i.path);this.We(t,e,Zp.newNoDocument(e,Zd.min()))}else Od(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Yg||Yg.tt(function(e,t,n,r,i){var s,o,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Sp(n).toUint8Array()}catch(e){if(e instanceof wp)return Pd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ey(s,r,i)}catch(e){return Pd(e instanceof ty?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Cm(i.target)){const t=new sf(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Zp.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=og();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new ny(e,t,this.Ke,this.qe,n);return this.qe=$m(),this.Qe=ly(),this.Ke=new dp(Yd),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ay,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new mp(Yd),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Nd("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ay),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ly(){return new dp(sf.comparator)}function uy(){return new dp(sf.comparator)}const hy={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fy={and:"AND",or:"OR"};class py{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function my(e,t){return e.useProto3Json||Pf(t)?t:{value:t}}function gy(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vy(e,t){return gy(e,t.toTimestamp())}function wy(e){return Od(!!e),Zd.fromTimestamp(function(e){const t=Ep(e);return new Jd(t.seconds,t.nanos)}(e))}function by(e,t){return _y(e,t).canonicalString()}function _y(e,t){const n=function(e){return new tf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ey(e){const t=tf.fromString(e);return Od(Ky(t)),t}function Ty(e,t){return by(e.databaseId,t.path)}function Sy(e,t){const n=Ey(t);if(n.get(1)!==e.databaseId.projectId)throw new Fd(Ld.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fd(Ld.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sf(Cy(n))}function Iy(e,t){return by(e.databaseId,t)}function ky(e){const t=Ey(e);return 4===t.length?tf.emptyPath():Cy(t)}function xy(e){return new tf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cy(e){return Od(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ny(e,t,n){return{name:Ty(e,t),fields:n.value.mapValue.fields}}function Ay(e,t,n){const r=Sy(e,t.name),i=wy(t.updateTime),s=t.createTime?wy(t.createTime):Zd.min(),o=new $p({mapValue:{fields:t.fields}}),a=Zp.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Py(e,t){let n;if(t instanceof Og)n={update:Ny(e,t.key,t.value)};else if(t instanceof Ug)n={delete:Ty(e,t.key)};else if(t instanceof Mg)n={update:Ny(e,t.key,t.data),updateMask:qy(t.fieldMask)};else{if(!(t instanceof jg))return Dd();n={verify:Ty(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof gg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _g)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Dd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dd()}(e,t.precondition)),n}function Ry(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?kg.updateTime(wy(e.updateTime)):void 0!==e.exists?kg.exists(e.exists):kg.none()}(t.currentDocument):kg.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Od("REQUEST_TIME"===t.setToServerValue),n=new gg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new yg(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new wg(e)}else"increment"in t?n=new _g(e,t.increment):Dd();const r=rf.fromServerFormat(t.fieldPath);return new Sg(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Sy(e,t.update.name),s=new $p({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new vp(t.map((e=>rf.fromServerFormat(e))))}(t.updateMask);return new Mg(i,s,e,n,r)}return new Og(i,s,n,r)}if(t.delete){const r=Sy(e,t.delete);return new Ug(r,n)}if(t.verify){const r=Sy(e,t.verify);return new jg(r,n)}return Dd()}function Dy(e,t){return{documents:[Iy(e,t.path)]}}function Oy(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Iy(e,i);const s=function(e){if(0!==e.length)return By(am.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:jy(e.field),direction:Fy(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=my(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function My(e){let t=ky(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Od(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ly(e);return t instanceof am&&um(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new rm(zy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Pf(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new em(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new em(n,t)}(n.endAt)),Dm(t,i,o,s,a,"F",c,l)}function Ly(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zy(e.unaryFilter.field);return om.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=zy(e.unaryFilter.field);return om.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zy(e.unaryFilter.field);return om.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zy(e.unaryFilter.field);return om.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dd()}}(e):void 0!==e.fieldFilter?function(e){return om.create(zy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return am.create(e.compositeFilter.filters.map((e=>Ly(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Dd()}}(e.compositeFilter.op))}(e):Dd()}function Fy(e){return hy[e]}function Vy(e){return dy[e]}function Uy(e){return fy[e]}function jy(e){return{fieldPath:e.canonicalString()}}function zy(e){return rf.fromServerFormat(e.fieldPath)}function By(e){return e instanceof om?function(e){if("=="===e.op){if(qp(e.value))return{unaryFilter:{field:jy(e.field),op:"IS_NAN"}};if(Bp(e.value))return{unaryFilter:{field:jy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qp(e.value))return{unaryFilter:{field:jy(e.field),op:"IS_NOT_NAN"}};if(Bp(e.value))return{unaryFilter:{field:jy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jy(e.field),op:Vy(e.op),value:e.value}}}(e):e instanceof am?function(e){const t=e.getFilters().map((e=>By(e)));return 1===t.length?t[0]:{compositeFilter:{op:Uy(e.op),filters:t}}}(e):Dd()}function qy(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ky(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zd.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zd.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bp.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Gy(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gy(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wy{constructor(e){this.ct=e}}function Hy(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ty(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gy(e,t.version.toTimestamp()),createTime:gy(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Yy(t.version)};else{if(!t.isUnknownDocument())return Dd();r.unknownDocument={path:n.path.toArray(),version:Yy(t.version)}}return r}function Qy(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Yy(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Xy(e){const t=new Jd(e.seconds,e.nanoseconds);return Zd.fromTimestamp(t)}function $y(e,t){const n=(t.baseMutations||[]).map((t=>Ry(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Ry(e.ct,t))),i=Jd.fromMillis(t.localWriteTimeMs);return new zg(t.batchId,i,n,r)}function Jy(e){const t=Xy(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Xy(e.lastLimboFreeSnapshotVersion):Zd.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Od(1===e.documents.length),Vm(Om(ky(e.documents[0])))}(e.query):function(e){return Vm(My(e))}(e.query),new Gy(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,bp.fromBase64String(e.resumeToken))}function Zy(e,t){const n=Yy(t.snapshotVersion),r=Yy(t.lastLimboFreeSnapshotVersion);let i;i=Cm(t.target)?Dy(e.ct,t.target):Oy(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:km(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ev(e){const t=My({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zm(t,t.limit,"L"):t}function tv(e,t){return new qg(t.largestBatchId,Ry(e.ct,t.overlayMutation))}function nv(e,t){const n=t.path.lastSegment();return[e,Of(t.path.popLast()),n]}function rv(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Yy(r.readTime),documentKey:Of(r.documentKey.path),largestBatchId:r.largestBatchId}}class iv{getBundleMetadata(e,t){return sv(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Xy(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return sv(e).put(function(e){return{bundleId:e.id,createTime:Yy(wy(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return ov(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:ev(e.bundledQuery),readTime:Xy(e.readTime)}}(e)}))}saveNamedQuery(e,t){return ov(e).put(function(e){return{name:e.name,readTime:Yy(wy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function sv(e){return cp(e,"bundles")}function ov(e){return cp(e,"namedQueries")}class av{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new av(e,n)}getOverlay(e,t){return cv(e).get(nv(this.userId,t)).next((e=>e?tv(this.serializer,e):null))}getOverlays(e,t){const n=tg();return vf.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new qg(t,i);r.push(this.ht(e,s))})),vf.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Of(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(cv(e).H("collectionPathOverlayIndex",r))})),vf.waitFor(i)}getOverlaysForCollection(e,t,n){const r=tg(),i=Of(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return cv(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=tv(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=tg();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cv(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=tv(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return cv(e).put(function(e,t,n){const[r,i,s]=nv(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Py(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function cv(e){return cp(e,"documentOverlays")}class lv{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Tp(e.integerValue));else if("doubleValue"in e){const n=Tp(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Rf(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Sp(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Wp(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Dd()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),sf.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function uv(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function hv(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=uv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}lv.bt=new lv;class dv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=hv(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=hv(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class fv{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class pv{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class mv{constructor(){this.Gt=new dv,this.zt=new fv(this.Gt),this.jt=new pv(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class gv{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new gv(this.indexId,this.documentKey,this.arrayValue,n)}}function yv(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=vv(e.arrayValue,t.arrayValue),0!==n?n:(n=vv(e.directionalValue,t.directionalValue),0!==n?n:sf.comparator(e.documentKey,t.documentKey)))}function vv(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class wv{constructor(e){this.Yt=new mp(((e,t)=>rf.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Od(e.collectionGroup===this.collectionId),this.en)return!1;const t=af(e);if(void 0!==t&&!this.nn(t))return!1;const n=cf(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new mp(rf.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new lf(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new lf(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new lf(n.field,"asc"===n.dir?0:1)));return new of(of.UNKNOWN_ID,this.collectionId,t,uf.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function bv(e){var t,n;if(Od(e instanceof om||e instanceof am),e instanceof om){if(e instanceof _m){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>om.create(e.field,"==",t))))||[];return am.create(r,"or")}return e}const r=e.filters.map((e=>bv(e)));return am.create(r,e.op)}function _v(e){if(0===e.getFilters().length)return[];const t=Iv(bv(e));return Od(Sv(t)),Ev(t)||Tv(t)?[t]:t.getFilters()}function Ev(e){return e instanceof om}function Tv(e){return e instanceof am&&um(e)}function Sv(e){return Ev(e)||Tv(e)||function(e){if(e instanceof am&&lm(e)){for(const t of e.getFilters())if(!Ev(t)&&!Tv(t))return!1;return!0}return!1}(e)}function Iv(e){if(Od(e instanceof om||e instanceof am),e instanceof om)return e;if(1===e.filters.length)return Iv(e.filters[0]);const t=e.filters.map((e=>Iv(e)));let n=am.create(t,e.op);return n=Cv(n),Sv(n)?n:(Od(n instanceof am),Od(cm(n)),Od(n.filters.length>1),n.filters.reduce(((e,t)=>kv(e,t))))}function kv(e,t){let n;return Od(e instanceof om||e instanceof am),Od(t instanceof om||t instanceof am),n=e instanceof om?t instanceof om?function(e,t){return am.create([e,t],"and")}(e,t):xv(e,t):t instanceof om?xv(t,e):function(e,t){if(Od(e.filters.length>0&&t.filters.length>0),cm(e)&&cm(t))return pm(e,t.getFilters());const n=lm(e)?e:t,r=lm(e)?t:e,i=n.filters.map((e=>kv(e,r)));return am.create(i,"or")}(e,t),Cv(n)}function xv(e,t){if(cm(t))return pm(t,e.getFilters());{const n=t.filters.map((t=>kv(e,t)));return am.create(n,"or")}}function Cv(e){if(Od(e instanceof om||e instanceof am),e instanceof om)return e;const t=e.getFilters();if(1===t.length)return Cv(t[0]);if(hm(e))return e;const n=t.map((e=>Cv(e))),r=[];return n.forEach((t=>{t instanceof om?r.push(t):t instanceof am&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:am.create(r,e.op)}class Nv{constructor(){this._n=new Av}addToCollectionParentIndex(e,t){return this._n.add(t),vf.resolve()}getCollectionParents(e,t){return vf.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return vf.resolve()}deleteFieldIndex(e,t){return vf.resolve()}deleteAllFieldIndexes(e){return vf.resolve()}createTargetIndexes(e,t){return vf.resolve()}getDocumentsMatchingTarget(e,t){return vf.resolve(null)}getIndexType(e,t){return vf.resolve(0)}getFieldIndexes(e,t){return vf.resolve([])}getNextCollectionGroupToUpdate(e){return vf.resolve(null)}getMinOffset(e,t){return vf.resolve(ff.min())}getMinOffsetFromCollectionGroup(e,t){return vf.resolve(ff.min())}updateCollectionGroup(e,t,n){return vf.resolve()}updateIndexEntries(e,t){return vf.resolve()}}class Av{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mp(tf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new mp(tf.comparator)).toArray()}}const Pv=new Uint8Array(0);class Rv{constructor(e,t){this.databaseId=t,this.an=new Av,this.un=new Ym((e=>km(e)),((e,t)=>xm(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Of(r)};return Dv(e).put(i)}return vf.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[$d(t),""],!1,!0);return Dv(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ff(r.parent))}return n}))}addFieldIndex(e,t){const n=Mv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Lv(e);return i.next((e=>{n.put(rv(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Mv(e),r=Lv(e),i=Ov(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Mv(e),n=Ov(e),r=Lv(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return vf.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new wv(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Ov(e);let r=!0;const i=new Map;return vf.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=og();const r=[];return vf.forEach(i,((i,s)=>{Nd("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(km(t)));const o=function(e,t){const n=af(t);if(void 0===n)return null;for(const r of Nm(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of cf(t))for(const t of Nm(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of cf(t)){const t=0===i.kind?Am(e,i.fieldPath,e.startAt):Pm(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new em(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of cf(t)){const t=0===i.kind?Pm(e,i.fieldPath,e.endAt):Am(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new em(n,r)}(s,i),u=this.hn(i,s,c),h=this.hn(i,s,l),d=this.Pn(i,s,a),f=this.In(i.indexId,o,u,c.inclusive,h,l.inclusive,d);return vf.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=sf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return vf.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:_v(am.create(e.filters,"and")).map((t=>Im(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/c]):Pv,h=this.En(e,a,n[u%c],r),d=this.dn(e,a,i[u%c],s),f=o.map((t=>this.En(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}En(e,t,n,r){const i=new gv(e,sf.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new gv(e,sf.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new wv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return vf.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new mp(rf.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new mv;for(const r of cf(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);lv.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new mv;return lv.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new mv;return lv.bt.Pt(Up(this.databaseId,t),n.Ht(function(e){const t=cf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new mv);let i=0;for(const s of cf(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&zp(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);lv.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new mv;n.seed(e.Wt()),lv.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof om&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Mv(e),r=Lv(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return vf.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new uf(t.sequenceNumber,new ff(Xy(t.readTime),new sf(Ff(t.documentKey)),t.largestBatchId)):uf.empty(),r=e.fields.map((e=>{let[t,n]=e;return new lf(rf.fromServerFormat(t),n)}));return new of(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Yd(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Mv(e),i=Lv(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>vf.forEach(t,(t=>i.put(rv(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return vf.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?vf.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),vf.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?vf.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Ov(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Ov(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Ov(e);let i=new mp(yv);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new gv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new mp(yv);const r=this.An(t,e);if(null==r)return n;const i=af(t);if(null!=i){const s=e.data.field(i.fieldPath);if(zp(s))for(const i of s.arrayValue.values||[])n=n.add(new gv(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new gv(t.indexId,e.key,Pv,r));return n}wn(e,t,n,r,i){Nd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=yp(s),c=yp(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=yp(o)):t?(i(a),a=yp(s)):(a=yp(s),c=yp(o))}}(r,i,yv,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),vf.waitFor(s)}gn(e){let t=1;return Lv(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>yv(e,t))).filter(((e,t,n)=>!t||0!==yv(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=yv(s,e),i=yv(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Pv,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Pv,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return yv(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Fv)}getMinOffset(e,t){return vf.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Dd())))).next(Fv)}}function Dv(e){return cp(e,"collectionParents")}function Ov(e){return cp(e,"indexEntries")}function Mv(e){return cp(e,"indexConfiguration")}function Lv(e){return cp(e,"indexState")}function Fv(e){Od(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;pf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ff(t.readTime,t.documentKey,n)}const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Uv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Uv(e,Uv.DEFAULT_COLLECTION_PERCENTILE,Uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jv(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{Od(1===a)})));const l=[];for(const u of n.mutations){const e=jf(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return vf.waitFor(s).next((()=>l))}function zv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Dd();t=e.noDocument}return JSON.stringify(t).length}Uv.DEFAULT_COLLECTION_PERCENTILE=10,Uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uv.DEFAULT=new Uv(41943040,Uv.DEFAULT_COLLECTION_PERCENTILE,Uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uv.DISABLED=new Uv(-1,0,0);class Bv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Od(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Bv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kv(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Gv(e),s=Kv(e);return s.add({}).next((o=>{Od("number"==typeof o);const a=new zg(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Py(e.ct,t))),i=n.mutations.map((t=>Py(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new mp(((e,t)=>Yd(e.canonicalString(),t.canonicalString())));for(const e of r){const t=jf(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,zf))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),vf.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return Kv(e).get(t).next((e=>e?(Od(e.userId===this.userId),$y(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?vf.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Kv(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Od(t.batchId>=n),i=$y(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Kv(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kv(e).W("userMutationsIndex",t).next((e=>e.map((e=>$y(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Uf(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Gv(e).Y({range:r},((n,r,s)=>{const[o,a,c]=n,l=Ff(a);if(o===this.userId&&t.path.isEqual(l))return Kv(e).get(c).next((e=>{if(!e)throw Dd();Od(e.userId===this.userId),i.push($y(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mp(Yd);const r=[];return t.forEach((t=>{const i=Uf(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Gv(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,c=Ff(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),vf.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Uf(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new mp(Yd);return Gv(e).Y({range:s},((e,t,i)=>{const[s,a,c]=e,l=Ff(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Kv(e).get(t).next((e=>{if(null===e)throw Dd();Od(e.userId===this.userId),n.push($y(this.serializer,e))})))})),vf.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return jv(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),vf.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return vf.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Gv(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ff(e[1]);r.push(t)}else n.done()})).next((()=>{Od(0===r.length)}))}))}containsKey(e,t){return qv(e,this.userId,t)}xn(e){return Wv(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function qv(e,t,n){const r=Uf(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Gv(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Kv(e){return cp(e,"mutations")}function Gv(e){return cp(e,"documentMutations")}function Wv(e){return cp(e,"mutationQueues")}class Hv{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Hv(0)}static Bn(){return new Hv(-1)}}class Qv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new Hv(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Zd.fromTimestamp(new Jd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Yv(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Od(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Yv(e).Y(((s,o)=>{const a=Jy(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>vf.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Yv(e).Y(((e,n)=>{const r=Jy(n);t(r)}))}Ln(e){return Xv(e).get("targetGlobalKey").next((e=>(Od(null!==e),e)))}kn(e,t){return Xv(e).put("targetGlobalKey",t)}qn(e,t){return Yv(e).put(Zy(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=km(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Yv(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Jy(n);xm(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=$v(e);return t.forEach((t=>{const s=Of(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),vf.waitFor(r)}removeMatchingKeys(e,t,n){const r=$v(e);return vf.forEach(t,(t=>{const i=Of(t.path);return vf.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=$v(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$v(e);let i=og();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Ff(e[1]),s=new sf(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Of(t.path),r=IDBKeyRange.bound([n],[$d(n)],!1,!0);let i=0;return $v(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Yv(e).get(t).next((e=>e?Jy(e):null))}}function Yv(e){return cp(e,"targets")}function Xv(e){return cp(e,"targetGlobal")}function $v(e){return cp(e,"targetDocuments")}function Jv(e,t){let[n,r]=e,[i,s]=t;const o=Yd(n,i);return 0===o?Yd(r,s):o}class Zv{constructor(e){this.Kn=e,this.buffer=new mp(Jv),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Jv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ew{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Nd("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Tf(e)?Nd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await yf(e)}await this.zn(3e5)}))}}class tw{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return vf.resolve(Af._e);const n=new Zv(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Nd("LruGarbageCollector","Garbage collection skipped; disabled"),vf.resolve(Vv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Nd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Vv):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Nd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Cd()<=Mi.DEBUG&&Nd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),vf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function nw(e,t){return new tw(e,t)}class rw{constructor(e,t){this.db=e,this.garbageCollector=nw(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return iw(e,n)}removeReference(e,t,n){return iw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return iw(e,t)}er(e,t){return function(e,t){let n=!1;return Wv(e).Z((r=>qv(e,r,t).next((e=>(e&&(n=!0),vf.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Zd.min()),$v(e).delete(function(e){return[0,Of(e.path)]}(s)))))}));r.push(t)}})).next((()=>vf.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return iw(e,t)}Xn(e,t){const n=$v(e);let r,i=Af._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==Af._e&&t(new sf(Ff(r)),i),i=c,r=a):i=Af._e})).next((()=>{i!==Af._e&&t(new sf(Ff(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function iw(e,t){return $v(e).put(function(e,t){return{targetId:0,path:Of(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class sw{constructor(){this.changes=new Ym((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?vf.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ow{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return uw(e).put(n)}removeEntry(e,t,n){return uw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Qy(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Zp.newInvalidDocument(t);return uw(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hw(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Zp.newInvalidDocument(t)};return uw(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hw(t))},((e,r)=>{n={document:this.nr(t,r),size:zv(r)}})).next((()=>n))}getEntries(e,t){let n=$m();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=$m(),r=new dp(sf.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,zv(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return vf.resolve();let r=new mp(fw);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(hw(r.first()),hw(r.last())),s=r.getIterator();let o=s.getNext();return uw(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=sf.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&fw(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(hw(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Qy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uw(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=$m();for(const i of e){const e=this.nr(sf.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Gm(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=$m();const s=dw(t,n),o=dw(t,ff.max());return uw(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(sf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new cw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return lw(e).get("remoteDocumentGlobalKey").next((e=>(Od(!!e),e)))}tr(e,t){return lw(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ay(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=sf.fromSegments(t.noDocument.path),r=Xy(t.noDocument.readTime);n=Zp.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dd();{const e=sf.fromSegments(t.unknownDocument.path),r=Xy(t.unknownDocument.version);n=Zp.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Jd(e[0],e[1]);return Zd.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Zd.min()))return e}return Zp.newInvalidDocument(e)}}function aw(e){return new ow(e)}class cw extends sw{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Ym((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new mp(((e,t)=>Yd(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Hy(this.ar.serializer,s);r=r.add(i.path.popLast());const c=zv(a);n+=c-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Hy(this.ar.serializer,s.convertToNoDocument(Zd.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),vf.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function lw(e){return cp(e,"remoteDocumentGlobal")}function uw(e){return cp(e,"remoteDocumentsV14")}function hw(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dw(e,t){const n=t.documentKey.path.toArray();return[e,Qy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function fw(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Yd(n[s],r[s]),i)return i;return i=Yd(n.length,r.length),i||(i=Yd(n[n.length-2],r[r.length-2]),i||Yd(n[n.length-1],r[r.length-1]))}class pw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Pg(n.mutation,e,vp.empty(),Jd.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,og()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:og();const r=tg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Zm();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=tg();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,og())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=$m();const s=rg(),o=rg();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Mg)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Pg(o.mutation,t,o.mutation.getFieldMask(),Jd.now())):s.set(t.key,vp.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new pw(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=rg();let r=new dp(((e,t)=>e-t)),i=og();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||vp.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||og()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=ng();c.forEach((e=>{if(!i.has(e)){const r=Ng(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return vf.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):vf.resolve(tg());let o=-1,a=i;return s.next((t=>vf.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?vf.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,og()))).next((e=>({batchId:o,changes:eg(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sf(t)).next((e=>{let t=Zm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Zm();return this.indexManager.getCollectionParents(e,i).next((o=>vf.forEach(o,(o=>{const a=function(e,t){return new Rm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Zp.newInvalidDocument(r)))}));let n=Zm();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Pg(s.mutation,r,vp.empty(),Jd.now()),Gm(t,r)&&(n=n.insert(e,r))})),n}))}}class gw{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return vf.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wy(e.createTime)}}(t)),vf.resolve()}getNamedQuery(e,t){return vf.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:ev(e.bundledQuery),readTime:wy(e.readTime)}}(t)),vf.resolve()}}class yw{constructor(){this.overlays=new dp(sf.comparator),this.hr=new Map}getOverlay(e,t){return vf.resolve(this.overlays.get(t))}getOverlays(e,t){const n=tg();return vf.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),vf.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),vf.resolve()}getOverlaysForCollection(e,t,n){const r=tg(),i=t.length+1,s=new sf(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return vf.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new dp(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=tg(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=tg(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return vf.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qg(t,n));let i=this.hr.get(t);void 0===i&&(i=og(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class vw{constructor(){this.Pr=new mp(ww.Ir),this.Tr=new mp(ww.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new ww(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new ww(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new sf(new tf([])),n=new ww(t,e),r=new ww(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new sf(new tf([])),n=new ww(t,e),r=new ww(t,e+1);let i=og();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ww(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ww{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return sf.comparator(e.key,t.key)||Yd(e.pr,t.pr)}static Er(e,t){return Yd(e.pr,t.pr)||sf.comparator(e.key,t.key)}}class bw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new mp(ww.Ir)}checkEmpty(e){return vf.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zg(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new ww(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return vf.resolve(s)}lookupMutationBatch(e,t){return vf.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return vf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return vf.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return vf.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ww(t,0),r=new ww(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),vf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mp(Yd);return t.forEach((e=>{const t=new ww(e,0),r=new ww(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),vf.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;sf.isDocumentKey(i)||(i=i.child(""));const s=new ww(new sf(i),0);let o=new mp(Yd);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),vf.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Od(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return vf.forEach(t.mutations,(r=>{const i=new ww(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new ww(t,0),r=this.wr.firstAfterOrEqual(n);return vf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,vf.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _w{constructor(e){this.vr=e,this.docs=new dp(sf.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return vf.resolve(n?n.document.mutableCopy():Zp.newInvalidDocument(t))}getEntries(e,t){let n=$m();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Zp.newInvalidDocument(e))})),vf.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$m();const s=t.path,o=new sf(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||pf(df(o),n)<=0||(r.has(o.key)||Gm(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return vf.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Dd()}Fr(e,t){return vf.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ew(this)}getSize(e){return vf.resolve(this.size)}}class Ew extends sw{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),vf.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Tw{constructor(e){this.persistence=e,this.Mr=new Ym((e=>km(e)),xm),this.lastRemoteSnapshotVersion=Zd.min(),this.highestTargetId=0,this.Or=0,this.Nr=new vw,this.targetCount=0,this.Br=Hv.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),vf.resolve()}getLastRemoteSnapshotVersion(e){return vf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vf.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),vf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),vf.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Hv(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,vf.resolve()}updateTargetData(e,t){return this.qn(t),vf.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,vf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),vf.waitFor(i).next((()=>r))}getTargetCount(e){return vf.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return vf.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),vf.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),vf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),vf.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return vf.resolve(n)}containsKey(e,t){return vf.resolve(this.Nr.containsKey(t))}}class Sw{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Af(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Tw(this),this.indexManager=new Nv,this.remoteDocumentCache=function(e){return new _w(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Wy(t),this.$r=new gw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new bw(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Nd("MemoryPersistence","Starting transaction:",e);const r=new Iw(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return vf.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Iw extends gf{constructor(e){super(),this.currentSequenceNumber=e}}class kw{constructor(e){this.persistence=e,this.zr=new vw,this.jr=null}static Hr(e){return new kw(e)}get Jr(){if(this.jr)return this.jr;throw Dd()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),vf.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),vf.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),vf.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vf.forEach(this.Jr,(n=>{const r=sf.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Zd.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return vf.or([()=>vf.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class xw{constructor(e){this.serializer=e}N(e,t,n,r){const i=new wf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vf,{unique:!0}),e.createObjectStore("documentMutations")}(e),Cw(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=vf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Cw(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vf,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return vf.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Zf});t.createIndex("collectionPathOverlayIndex",ep,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",tp,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Bf});t.createIndex("documentKeyIndex",qf),t.createIndex("collectionGroupIndex",Kf)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Yf}).createIndex("sequenceNumberIndex",Xf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:$f}).createIndex("documentKeyIndex",Jf,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=zv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>vf.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>vf.forEach(n,(n=>{Od(n.userId===t.userId);const r=$y(this.serializer,n);return jv(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new tf(n),o=function(e){return[0,Of(e)]}(s);r.push(t.get(o).next((n=>n?vf.resolve():(n=>t.put({targetId:0,path:Of(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>vf.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Qf});const n=t.store("collectionParents"),r=new Av,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Of(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new tf(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=Ff(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Jy(n),i=Zy(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new sf(tf.fromString(e.document.name).popFirst(5)):e.noDocument?sf.fromSegments(e.noDocument.path):e.unknownDocument?sf.fromSegments(e.unknownDocument.path):Dd()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>vf.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=aw(this.serializer),i=new Sw(kw.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:og();$y(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),vf.forEach(n,((e,n)=>{const s=new Id(n),o=av.lt(this.serializer,s),a=i.getIndexManager(s),c=Bv.lt(s,this.serializer,a,i.referenceDelegate);return new mw(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new ap(t,Af._e),e).next()}))}))}}function Cw(e){e.createObjectStore("targetDocuments",{keyPath:Wf}).createIndex("documentTargetsIndex",Hf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gf,{unique:!0}),e.createObjectStore("targetGlobal")}const Nw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Aw{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=c,this.ai=l,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Aw.D())throw new Fd(Ld.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rw(this,r),this.Ti=t+"main",this.serializer=new Wy(a),this.Ei=new bf(this.Ti,this.ui,new xw(this.serializer)),this.Qr=new Qv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aw(this.serializer),this.$r=new iv,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Ad("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fd(Ld.FAILED_PRECONDITION,Nw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Af(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Rw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Tf(e))return Nd("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Pw(e).get("owner").next((e=>vf.resolve(this.Si(e))))}bi(e){return Rw(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=cp(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return vf.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?vf.resolve(!0):Pw(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Fd(Ld.FAILED_PRECONDITION,Nw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rw(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Nd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new ap(e,Af._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Rw(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Bv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rv(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return av.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Nd("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?op:14===e?sp:13===e?ip:12===e?rp:11===e?np:void Dd()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new ap(r,this.kr?this.kr.next():Af._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw Ad("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Fd(Ld.FAILED_PRECONDITION,mf);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Pw(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Fd(Ld.FAILED_PRECONDITION,Nw)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pw(e).put("owner",t)}static D(){return bf.D()}yi(e){const t=Pw(e);return t.get("owner").next((e=>this.Si(e)?(Nd("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):vf.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ad("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;mi()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Nd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ad("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ad("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Pw(e){return cp(e,"owner")}function Rw(e){return cp(e,"clientMetadata")}function Dw(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Ow{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=og(),r=og();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ow(e,t.fromCache,n,r)}}class Mw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lw{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=mi()?8:bf.v(pi())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Mw;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Cd()<=Mi.DEBUG&&Nd("QueryEngine","SDK will not create cache indexes for query:",Km(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),vf.resolve()):(Cd()<=Mi.DEBUG&&Nd("QueryEngine","Query:",Km(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Cd()<=Mi.DEBUG&&Nd("QueryEngine","The SDK decides to create cache indexes for query:",Km(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vm(t))):vf.resolve())}ji(e,t){if(Mm(t))return vf.resolve(null);let n=Vm(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=zm(t,null,"F"),n=Vm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=og(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,zm(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Mm(t)||r.isEqual(Zd.min())?vf.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?vf.resolve(null):(Cd()<=Mi.DEBUG&&Nd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Km(t)),this.es(e,s,t,hf(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new mp(Hm(e));return t.forEach(((t,r)=>{Gm(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Cd()<=Mi.DEBUG&&Nd("QueryEngine","Using full collection scan to execute query:",Km(t)),this.zi.getDocumentsMatchingQuery(e,t,ff.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Fw{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new dp(Yd),this.rs=new Ym((e=>km(e)),xm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Vw(e,t,n,r){return new Fw(e,t,n,r)}async function Uw(e,t){const n=Md(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=og();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function jw(e){const t=Md(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function zw(e,t,n){let r=og(),i=og();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$m();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Zd.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Nd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Bw(e,t){const n=Md(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function qw(e,t){const n=Md(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,vf.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Gy(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Kw(e,t,n){const r=Md(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Tf(e))throw e;Nd("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Gw(e,t,n){const r=Md(e);let i=Zd.min(),s=og();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Md(e),i=r.rs.get(n);return void 0!==i?vf.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Vm(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Zd.min(),n?s:og()))).next((e=>(Qw(r,Wm(t),e),{documents:e,hs:s})))))}function Ww(e,t){const n=Md(e),r=Md(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Hw(e,t){const n=Md(e),r=n.ss.get(t)||Zd.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,hf(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Qw(n,t,e),e)))}function Qw(e,t,n){let r=e.ss.get(t)||Zd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:og();const r=await qw(e,Vm(ev(t.bundledQuery))),i=Md(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=wy(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(bp.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Xw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function $w(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Jw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Zw{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Fd(r.error.code,r.error.message))),s?new Zw(e,t,r.state,i):(Ad("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eb{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Fd(n.error.code,n.error.message))),i?new eb(e,n.state,r):(Ad("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=cg();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Df(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new tb(e,i):(Ad("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class nb{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nb(t.clientId,t.onlineState):(Ad("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class rb{constructor(){this.activeTargetIds=cg()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ib{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new dp(Yd),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Xw(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new rb),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Xw(this.persistenceKey,n));if(e){const t=tb.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Jw(this.persistenceKey,e));if(n){const r=eb.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jw(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Nd("SharedClientState","READ",e,t),t}setItem(e,t){Nd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Nd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Nd("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Ad("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Af._e;if(null!=e)try{const n=JSON.parse(e);Od("number"==typeof n),t=n}catch(e){Ad("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Af._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Zw(this.currentUser,e,t,n),i=$w(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=$w(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Jw(this.persistenceKey,e),i=new eb(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return tb.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zw.Es(new Id(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return eb.Es(r,t)}xs(e){return nb.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Nd("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=cg();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class sb{constructor(){this.no=new rb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new rb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ob{io(e){}shutdown(){}}class ab{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Nd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Nd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cb=null;function lb(){return null===cb?cb=268435456+Math.round(2147483648*Math.random()):cb++,"0x"+cb.toString(16)}const ub={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hb{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const db="WebChannelConnection";class fb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=lb(),o=this.bo(e,t.toUriEncodedString());Nd("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(Nd("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Pd("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=ub[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=lb();return new Promise(((s,o)=>{const a=new _d;a.setWithCredentials(!0),a.listenOnce(yd.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case gd.NO_ERROR:const t=a.getResponseJson();Nd(db,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case gd.TIMEOUT:Nd(db,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Fd(Ld.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const n=a.getStatus();if(Nd(db,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ld).indexOf(t)>=0?t:Ld.UNKNOWN}(t.status);o(new Fd(e,t.message))}else o(new Fd(Ld.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Fd(Ld.UNAVAILABLE,"Connection failed."));break;default:Dd()}}finally{Nd(db,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Nd(db,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}Fo(e,t,n){const r=lb(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pd(),o=md(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Nd(db,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let h=!1,d=!1;const f=new hb({lo:t=>{d?Nd(db,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Nd(db,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Nd(db,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,bd.EventType.OPEN,(()=>{d||Nd(db,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,bd.EventType.CLOSE,(()=>{d||(d=!0,Nd(db,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,bd.EventType.ERROR,(t=>{d||(d=!0,Pd(db,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Fd(Ld.UNAVAILABLE,"The operation could not be completed")))})),p(u,bd.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Od(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Nd(db,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Gg[e];if(void 0!==t)return Qg(t)}(t),i=o.message;void 0===n&&(n=Ld.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new Fd(n,i)),u.close()}else Nd(db,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,vd.STAT_EVENT,(t=>{t.stat===wd.PROXY?Nd(db,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===wd.NOPROXY&&Nd(db,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function pb(){return"undefined"!=typeof window?window:null}function mb(){return"undefined"!=typeof document?document:null}function gb(e){return new py(e,!0)}class yb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Nd("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class vb{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new yb(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Ld.RESOURCE_EXHAUSTED?(Ad(t.toString()),Ad("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Ld.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Fd(Ld.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Nd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Nd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wb extends vb{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Od(void 0===t||"string"==typeof t),bp.fromBase64String(t||"")):(Od(void 0===t||t instanceof Uint8Array),bp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ld.UNKNOWN:Qg(e.code);return new Fd(t,e.message||"")}(o);n=new oy(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sy(e,r.document.name),s=wy(r.document.updateTime),o=r.document.createTime?wy(r.document.createTime):Zd.min(),a=new $p({mapValue:{fields:r.document.fields}}),c=Zp.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new iy(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Sy(e,r.document),s=r.readTime?wy(r.readTime):Zd.min(),o=Zp.newNoDocument(i,s),a=r.removedTargetIds||[];n=new iy([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Sy(e,r.document),s=r.removedTargetIds||[];n=new iy([],s,i,null)}else{if(!("filter"in t))return Dd();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Kg(r,i),o=e.targetId;n=new sy(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Zd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Zd.min():t.readTime?wy(t.readTime):Zd.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=xy(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Cm(r)?{documents:Dy(e,r)}:{query:Oy(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yy(e,t.resumeToken);const r=my(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Zd.min())>0){n.readTime=gy(e,t.snapshotVersion.toTimestamp());const r=my(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=xy(this.serializer),t.removeTarget=e,this.t_(t)}}class bb extends vb{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Od(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Od(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?wy(e.updateTime):wy(t);return n.isEqual(Zd.min())&&(n=wy(t)),new Ig(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=wy(e.commitTime);return this.listener.T_(n,t)}return Od(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=xy(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Py(this.serializer,e)))};this.t_(t)}}class _b extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Fd(Ld.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,_y(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ld.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fd(Ld.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,_y(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ld.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fd(Ld.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Eb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Ad(t),this.g_=!1):Nd("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Tb{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Rb(this)&&(Nd("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Md(e);t.v_.add(4),await Ib(t),t.x_.set("Unknown"),t.v_.delete(4),await Sb(t)}(this))}))})),this.x_=new Eb(n,r)}}async function Sb(e){if(Rb(e))for(const t of e.F_)await t(!0)}async function Ib(e){for(const t of e.F_)await t(!1)}function kb(e,t){const n=Md(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Pb(n)?Ab(n):Xb(n).Jo()&&Cb(n,t))}function xb(e,t){const n=Md(e),r=Xb(n);n.C_.delete(t),r.Jo()&&Nb(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Rb(n)&&n.x_.set("Unknown"))}function Cb(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xb(e).c_(t)}function Nb(e,t){e.O_.Oe(t),Xb(e).l_(t)}function Ab(e){e.O_=new cy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Xb(e).start(),e.x_.p_()}function Pb(e){return Rb(e)&&!Xb(e).Ho()&&e.C_.size>0}function Rb(e){return 0===Md(e).v_.size}function Db(e){e.O_=void 0}async function Ob(e){e.C_.forEach(((t,n)=>{Cb(e,t)}))}async function Mb(e,t){Db(e),Pb(e)?(e.x_.S_(t),Ab(e)):e.x_.set("Unknown")}async function Lb(e,t,n){if(e.x_.set("Online"),t instanceof oy&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Nd("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fb(e,n)}else if(t instanceof iy?e.O_.$e(t):t instanceof sy?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Zd.min()))try{const t=await jw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(bp.EMPTY_BYTE_STRING,r.snapshotVersion)),Nb(e,t);const i=new Gy(r.target,t,n,r.sequenceNumber);Cb(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Nd("RemoteStore","Failed to raise snapshot:",t),await Fb(e,t)}}async function Fb(e,t,n){if(!Tf(t))throw t;e.v_.add(1),await Ib(e),e.x_.set("Offline"),n||(n=()=>jw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Nd("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Sb(e)}))}function Vb(e,t){return t().catch((n=>Fb(e,n,t)))}async function Ub(e){const t=Md(e),n=$b(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;jb(t);)try{const e=await Bw(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,zb(t,e)}catch(e){await Fb(t,e)}Bb(t)&&qb(t)}function jb(e){return Rb(e)&&e.D_.length<10}function zb(e,t){e.D_.push(t);const n=$b(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Bb(e){return Rb(e)&&!$b(e).Ho()&&e.D_.length>0}function qb(e){$b(e).start()}async function Kb(e){$b(e).d_()}async function Gb(e){const t=$b(e);for(const n of e.D_)t.I_(n.mutations)}async function Wb(e,t,n){const r=e.D_.shift(),i=Bg.from(r,t,n);await Vb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ub(e)}async function Hb(e,t){t&&$b(e).P_&&await async function(e,t){if(function(e){return Hg(e)&&e!==Ld.ABORTED}(t.code)){const n=e.D_.shift();$b(e).Zo(),await Vb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ub(e)}}(e,t),Bb(e)&&qb(e)}async function Qb(e,t){const n=Md(e);n.asyncQueue.verifyOperationInProgress(),Nd("RemoteStore","RemoteStore received new credentials");const r=Rb(n);n.v_.add(3),await Ib(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Sb(n)}async function Yb(e,t){const n=Md(e);t?(n.v_.delete(2),await Sb(n)):t||(n.v_.add(2),await Ib(n),n.x_.set("Unknown"))}function Xb(e){return e.N_||(e.N_=function(e,t,n){const r=Md(e);return r.R_(),new wb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Ob.bind(null,e),To:Mb.bind(null,e),u_:Lb.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Pb(e)?Ab(e):e.x_.set("Unknown")):(await e.N_.stop(),Db(e))}))),e.N_}function $b(e){return e.B_||(e.B_=function(e,t,n){const r=Md(e);return r.R_(),new bb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Kb.bind(null,e),To:Hb.bind(null,e),E_:Gb.bind(null,e),T_:Wb.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Ub(e)):(await e.B_.stop(),e.D_.length>0&&(Nd("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class Jb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Jb(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fd(Ld.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zb(e,t){if(Ad("AsyncQueue","".concat(t,": ").concat(e)),Tf(e))return new Fd(Ld.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class e_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||sf.comparator(t.key,n.key):(e,t)=>sf.comparator(e.key,t.key),this.keyedMap=Zm(),this.sortedSet=new dp(this.comparator)}static emptySet(e){return new e_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof e_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new e_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class t_{constructor(){this.L_=new dp(sf.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Dd():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class n_{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new n_(e,t,e_.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class r_{constructor(){this.q_=void 0,this.Q_=[]}}class i_{constructor(){this.queries=new Ym((e=>qm(e)),Bm),this.onlineState="Unknown",this.K_=new Set}}async function s_(e,t){const n=Md(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new r_),i)try{s.q_=await n.onListen(r)}catch(e){const n=Zb(e,"Initialization of query '".concat(Km(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&l_(n)}async function o_(e,t){const n=Md(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function a_(e,t){const n=Md(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&l_(n)}function c_(e,t,n){const r=Md(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function l_(e){e.K_.forEach((e=>{e.next()}))}class u_{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new n_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=n_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class h_{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class d_{constructor(e){this.serializer=e}Ps(e){return Sy(this.serializer,e)}Is(e){return e.metadata.exists?Ay(this.serializer,e.document,!1):Zp.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return wy(e)}}class f_{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=p_(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=tf.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new d_(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||og()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Md(e);let s=og(),o=$m();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(s=s.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await qw(i,function(e){return Vm(Om(tf.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>zw(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new d_(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await Yw(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function p_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class m_{constructor(e){this.key=e}}class g_{constructor(e){this.key=e}}class y_{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=og(),this.mutatedKeys=og(),this.ua=Hm(e),this.ca=new e_(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new t_,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Gm(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ua(u,a)>0||c&&this.ua(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dd()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const o=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,c=a!==this._a;return this._a=a,0!==s.length||c?{snapshot:new n_(this.query,e.ca,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new t_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=og(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new g_(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new m_(n))})),t}Ra(e){this.oa=e.hs,this.aa=og();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return n_.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class v_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class w_{constructor(e){this.key=e,this.ma=!1}}class b_{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Ym((e=>qm(e)),Bm),this.pa=new Map,this.ya=new Set,this.wa=new dp(sf.comparator),this.Sa=new Map,this.ba=new vw,this.Da={},this.Ca=new Map,this.va=Hv.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function __(e,t){const n=H_(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await qw(n.localStore,Vm(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await E_(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&kb(n.remoteStore,e)}return i}async function E_(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Gw(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return D_(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const s=await Gw(e.localStore,t,!0),o=new y_(t,s.hs),a=o.ha(s.documents),c=ry.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);D_(e,n,l.da);const u=new v_(t,n,o);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function T_(e,t){const n=Md(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Bm(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Kw(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),xb(n.remoteStore,r.targetId),P_(n,r.targetId)})).catch(yf)):(P_(n,r.targetId),await Kw(n.localStore,r.targetId,!0))}async function S_(e,t){const n=Md(e);try{const e=await function(e,t){const n=Md(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(bp.EMPTY_BYTE_STRING,Zd.min()).withLastLimboFreeSnapshotVersion(Zd.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.Qr.updateTargetData(e,l))}));let a=$m(),c=og();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(zw(e,s,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(Zd.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return vf.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Od(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Od(r.ma):e.removedDocuments.size>0&&(Od(r.ma),r.ma=!1))})),await L_(n,e,t)}catch(e){await yf(e)}}function I_(e,t,n){const r=Md(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Md(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&l_(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function k_(e,t,n){const r=Md(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new dp(sf.comparator);e=e.insert(s,Zp.newNoDocument(s,Zd.min()));const n=og().add(s),i=new ny(Zd.min(),new Map,new dp(Yd),e,n);await S_(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),M_(r)}else await Kw(r.localStore,t,!1).then((()=>P_(r,t,n))).catch(yf)}async function x_(e,t){const n=Md(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Md(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=vf.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Od(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=og();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);A_(n,r,null),N_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await L_(n,e)}catch(e){await yf(e)}}async function C_(e,t,n){const r=Md(e);try{const e=await function(e,t){const n=Md(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Od(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);A_(r,t,n),N_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await L_(r,e)}catch(n){await yf(n)}}function N_(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function A_(e,t,n){const r=Md(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function P_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||R_(e,t)}))}function R_(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(xb(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),M_(e))}function D_(e,t,n){for(const r of n)r instanceof m_?(e.ba.addReference(r.key,t),O_(e,r)):r instanceof g_?(Nd("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||R_(e,r.key)):Dd()}function O_(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Nd("SyncEngine","New document in limbo: "+n),e.ya.add(r),M_(e))}function M_(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new sf(tf.fromString(t)),r=e.va.next();e.Sa.set(r,new w_(n)),e.wa=e.wa.insert(n,r),kb(e.remoteStore,new Gy(Vm(Om(n.path)),r,"TargetPurposeLimboResolution",Af._e))}}async function L_(e,t,n){const r=Md(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{o.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Ow.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.fa.u_(i),await async function(e,t){const n=Md(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>vf.forEach(t,(t=>vf.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>vf.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Tf(e))throw e;Nd("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function F_(e,t){const n=Md(e);if(!n.currentUser.isEqual(t)){Nd("SyncEngine","User change. New user:",t.toKey());const e=await Uw(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Fd(Ld.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await L_(n,e.us)}}function V_(e,t){const n=Md(e),r=n.Sa.get(t);if(r&&r.ma)return og().add(r.key);{let e=og();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function U_(e,t){const n=Md(e),r=await Gw(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&D_(n,t.targetId,i.da),i}async function j_(e,t){const n=Md(e);return Hw(n.localStore,t).then((e=>L_(n,e)))}async function z_(e,t,n,r){const i=Md(e),s=await function(e,t){const n=Md(e),r=Md(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):vf.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Ub(i.remoteStore):"acknowledged"===n||"rejected"===n?(A_(i,t,r||null),N_(i,t),function(e,t){Md(Md(e).mutationQueue).Mn(t)}(i.localStore,t)):Dd(),await L_(i,s)):Nd("SyncEngine","Cannot apply mutation batch with id: "+t)}async function B_(e,t,n){const r=Md(e),i=[],s=[];for(const o of t){let e;const t=r.pa.get(o);if(t&&0!==t.length){e=await qw(r.localStore,Vm(t[0]));for(const e of t){const t=r.ga.get(e),n=await U_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Ww(r.localStore,o);e=await qw(r.localStore,t),await E_(r,q_(t),o,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function q_(e){return Dm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function K_(e){return function(e){return Md(Md(e).persistence).Li()}(Md(e).localStore)}async function G_(e,t,n,r){const i=Md(e);if(i.Fa)return void Nd("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Hw(i.localStore,Wm(s[0])),r=ny.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,bp.EMPTY_BYTE_STRING);await L_(i,e,r);break}case"rejected":await Kw(i.localStore,t,!0),P_(i,t,r);break;default:Dd()}}async function W_(e,t,n){const r=H_(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){Nd("SyncEngine","Adding an already active target "+e);continue}const t=await Ww(r.localStore,e),n=await qw(r.localStore,t);await E_(r,q_(t),n.targetId,!1,n.resumeToken),kb(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Kw(r.localStore,e,!1).then((()=>{xb(r.remoteStore,e),P_(r,e)})).catch(yf)}}function H_(e){const t=Md(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=S_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=V_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=k_.bind(null,t),t.fa.u_=a_.bind(null,t.eventManager),t.fa.xa=c_.bind(null,t.eventManager),t}function Q_(e){const t=Md(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=x_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=C_.bind(null,t),t}class Y_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gb(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Vw(this.persistence,new Lw,e.initialUser,this.serializer)}createPersistence(e){return new Sw(kw.Hr,this.serializer)}createSharedClientState(e){return new sb}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class X_ extends Y_{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await Q_(this.Na.syncEngine),await Ub(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Vw(this.persistence,new Lw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new ew(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Nf(t,this.persistence);return new Cf(e.asyncQueue,n)}createPersistence(e){const t=Dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Uv.withCacheSize(this.cacheSizeBytes):Uv.DEFAULT;return new Aw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pb(),mb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new sb}}class $_ extends X_{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof ib&&(this.sharedClientState.syncEngine={Zs:z_.bind(null,t),Xs:G_.bind(null,t),eo:W_.bind(null,t),Li:K_.bind(null,t),Ys:j_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Md(e);if(H_(n),Q_(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await B_(n,e.toArray());n.Fa=!0,await Yb(n.remoteStore,!0);for(const r of t)kb(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(P_(n,i),Kw(n.localStore,i,!0)))),xb(n.remoteStore,i)})),await t,await B_(n,e),function(e){const t=Md(e);t.Sa.forEach(((e,n)=>{xb(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new dp(sf.comparator)}(n),n.Fa=!1,await Yb(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=pb();if(!ib.D(t))throw new Fd(Ld.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ib(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class J_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>I_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=F_.bind(null,this.syncEngine),await Yb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new i_}createDatastore(e){const t=gb(e.databaseInfo.databaseId),n=function(e){return new fb(e)}(e.databaseInfo);return function(e,t,n,r){return new _b(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Tb(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>I_(this.syncEngine,e,0)),ab.D()?new ab:new ob)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new b_(e,t,n,r,i,s);return o&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Md(e);Nd("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Ib(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Z_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class eE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ad("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class tE{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Vd,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new h_(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class nE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Fd(Ld.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Md(e),r={documents:t.map((e=>Ty(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,tf.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Od(!!t.found),t.found.name,t.found.updateTime;const n=Sy(e,t.found.name),r=wy(t.found.updateTime),i=t.found.createTime?wy(t.found.createTime):Zd.min(),s=new $p({mapValue:{fields:t.found.fields}});return Zp.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Od(!!t.missing),Od(!!t.readTime);const n=Sy(e,t.missing),r=wy(t.readTime);return Zp.newNoDocument(n,r)}(e,t):Dd()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Od(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ug(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=sf.fromPath(t);this.mutations.push(new jg(n,this.precondition(n)))})),await async function(e,t){const n=Md(e),r={writes:t.map((e=>Py(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,tf.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dd();t=Zd.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fd(Ld.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zd.min())?kg.exists(!1):kg.updateTime(t):kg.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zd.min()))throw new Fd(Ld.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kg.updateTime(t)}return kg.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rE{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new yb(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new nE(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!Pf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Hg(t)}return!1}}class iE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Id.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Nd("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Nd("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fd(Ld.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zb(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function sE(e,t){e.asyncQueue.verifyOperationInProgress(),Nd("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Uw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function oE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cE(e);Nd("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Qb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Qb(t.remoteStore,n))),e._onlineComponents=t}function aE(e){return"FirebaseError"===e.name?e.code===Ld.FAILED_PRECONDITION||e.code===Ld.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function cE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Nd("FirestoreClient","Using user provided OfflineComponentProvider");try{await sE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!aE(n))throw n;Pd("Error using user provided cache. Falling back to memory cache: "+n),await sE(e,new Y_)}}else Nd("FirestoreClient","Using default OfflineComponentProvider"),await sE(e,new Y_);return e._offlineComponents}async function lE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Nd("FirestoreClient","Using user provided OnlineComponentProvider"),await oE(e,e._uninitializedComponentsProvider._online)):(Nd("FirestoreClient","Using default OnlineComponentProvider"),await oE(e,new J_))),e._onlineComponents}function uE(e){return cE(e).then((e=>e.persistence))}function hE(e){return cE(e).then((e=>e.localStore))}function dE(e){return lE(e).then((e=>e.remoteStore))}function fE(e){return lE(e).then((e=>e.syncEngine))}function pE(e){return lE(e).then((e=>e.datastore))}async function mE(e){const t=await lE(e),n=t.eventManager;return n.onListen=__.bind(null,t.syncEngine),n.onUnlisten=T_.bind(null,t.syncEngine),n}function gE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new eE({next:s=>{t.enqueueAndForget((()=>o_(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Fd(Ld.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Fd(Ld.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new u_(Om(n.path),s,{includeMetadataChanges:!0,Z_:!0});return s_(e,o)}(await mE(e),e.asyncQueue,t,n,r))),r.promise}function yE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new eE({next:n=>{t.enqueueAndForget((()=>o_(e,o))),n.fromCache&&"server"===r.source?i.reject(new Fd(Ld.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new u_(n,s,{includeMetadataChanges:!0,Z_:!0});return s_(e,o)}(await mE(e),e.asyncQueue,t,n,r))),r.promise}function vE(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Xg().encode(e):e,function(e,t){return new tE(e,t)}(function(e,t){if(e instanceof Uint8Array)return Z_(e,t);if(e instanceof ArrayBuffer)return Z_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,gb(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Md(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Md(e),r=wy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(p_(r));const i=new f_(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const o=await i.complete();return await L_(e,o.sa,void 0),await function(e,t){const n=Md(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ia)}catch(e){return Pd("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await fE(e),i,r)}))}function wE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bE=new Map;function _E(e,t,n){if(!n)throw new Fd(Ld.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function EE(e,t,n,r){if(!0===t&&!0===r)throw new Fd(Ld.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function TE(e){if(!sf.isDocumentKey(e))throw new Fd(Ld.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function SE(e){if(sf.isDocumentKey(e))throw new Fd(Ld.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function IE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Dd()}function kE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fd(Ld.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IE(e);throw new Fd(Ld.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function xE(e,t){if(t<=0)throw new Fd(Ld.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class CE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fd(Ld.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fd(Ld.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fd(Ld.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Fd(Ld.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Fd(Ld.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class NE{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fd(Ld.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fd(Ld.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jd;switch(e.type){case"firstParty":return new Kd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fd(Ld.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bE.get(e);t&&(Nd("ComponentProvider","Removing Datastore"),bE.delete(e),t.terminate())}(this),Promise.resolve()}}function AE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=kE(e,NE))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Pd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Id.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[oi(JSON.stringify({alg:"none",type:"JWT"})),oi(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Fd(Ld.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Id(s)}e._authCredentials=new zd(new Ud(t,n))}}class PE{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new PE(this.firestore,e,this._query)}}class RE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new DE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new RE(this.firestore,e,this._key)}}class DE extends PE{constructor(e,t,n){super(e,t,Om(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new RE(this.firestore,null,new sf(e))}withConverter(e){return new DE(this.firestore,e,this._path)}}function OE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ni(e),_E("collection","path",t),e instanceof NE){const n=tf.fromString(t,...r);return SE(n),new DE(e,null,n)}{if(!(e instanceof RE||e instanceof DE))throw new Fd(Ld.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(tf.fromString(t,...r));return SE(n),new DE(e.firestore,null,n)}}function ME(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ni(e),1===arguments.length&&(t=Qd.newId()),_E("doc","path",t),e instanceof NE){const n=tf.fromString(t,...r);return TE(n),new RE(e,null,new sf(n))}{if(!(e instanceof RE||e instanceof DE))throw new Fd(Ld.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(tf.fromString(t,...r));return TE(n),new RE(e.firestore,e instanceof DE?e.converter:null,new sf(n))}}function LE(e,t){return e=Ni(e),t=Ni(t),(e instanceof RE||e instanceof DE)&&(t instanceof RE||t instanceof DE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function FE(e,t){return e=Ni(e),t=Ni(t),e instanceof PE&&t instanceof PE&&e.firestore===t.firestore&&Bm(e._query,t._query)&&e.converter===t.converter}class VE{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new yb(this,"async_queue_retry"),this._u=()=>{const e=mb();e&&Nd("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=mb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=mb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Vd;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Tf(e))throw e;Nd("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ad("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Jb.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&Dd()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function UE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class jE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zE extends NE{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new VE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qE(this),this._firestoreClient.terminate()}}function BE(e){return e._firestoreClient||qE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qE(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Cp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new iE(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function KE(e,t,n){const r=new Vd;return e.asyncQueue.enqueue((async()=>{try{await sE(e,n),await oE(e,t),r.resolve()}catch(e){const n=e;if(!aE(n))throw n;Pd("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function GE(e){return function(e){const t=new Vd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Md(e);Rb(n.remoteStore)||Nd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Md(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=Zb(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await fE(e),t))),t.promise}(BE(e=kE(e,zE)))}function WE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await uE(e),n=await dE(e);return t.setNetworkEnabled(!0),function(e){const t=Md(e);return t.v_.delete(0),Sb(t)}(n)}))}(BE(e=kE(e,zE)))}function HE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await uE(e),n=await dE(e);return t.setNetworkEnabled(!1),async function(e){const t=Md(e);t.v_.add(0),await Ib(t),t.x_.set("Offline")}(n)}))}(BE(e=kE(e,zE)))}function QE(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Md(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await hE(e),t)))}(BE(e=kE(e,zE)),t).then((t=>t?new PE(e,null,t.query):null))}function YE(e){if(e._initialized||e._terminated)throw new Fd(Ld.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class XE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new XE(bp.fromBase64String(e))}catch(e){throw new Fd(Ld.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new XE(bp.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $E{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rf(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class JE{constructor(e){this._methodName=e}}class ZE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fd(Ld.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fd(Ld.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yd(this._lat,e._lat)||Yd(this._long,e._long)}}const eT=/^__.*__$/;class tT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Mg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Og(e,this.data,t,this.fieldTransforms)}}class nT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Mg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dd()}}class iT{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new iT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ST(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(rT(this.du)&&eT.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class sT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||gb(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new iT({du:e,methodName:t,wu:n,path:rf.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oT(e){const t=e._freezeSettings(),n=gb(e._databaseId);return new sT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aT(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);bT("Data must be an object, but it was:",o,r);const a=vT(r,o);let c,l;if(s.merge)c=new vp(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=_T(t,r,n);if(!o.contains(i))throw new Fd(Ld.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));IT(e,i)||e.push(i)}c=new vp(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new tT(new $p(a),c,l)}class cT extends JE{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cT}}function lT(e,t,n){return new iT({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class uT extends JE{_toFieldTransform(e){return new Sg(e.path,new gg)}isEqual(e){return e instanceof uT}}class hT extends JE{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=lT(this,e,!0),n=this.bu.map((e=>yT(e,t))),r=new yg(n);return new Sg(e.path,r)}isEqual(e){return e instanceof hT&&_i(this.bu,e.bu)}}class dT extends JE{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=lT(this,e,!0),n=this.bu.map((e=>yT(e,t))),r=new wg(n);return new Sg(e.path,r)}isEqual(e){return e instanceof dT&&_i(this.bu,e.bu)}}class fT extends JE{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new _g(e.serializer,hg(e.serializer,this.Du));return new Sg(e.path,t)}isEqual(e){return e instanceof fT&&this.Du===e.Du}}function pT(e,t,n,r){const i=e.Su(1,t,n);bT("Data must be an object, but it was:",i,r);const s=[],o=$p.empty();up(r,((e,r)=>{const a=TT(t,e,n);r=Ni(r);const c=i.fu(a);if(r instanceof cT)s.push(a);else{const e=yT(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new vp(s);return new nT(o,a,i.fieldTransforms)}function mT(e,t,n,r,i,s){const o=e.Su(1,t,n),a=[_T(t,r,n)],c=[i];if(s.length%2!=0)throw new Fd(Ld.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(_T(t,s[d])),c.push(s[d+1]);const l=[],u=$p.empty();for(let d=a.length-1;d>=0;--d)if(!IT(l,a[d])){const e=a[d];let t=c[d];t=Ni(t);const n=o.fu(e);if(t instanceof cT)l.push(e);else{const r=yT(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new vp(l);return new nT(u,h,o.fieldTransforms)}function gT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yT(n,e.Su(r?4:3,t))}function yT(e,t){if(wT(e=Ni(e)))return bT("Unsupported field value:",t,e),vT(e,t);if(e instanceof JE)return function(e,t){if(!rT(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=yT(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ni(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Jd.fromDate(e);return{timestampValue:gy(t.serializer,n)}}if(e instanceof Jd){const n=new Jd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gy(t.serializer,n)}}if(e instanceof ZE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof XE)return{bytesValue:yy(t.serializer,e._byteString)};if(e instanceof RE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:by(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(IE(e)))}(e,t)}function vT(e,t){const n={};return hp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):up(e,((e,r)=>{const i=yT(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jd||e instanceof ZE||e instanceof XE||e instanceof RE||e instanceof JE)}function bT(e,t,n){if(!wT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=IE(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function _T(e,t,n){if((t=Ni(t))instanceof $E)return t._internalPath;if("string"==typeof t)return TT(e,t);throw ST("Field path arguments must be of type string or ",e,!1,void 0,n)}const ET=new RegExp("[~\\*/\\[\\]]");function TT(e,t,n){if(t.search(ET)>=0)throw ST("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new $E(...t.split("."))._internalPath}catch(vc){throw ST("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ST(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new Fd(Ld.INVALID_ARGUMENT,a+e+c)}function IT(e,t){return e.some((e=>e.isEqual(t)))}class kT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new RE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xT extends kT{data(){return super.data()}}function CT(e,t){return"string"==typeof t?TT(e,t):t instanceof $E?t._internalPath:t._delegate._internalPath}function NT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fd(Ld.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AT{}class PT extends AT{}function RT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof AT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof OT)).length,n=e.filter((e=>e instanceof DT)).length;if(t>1||t>0&&n>0)throw new Fd(Ld.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class DT extends PT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new DT(e,t,n)}_apply(e){const t=this._parse(e);return BT(e._query,t),new PE(e.firestore,e.converter,jm(e._query,t))}_parse(e){const t=oT(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){zT(o,s);const t=[];for(const n of o)t.push(jT(r,e,n));a={arrayValue:{values:t}}}else a=jT(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||zT(o,s),a=gT(n,t,o,"in"===s||"not-in"===s);return om.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class OT extends AT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new OT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:am.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)BT(n,i),n=jm(n,i)}(e._query,t),new PE(e.firestore,e.converter,jm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class MT extends PT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new MT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rm(t,n)}(e._query,this._field,this._direction);return new PE(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Rm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class LT extends PT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new LT(e,t,n)}_apply(e){return new PE(e.firestore,e.converter,zm(e._query,this._limit,this._limitType))}}class FT extends PT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new FT(e,t,n)}_apply(e){const t=UT(e,this.type,this._docOrFields,this._inclusive);return new PE(e.firestore,e.converter,function(e,t){return new Rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class VT extends PT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new VT(e,t,n)}_apply(e){const t=UT(e,this.type,this._docOrFields,this._inclusive);return new PE(e.firestore,e.converter,function(e,t){return new Rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function UT(e,t,n,r){if(n[0]=Ni(n[0]),n[0]instanceof kT)return function(e,t,n,r,i){if(!r)throw new Fd(Ld.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Fm(e))if(o.field.isKeyField())s.push(Up(t,r.key));else{const e=r.data.field(o.field);if(Ip(e))throw new Fd(Ld.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new em(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=oT(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Fd(Ld.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Lm(e)&&-1!==s.indexOf("/"))throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(tf.fromString(s));if(!sf.isDocumentKey(n))throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new sf(n);a.push(Up(t,i))}else{const e=gT(n,r,s);a.push(e)}}return new em(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function jT(e,t,n){if("string"==typeof(n=Ni(n))){if(""===n)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lm(t)&&-1!==n.indexOf("/"))throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(tf.fromString(n));if(!sf.isDocumentKey(r))throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Up(e,new sf(r))}if(n instanceof RE)return Up(e,n._key);throw new Fd(Ld.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(IE(n),"."))}function zT(e,t){if(!Array.isArray(e)||0===e.length)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function BT(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Fd(Ld.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fd(Ld.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class qT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return up(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ZE(Tp(e.latitude),Tp(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=kp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xp(e));default:return null}}convertTimestamp(e){const t=Ep(e);return new Jd(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=tf.fromString(e);Od(Ky(n));const r=new Np(n.get(1),n.get(3)),i=new sf(n.popFirst(5));return r.isEqual(t)||Ad("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function KT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class GT extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new XE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new RE(this.firestore,null,t)}}class WT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HT extends kT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new QT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(CT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class QT extends HT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class YT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new WT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new QT(this._firestore,this._userDataWriter,n.key,n,new WT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fd(Ld.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new QT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new WT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new QT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new WT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:XT(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function XT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dd()}}function $T(e,t){return e instanceof HT&&t instanceof HT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof YT&&t instanceof YT&&e._firestore===t._firestore&&FE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class JT extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new XE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new RE(this.firestore,null,t)}}function ZT(e){e=kE(e,RE);const t=kE(e.firestore,zE),n=BE(t),r=new JT(t);return function(e,t){const n=new Vd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Md(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Fd(Ld.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Zb(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await hE(e),t,n))),n.promise}(n,e._key).then((n=>new HT(t,r,e._key,n,new WT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function eS(e){e=kE(e,PE);const t=kE(e.firestore,zE),n=BE(t),r=new JT(t);return function(e,t){const n=new Vd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Gw(e,t,!0),i=new y_(t,r.hs),s=i.ha(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Zb(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await hE(e),t,n))),n.promise}(n,e._query).then((n=>new YT(t,r,e,n)))}function tS(e,t,n){e=kE(e,RE);const r=kE(e.firestore,zE),i=KT(e.converter,t,n);return sS(r,[aT(oT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kg.none())])}function nS(e,t,n){e=kE(e,RE);const r=kE(e.firestore,zE),i=oT(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=Ni(t))||t instanceof $E?mT(i,"updateDoc",e._key,t,n,a):pT(i,"updateDoc",e._key,t),sS(r,[s.toMutation(e._key,kg.exists(!0))])}function rS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Ni(e);let a={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||UE(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges};if(UE(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof RE)h=kE(e.firestore,zE),d=Om(e._key.path),u={next:t=>{n[c]&&n[c](oS(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=kE(e,PE);h=kE(t.firestore,zE),d=t._query;const r=new JT(h);u={next:e=>{n[c]&&n[c](new YT(h,r,t,e))},error:n[c+1],complete:n[c+2]},NT(e._query)}return function(e,t,n,r){const i=new eE(r),s=new u_(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>s_(await mE(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>o_(await mE(e),s)))}}(BE(h),d,l,u)}function iS(e,t){return function(e,t){const n=new eE(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Md(e).K_.add(t),t.next()}(await mE(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Md(e).K_.delete(t)}(await mE(e),n)))}}(BE(e=kE(e,zE)),UE(t)?t:{next:t})}function sS(e,t){return function(e,t){const n=new Vd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Q_(e);try{const e=await function(e,t){const n=Md(e),r=Jd.now(),i=t.reduce(((e,t)=>e.add(t.key)),og());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=$m(),c=og();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Rg(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Mg(e.key,t,Jp(t.value.mapValue),kg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:eg(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new dp(Yd)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await L_(r,e.changes),await Ub(r.remoteStore)}catch(e){const t=Zb(e,"Failed to persist write");n.reject(t)}}(await fE(e),t,n))),n.promise}(BE(e),t)}function oS(e,t,n){const r=n.docs.get(t._key),i=new JT(e);return new HT(e,i,t._key,r,new WT(n.hasPendingWrites,n.fromCache),t.converter)}const aS={maxAttempts:5};class cS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=oT(e)}set(e,t,n){this._verifyNotCommitted();const r=lS(e,this._firestore),i=KT(r.converter,t,n),s=aT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,kg.none())),this}update(e,t,n){this._verifyNotCommitted();const r=lS(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Ni(t))||t instanceof $E?mT(this._dataReader,"WriteBatch.update",r._key,t,n,o):pT(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,kg.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=lS(e,this._firestore);return this._mutations=this._mutations.concat(new Ug(t._key,kg.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fd(Ld.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lS(e,t){if((e=Ni(e)).firestore!==t)throw new Fd(Ld.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class uS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=oT(e)}get(e){const t=lS(e,this._firestore),n=new GT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Dd();const r=e[0];if(r.isFoundDocument())return new kT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new kT(this._firestore,n,t._key,null,t.converter);throw Dd()}))}set(e,t,n){const r=lS(e,this._firestore),i=KT(r.converter,t,n),s=aT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=lS(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Ni(t))||t instanceof $E?mT(this._dataReader,"Transaction.update",r._key,t,n,o):pT(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=lS(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=lS(e,this._firestore),n=new JT(this._firestore);return super.get(e).then((e=>new HT(this._firestore,n,t._key,e._document,new WT(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){kd=e}(bs),ps(new Ai("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new zE(new Bd(e.getProvider("auth-internal")),new Wd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fd(Ld.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Is(Sd,"4.4.2",e),Is(Sd,"4.4.2","esm2017")}();const hS="firebasestorage.googleapis.com",dS="storageBucket";class fS extends yi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(gS(e),"Firebase Storage: ".concat(t," (").concat(gS(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fS.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var pS,mS;function gS(e){return"storage/"+e}function yS(){return new fS(pS.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vS(){return new fS(pS.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wS(){return new fS(pS.CANCELED,"User canceled the upload/download.")}function bS(e){return new fS(pS.INVALID_ARGUMENT,e)}function _S(){return new fS(pS.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(pS||(pS={}));class ES{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ES.makeFromUrl(e,t)}catch(i){return new ES(e,"")}if(""===n.path)return n;throw r=e,new fS(pS.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===hS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ES(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new fS(pS.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class TS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function SS(e,t,n,r){if(r<t)throw bS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw bS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function IS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function kS(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(mS||(mS={}));class xS{constructor(e,t,n,r,i,s,o,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new CS(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===mS.NO_ERROR,i=n.getStatus();if(!t||kS(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===mS.ABORT;return void e(!1,new CS(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new CS(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=yS();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?_S():wS())}else{r(vS())}};this.canceled_?t(0,new CS(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class CS{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function NS(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class AS{constructor(e,t){this._service=e,this._location=t instanceof ES?t:ES.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new AS(e,t)}get root(){const e=new ES(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NS(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ES(this._location.bucket,e);return new AS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new fS(pS.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function PS(e,t){const n=null===t||void 0===t?void 0:t[dS];return null==n?null:ES.makeFromBucketSpec(n,e)}class RS{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=hS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ES.makeFromBucketSpec(r,this._host):PS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ES.makeFromBucketSpec(this._url,e):this._bucket=PS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new AS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new TS(_S());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=IS(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new xS(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const DS="@firebase/storage",OS="0.12.1",MS="storage";function LS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new RS(r,i,s,n,bs)}ps(new Ai(MS,LS,"PUBLIC").setMultipleInstances(!0)),Is(DS,OS,""),Is(DS,OS,"esm2017");class FS{constructor(e,t){this._delegate=e,this.firebase=t,ds(e,new Ai("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ss(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cs;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cs;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ds(this._delegate,e)}_addOrOverwriteComponent(e){fs(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const VS=new vi("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const US=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=_s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bi(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Is,setLogLevel:xs,onLog:ks,apps:null,SDK_VERSION:bs,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(ps(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw VS.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&ci(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bi(n,e=e||cs))throw VS.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(FS);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ci(n,e)},createSubscribe:ki,ErrorFactory:vi,deepExtend:ci}),n}(),jS=new ji("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){jS.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&jS.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const zS=US;!function(e){Is("@firebase/app-compat","0.2.27",e)}();zS.registerVersion("firebase","10.8.0","app-compat");function BS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qS(){if("undefined"===typeof Uint8Array)throw new Fd("unimplemented","Uint8Arrays are not available in this environment.")}function KS(){if("undefined"==typeof atob)throw new Fd("unimplemented","Blobs are unavailable in Firestore in this environment.")}class GS{constructor(e){this._delegate=e}static fromBase64String(e){return KS(),new GS(XE.fromBase64String(e))}static fromUint8Array(e){return qS(),new GS(XE.fromUint8Array(e))}toBase64(){return KS(),this._delegate.toBase64()}toUint8Array(){return qS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class HS{enableIndexedDbPersistence(e,t){return function(e,t){YE(e=kE(e,zE));const n=BE(e);if(n._uninitializedComponentsProvider)throw new Fd(Ld.FAILED_PRECONDITION,"SDK cache is already specified.");Pd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new J_;return KE(n,i,new X_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){YE(e=kE(e,zE));const t=BE(e);if(t._uninitializedComponentsProvider)throw new Fd(Ld.FAILED_PRECONDITION,"SDK cache is already specified.");Pd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new J_;return KE(t,r,new $_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Fd(Ld.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Vd;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!bf.D())return Promise.resolve();const t=e+"main";await bf.delete(t)}(Dw(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class QS{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Np||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Pd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};AE(this._delegate,e,t,n)}enableNetwork(){return WE(this._delegate)}disableNetwork(){return HE(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,EE("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return GE(this._delegate)}onSnapshotsInSync(e){return iS(this._delegate,e)}get app(){if(!this._appCompat)throw new Fd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cI(this,OE(this._delegate,e))}catch(t){throw eI(t,"collection()","Firestore.collection()")}}doc(e){try{return new ZS(this,ME(this._delegate,e))}catch(t){throw eI(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new sI(this,function(e,t){if(e=kE(e,NE),_E("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fd(Ld.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new PE(e,null,function(e){return new Rm(tf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eI(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=kE(e,zE);const r=Object.assign(Object.assign({},aS),n);return function(e){if(e.maxAttempts<1)throw new Fd(Ld.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Vd;return e.asyncQueue.enqueueAndForget((async()=>{const i=await pE(e);new rE(e.asyncQueue,i,n,t,r).ja()})),r.promise}(BE(e),(n=>t(new uS(e,n))),r)}(this._delegate,(t=>e(new XS(this,t))))}batch(){return BE(this._delegate),new $S(new cS(this._delegate,(e=>sS(this._delegate,e))))}loadBundle(e){return function(e,t){const n=BE(e=kE(e,zE)),r=new jE;return vE(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return QE(this._delegate,e).then((e=>e?new sI(this,e):null))}}class YS extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new GS(new XE(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ZS.forKey(t,this.firestore,null)}}class XS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new YS(e)}get(e){const t=lI(e);return this._delegate.get(t).then((e=>new rI(this._firestore,new HT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=lI(e);return n?(BS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=lI(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=lI(e);return this._delegate.delete(t),this}}class $S{constructor(e){this._delegate=e}set(e,t,n){const r=lI(e);return n?(BS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=lI(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=lI(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class JS{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new QT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iI(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=JS.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new JS(e,new YS(e),t),r.set(t,i)),i}}JS.INSTANCES=new WeakMap;class ZS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YS(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Fd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new ZS(t,new RE(t._delegate,n,new sf(e)))}static forKey(e,t,n){return new ZS(t,new RE(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new cI(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cI(this.firestore,OE(this._delegate,e))}catch(t){throw eI(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Ni(e))instanceof RE&&LE(this._delegate,e)}set(e,t){t=BS("DocumentReference.set",t);try{return t?tS(this._delegate,e,t):tS(this._delegate,e)}catch(n){throw eI(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nS(this._delegate,e):nS(this._delegate,e,t,...r)}catch(s){throw eI(s,"updateDoc()","DocumentReference.update()")}}delete(){return sS(kE((e=this._delegate).firestore,zE),[new Ug(e._key,kg.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=tI(t),i=nI(t,(e=>new rI(this.firestore,new HT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return rS(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?ZT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kE(e,RE);const t=kE(e.firestore,zE);return gE(BE(t),e._key,{source:"server"}).then((n=>oS(t,e,n)))}(this._delegate):function(e){e=kE(e,RE);const t=kE(e.firestore,zE);return gE(BE(t),e._key).then((n=>oS(t,e,n)))}(this._delegate),t.then((e=>new rI(this.firestore,new HT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new ZS(this.firestore,e?this._delegate.withConverter(JS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function eI(e,t,n){return e.message=e.message.replace(t,n),e}function tI(e){for(const t of e)if("object"===typeof t&&!WS(t))return t;return{}}function nI(e,t){var n,r;let i;return i=WS(e[0])?e[0]:WS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class rI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ZS(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $T(this._delegate,e._delegate)}}class iI extends rI{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Dd(),t}}class sI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YS(e)}where(e,t,n){try{return new sI(this.firestore,RT(this._delegate,function(e,t,n){const r=t,i=CT("where",e);return DT._create(i,r,n)}(e,t,n)))}catch(r){throw eI(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new sI(this.firestore,RT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=CT("orderBy",e);return MT._create(n,t)}(e,t)))}catch(n){throw eI(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sI(this.firestore,RT(this._delegate,(xE("limit",t=e),LT._create("limit",t,"F"))))}catch(t){throw eI(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new sI(this.firestore,RT(this._delegate,(xE("limitToLast",t=e),LT._create("limitToLast",t,"L"))))}catch(t){throw eI(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new sI(this.firestore,RT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FT._create("startAt",t,!0)}(...arguments)))}catch(e){throw eI(e,"startAt()","Query.startAt()")}}startAfter(){try{return new sI(this.firestore,RT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FT._create("startAfter",t,!1)}(...arguments)))}catch(e){throw eI(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new sI(this.firestore,RT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VT._create("endBefore",t,!1)}(...arguments)))}catch(e){throw eI(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new sI(this.firestore,RT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VT._create("endAt",t,!0)}(...arguments)))}catch(e){throw eI(e,"endAt()","Query.endAt()")}}isEqual(e){return FE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?eS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kE(e,PE);const t=kE(e.firestore,zE),n=BE(t),r=new JT(t);return yE(n,e._query,{source:"server"}).then((n=>new YT(t,r,e,n)))}(this._delegate):function(e){e=kE(e,PE);const t=kE(e.firestore,zE),n=BE(t),r=new JT(t);return NT(e._query),yE(n,e._query).then((n=>new YT(t,r,e,n)))}(this._delegate),t.then((e=>new aI(this.firestore,new YT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=tI(t),i=nI(t,(e=>new aI(this.firestore,new YT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return rS(this._delegate,r,i)}withConverter(e){return new sI(this.firestore,e?this._delegate.withConverter(JS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class oI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new iI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new sI(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new iI(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new oI(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new iI(this._firestore,n))}))}isEqual(e){return $T(this._delegate,e._delegate)}}class cI extends sI{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ZS(this.firestore,e):null}doc(e){try{return new ZS(this.firestore,void 0===e?ME(this._delegate):ME(this._delegate,e))}catch(t){throw eI(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=kE(e.firestore,zE),r=ME(e),i=KT(e.converter,t);return sS(n,[aT(oT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kg.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new ZS(this.firestore,e)))}isEqual(e){return LE(this._delegate,e._delegate)}withConverter(e){return new cI(this.firestore,e?this._delegate.withConverter(JS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function lI(e){return kE(e,RE)}class uI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new $E(...t)}static documentId(){return new uI(rf.keyField().canonicalString())}isEqual(e){return(e=Ni(e))instanceof $E&&this._delegate._internalPath.isEqual(e._internalPath)}}class hI{constructor(e){this._delegate=e}static serverTimestamp(){const e=new uT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new hI(e)}static delete(){const e=new cT("deleteField");return e._methodName="FieldValue.delete",new hI(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hT("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new hI(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dT("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new hI(e)}static increment(e){const t=new fT("increment",e);return t._methodName="FieldValue.increment",new hI(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dI={Firestore:QS,GeoPoint:ZE,Timestamp:Jd,Blob:GS,Transaction:XS,WriteBatch:$S,DocumentReference:ZS,DocumentSnapshot:rI,Query:sI,QueryDocumentSnapshot:iI,QuerySnapshot:aI,CollectionReference:cI,FieldPath:uI,FieldValue:hI,setLogLevel:function(e){var t;t=e,xd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var fI;(function(e,t){e.INTERNAL.registerComponent(new Ai("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dI)))})(fI=zS,((e,t)=>new QS(e,t,new HS))),fI.registerVersion("@firebase/firestore-compat","0.3.25");const pI=_s({apiKey:"AIzaSyA0nBQ2ldXuWYxvQUHB-YkKfWY9g5US1zY",authDomain:"deaf-community-45748.firebaseapp.com",projectId:"deaf-community-45748",storageBucket:"deaf-community-45748.appspot.com",messagingSenderId:"771007894911",appId:"1:771007894911:web:85010813628570fba5b64a",measurementId:"G-L2C73YLNFE"}),mI=(pI.firestore(),pI.auth()),gI=new pI.auth.GoogleAuthProvider,yI=(pI.storage(),"SET_USER"),vI=(e,t)=>(console.log(t),t.type===yI?{...e,user:t.user}:e);const wI=function(){const[e,t]=u();return(0,a.jsxs)("div",{className:"login",children:[(0,a.jsxs)("div",{className:"login__logo",children:[(0,a.jsx)("p",{children:"welcome"}),(0,a.jsx)("img",{className:"logo1",src:o})]}),(0,a.jsx)(ni,{type:"submit",onClick:()=>{mI.signInWithPopup(gI).then((e=>{t({type:yI,user:e.user})})).catch((e=>alert(e.message)))},children:"Sign In"})]})};var bI=n(600),_I=n.n(bI);const EI=function(){const[{user:e},t]=u();return(0,a.jsx)("div",{className:"app",children:e?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"app__body",children:[(0,a.jsx)(_I(),{}),(0,a.jsx)("p",{children:"Hi"})]})}):(0,a.jsx)(wI,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function TI(){return TI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TI.apply(this,arguments)}var SI;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(SI||(SI={}));const II="popstate";function kI(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function xI(e,t){return{usr:e.state,key:e.key,idx:t}}function CI(e,t,n,r){return void 0===n&&(n=null),TI({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?AI(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function NI(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function AI(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function PI(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=SI.Pop,c=null,l=u();function u(){return(o.state||{idx:null}).idx}function h(){a=SI.Pop;let e=u(),t=null==e?null:e-l;l=e,c&&c({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:NI(e);return kI(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==l&&(l=0,o.replaceState(TI({},o.state,{idx:l}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(II,h),c=e,()=>{i.removeEventListener(II,h),c=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=SI.Push;let r=CI(f.location,e,t);n&&n(r,e),l=u()+1;let h=xI(r,l),d=f.createHref(r);try{o.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}s&&c&&c({action:a,location:f.location,delta:1})},replace:function(e,t){a=SI.Replace;let r=CI(f.location,e,t);n&&n(r,e),l=u();let i=xI(r,l),h=f.createHref(r);o.replaceState(i,"",h),s&&c&&c({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var RI;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(RI||(RI={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function DI(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}Error;const OI=["post","put","patch","delete"],MI=(new Set(OI),["get",...OI]);new Set(MI),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function LI(){return LI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LI.apply(this,arguments)}const FI=t.createContext(null);const VI=t.createContext(null);function UI(){return null!=t.useContext(VI)}t.Component;r.startTransition;function jI(e){let{basename:n="/",children:r=null,location:i,navigationType:s=SI.Pop,navigator:o,static:a=!1,future:c}=e;UI()&&kI(!1);let l=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:l,navigator:o,static:a,future:LI({v7_relativeSplatPath:!1},c)})),[l,c,o,a]);"string"===typeof i&&(i=AI(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=DI(h,l);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:s}}),[l,h,d,f,p,m,s]);return null==g?null:t.createElement(FI.Provider,{value:u},t.createElement(VI.Provider,{children:r,value:g}))}new Promise((()=>{}));t.Component;new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const zI=r.startTransition;s.flushSync,r.useId;function BI(e){let{basename:n,children:r,future:i,window:s}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),PI((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return CI("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:NI(t)}),null,a)));let c=o.current,[l,u]=t.useState({action:c.action,location:c.location}),{v7_startTransition:h}=i||{},d=t.useCallback((e=>{h&&zI?zI((()=>u(e))):u(e)}),[u,h]);return t.useLayoutEffect((()=>c.listen(d)),[c,d]),t.createElement(jI,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:c,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var qI,KI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qI||(qI={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(KI||(KI={}));i.render((0,a.jsx)(t.StrictMode,{children:(0,a.jsx)(BI,{children:(0,a.jsx)(l,{initialState:{user:null},reducer:vI,children:(0,a.jsx)(EI,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))})()})();
//# sourceMappingURL=main.73cd57c7.js.map